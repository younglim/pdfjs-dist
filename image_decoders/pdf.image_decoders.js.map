{"version":3,"sources":["webpack://pdfjs-dist/image_decoders/pdf.image_decoders/webpack/universalModuleDefinition","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/webpack/bootstrap","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/pdf.image_decoders.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/shared/util.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/shared/compatibility.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/shared/is_node.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/jbig2.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/core_utils.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/arithmetic_decoder.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/ccitt.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/jpg.js","webpack://pdfjs-dist/image_decoders/pdf.image_decoders/src/core/jpx.js"],"names":["pdfjsVersion","pdfjsBuild","IDENTITY_MATRIX","FONT_IDENTITY_MATRIX","PermissionFlag","PRINT","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","TextRenderingMode","FILL","STROKE","FILL_STROKE","INVISIBLE","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","FILL_STROKE_MASK","ADD_TO_PATH_FLAG","ImageKind","GRAYSCALE_1BPP","RGB_24BPP","RGBA_32BPP","AnnotationType","TEXT","LINK","FREETEXT","LINE","SQUARE","CIRCLE","POLYGON","POLYLINE","HIGHLIGHT","UNDERLINE","SQUIGGLY","STRIKEOUT","STAMP","CARET","INK","POPUP","FILEATTACHMENT","SOUND","MOVIE","WIDGET","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","AnnotationStateModelType","MARKED","REVIEW","AnnotationMarkedState","UNMARKED","AnnotationReviewState","ACCEPTED","REJECTED","CANCELLED","COMPLETED","NONE","AnnotationReplyType","GROUP","REPLY","AnnotationFlag","HIDDEN","NOZOOM","NOROTATE","NOVIEW","READONLY","LOCKED","TOGGLENOVIEW","LOCKEDCONTENTS","AnnotationFieldFlag","REQUIRED","NOEXPORT","MULTILINE","PASSWORD","NOTOGGLETOOFF","RADIO","PUSHBUTTON","COMBO","EDIT","SORT","FILESELECT","MULTISELECT","DONOTSPELLCHECK","DONOTSCROLL","COMB","RICHTEXT","RADIOSINUNISON","COMMITONSELCHANGE","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","INSET","StreamType","UNKNOWN","FLATE","LZW","DCT","JPX","JBIG","A85","AHX","CCF","RLX","FontType","TYPE1","TYPE1C","CIDFONTTYPE0","CIDFONTTYPE0C","TRUETYPE","CIDFONTTYPE2","TYPE3","OPENTYPE","TYPE0","MMTYPE1","VerbosityLevel","ERRORS","WARNINGS","INFOS","CMapCompressionType","BINARY","STREAM","OPS","dependency","setLineWidth","setLineCap","setLineJoin","setMiterLimit","setDash","setRenderingIntent","setFlatness","setGState","save","restore","transform","moveTo","lineTo","curveTo","curveTo2","curveTo3","closePath","rectangle","stroke","closeStroke","fill","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","endPath","clip","eoClip","beginText","endText","setCharSpacing","setWordSpacing","setHScale","setLeading","setFont","setTextRenderingMode","setTextRise","moveText","setLeadingMoveText","setTextMatrix","nextLine","showText","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setCharWidth","setCharWidthAndBounds","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setStrokeColorN","setFillColor","setFillColorN","setStrokeGray","setFillGray","setStrokeRGBColor","setFillRGBColor","setStrokeCMYKColor","setFillCMYKColor","shadingFill","beginInlineImage","beginImageData","endInlineImage","paintXObject","markPoint","markPointProps","beginMarkedContent","beginMarkedContentProps","endMarkedContent","beginCompat","endCompat","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","endGroup","beginAnnotations","endAnnotations","beginAnnotation","endAnnotation","paintJpegXObject","paintImageMaskXObject","paintImageMaskXObjectGroup","paintImageXObject","paintInlineImageXObject","paintInlineImageXObjectGroup","paintImageXObjectRepeat","paintImageMaskXObjectRepeat","paintSolidColorImageMask","constructPath","boundingBoxes","operationPosition","UNSUPPORTED_FEATURES","unknown","forms","javaScript","smask","shadingPattern","font","errorTilingPattern","errorExtGState","errorXObject","errorFontLoadType3","errorFontState","errorFontMissing","errorFontTranslate","errorColorSpace","errorOperatorList","errorFontToUnicode","errorFontLoadNative","errorFontGetPath","PasswordResponses","NEED_PASSWORD","INCORRECT_PASSWORD","verbosity","setVerbosityLevel","level","Number","isInteger","getVerbosityLevel","info","msg","console","log","warn","unreachable","Error","assert","cond","isSameOrigin","baseUrl","otherUrl","base","URL","origin","e","other","_isValidProtocol","url","protocol","createValidAbsoluteUrl","absoluteUrl","ex","shadow","obj","prop","value","Object","defineProperty","enumerable","configurable","writable","BaseException","BaseExceptionClosure","message","constructor","name","prototype","PasswordException","code","UnknownErrorException","details","InvalidPDFException","MissingPDFException","UnexpectedResponseException","status","FormatError","AbortException","NullCharactersRegExp","removeNullCharacters","str","replace","bytesToString","bytes","length","undefined","MAX_ARGUMENT_COUNT","String","fromCharCode","apply","strBuf","i","chunkEnd","Math","min","chunk","subarray","push","join","stringToBytes","Uint8Array","charCodeAt","arrayByteLength","arr","byteLength","arraysToBytes","resultLength","pos","data","item","itemLength","set","string32","isLittleEndian","buffer8","view32","Uint32Array","buffer","IsLittleEndianCached","isEvalSupported","Function","IsEvalSupportedCached","rgbBuf","Util","makeCssRgb","r","g","b","m1","m2","applyTransform","p","m","xt","yt","applyInverseTransform","d","getAxialAlignedBoundingBox","p1","p2","slice","p3","p4","max","inverseTransform","apply3dTransform","v","singularValueDecompose2dScale","transpose","a","c","first","second","sqrt","sx","sy","normalizeRect","rect","intersect","rect1","rect2","compare","orderedX","sort","orderedY","result","PDFStringTranslateTable","stringToPDFString","charAt","stringToUTF8String","decodeURIComponent","escape","utf8StringToString","unescape","encodeURIComponent","isEmptyObj","key","isBool","isNum","isString","isArrayBuffer","isArrayEqual","arr1","arr2","every","element","index","createPromiseCapability","capability","create","isSettled","get","promise","Promise","resolve","reject","reason","createObjectURL","createObjectURLClosure","digits","contentType","forceDataSchema","blob","Blob","type","ii","b1","b2","b3","d1","d2","d3","d4","isNodeJS","process","versions","nw","electron","Jbig2Error","Jbig2Image","Jbig2ImageClosure","ContextCache","getContexts","id","Int8Array","DecodingContext","start","end","decoder","ArithmeticDecoder","contextCache","cache","decodeInteger","procedure","contexts","prev","readBits","bit","readBit","sign","decodeIAID","codeLength","SegmentTypes","CodingTemplates","x","y","RefinementTemplates","coding","reference","ReusedContexts","RefinementReusedContexts","decodeBitmapTemplate0","width","height","decodingContext","contextLabel","j","pixel","row","row1","row2","bitmap","OLD_PIXEL_MASK","decodeBitmap","mmr","templateIndex","prediction","skip","at","input","Reader","decodeMMRBitmap","useskip","template","concat","templateLength","templateX","templateY","changingTemplateEntries","reuseMask","minX","maxX","minY","k","changingEntriesLength","changingTemplateX","changingTemplateY","changingTemplateBit","Uint16Array","sbb_left","sbb_top","sbb_right","pseudoPixelContext","ltp","i0","j0","shift","sltp","decodeRefinement","referenceBitmap","offsetX","offsetY","codingTemplate","codingTemplateLength","codingTemplateX","Int32Array","codingTemplateY","referenceTemplate","referenceTemplateLength","referenceTemplateX","referenceTemplateY","referenceWidth","referenceHeight","decodeSymbolDictionary","huffman","refinement","symbols","numberOfNewSymbols","numberOfExportedSymbols","huffmanTables","refinementTemplateIndex","refinementAt","huffmanInput","newSymbols","currentHeight","symbolCodeLength","log2","tableB1","symbolWidths","getStandardTable","deltaHeight","tableDeltaHeight","decode","currentWidth","totalWidth","firstSymbol","deltaWidth","tableDeltaWidth","numberOfInstances","decodeTextRegion","symbolId","rdx","rdy","symbol","bitmapSize","tableBitmapSize","byteAlign","collectiveBitmap","readUncompressedBitmap","originalEnd","bitmapEnd","position","numberOfSymbolsDecoded","xMin","xMax","bitmapWidth","symbolBitmap","exportedSymbols","flags","currentFlag","totalSymbolsLength","runLength","defaultPixelValue","numberOfSymbolInstances","stripSize","inputSymbols","transposed","dsOffset","referenceCorner","combinationOperator","logStripSize","stripT","tableDeltaT","firstS","deltaT","deltaFirstS","tableFirstS","currentS","currentT","t","symbolIDTable","applyRefinement","symbolWidth","symbolHeight","rdw","rdh","offsetT","offsetS","s2","t2","symbolRow","maxWidth","deltaS","tableDeltaS","decodePatternDictionary","patternWidth","patternHeight","maxPatternIndex","collectiveWidth","patterns","patternBitmap","decodeHalftoneRegion","regionWidth","regionHeight","enableSkip","gridWidth","gridHeight","gridOffsetX","gridOffsetY","gridVectorX","gridVectorY","regionBitmap","numberOfPatterns","pattern0","bitsPerValue","grayScaleBitPlanes","mmrInput","mg","ng","patternIndex","patternRow","regionRow","regionX","regionY","readSegmentHeader","segmentHeader","number","readUint32","segmentType","typeName","deferredNonRetain","pageAssociationFieldSize","referredFlags","referredToCount","retainBits","referredToSegmentNumberSize","referredTo","readUint16","pageAssociation","genericRegionInfo","readRegionSegmentInformation","genericRegionSegmentFlags","RegionSegmentInformationFieldLength","genericRegionMmr","searchPatternLength","searchPattern","headerEnd","readSegments","header","segments","segment","randomAccess","processSegment","visitor","args","atLength","dictionary","dictionaryFlags","huffmanDHSelector","huffmanDWSelector","bitmapSizeSelector","aggregationInstancesSelector","bitmapCodingContextUsed","bitmapCodingContextRetained","refinementTemplate","readInt8","textRegion","textRegionSegmentFlags","textRegionHuffmanFlags","huffmanFS","huffmanDS","huffmanDT","huffmanRefinementDW","huffmanRefinementDH","huffmanRefinementDX","huffmanRefinementDY","huffmanRefinementSizeSelector","patternDictionary","patternDictionaryFlags","halftoneRegion","halftoneRegionFlags","genericRegion","pageInfo","resolutionX","resolutionY","pageSegmentFlags","lossless","requiresBuffer","combinationOperatorOverride","callbackName","processSegments","parseJbig2Chunks","chunks","SimpleSegmentVisitor","parseJbig2","numberOfPages","currentPageInfo","bitPacked","imgData","Uint8ClampedArray","q","mask","onPageInformation","SimpleSegmentVisitor_onPageInformation","rowSize","drawBitmap","SimpleSegmentVisitor_drawBitmap","regionInfo","mask0","offset0","offset","onImmediateGenericRegion","SimpleSegmentVisitor_onImmediateGenericRegion","region","onImmediateLosslessGenericRegion","SimpleSegmentVisitor_onImmediateLosslessGenericRegion","arguments","onSymbolDictionary","SimpleSegmentVisitor_onSymbolDictionary","currentSegment","referredSegments","getSymbolDictionaryHuffmanTables","customTables","referredSymbols","onImmediateTextRegion","SimpleSegmentVisitor_onImmediateTextRegion","getTextRegionHuffmanTables","onImmediateLosslessTextRegion","SimpleSegmentVisitor_onImmediateLosslessTextRegion","onPatternDictionary","onImmediateHalftoneRegion","onImmediateLosslessHalftoneRegion","onTables","decodeTablesSegment","HuffmanLine","lineData","isOOB","rangeLow","prefixLength","rangeLength","prefixCode","isLowerRange","HuffmanTreeNode","line","children","isLeaf","buildTree","node","decodeNode","reader","htOffset","HuffmanTable","lines","prefixCodesDone","assignPrefixCodes","rootNode","linesLength","prefixLengthMax","histogram","currentLength","firstCode","currentCode","currentTemp","lowestValue","highestValue","prefixSizeBits","rangeSizeBits","currentRangeLow","standardTablesCache","table","currentByte","numBits","next","getCustomHuffmanTable","currentIndex","numberOfSymbols","codes","runCodesTable","repeatedLength","numberOfRepeats","customIndex","tableAggregateInstances","endOfBlock","params","K","Columns","Rows","BlackIs1","EndOfBlock","CCITTFaxDecoder","eof","readNextChar","lookForEOFLimit","parseChunks","parse","getLookupTableFactory","initializer","lookup","MissingDataException","begin","XRefEntryException","XRefParseException","getInheritableProperty","dict","getArray","stopWhenFound","LOOP_LIMIT","loopCount","values","ROMAN_NUMBER_MAP","toRomanNumerals","lowerCase","romanBuf","romanStr","toLowerCase","ceil","isWhiteSpace","ch","QeTable","qe","nmps","nlps","switchFlag","bp","dataEnd","chigh","clow","byteIn","ct","cx_index","cx_mps","qeTableIcx","qeIcx","ccittEOL","ccittEOF","twoDimPass","twoDimHoriz","twoDimVert0","twoDimVertR1","twoDimVertL1","twoDimVertR2","twoDimVertL2","twoDimVertR3","twoDimVertL3","twoDimTable","whiteTable1","whiteTable2","blackTable1","blackTable2","blackTable3","source","options","encoding","eoline","EndOfLine","EncodedByteAlign","columns","rows","eoblock","black","codingLine","refLine","codingPos","nextLine2D","inputBits","inputBuf","outputBits","rowsDone","code1","_lookBits","_eatBits","refPos","blackPixels","bits","err","code2","code3","_getTwoDimCode","_addPixels","_getBlackCode","_getWhiteCode","_addPixelsNeg","gotEOL","a1","_findTableCode","limit","limitValue","n","JpegError","DNLMarkerError","scanLines","EOIMarkerError","JpegImage","JpegImageClosure","dctZigZag","dctCos1","dctSin1","dctCos3","dctSin3","dctCos6","dctSin6","dctSqrt2","dctSqrt1d2","decodeTransform","colorTransform","_decodeTransform","_colorTransform","buildHuffmanTable","codeLengths","pop","getBlockBufferOffset","component","col","blocksPerLine","decodeScan","frame","components","resetInterval","spectralStart","spectralEnd","successivePrev","successive","parseDNLMarker","mcusPerLine","progressive","startOffset","bitsData","bitsCount","nextByte","maybeScanLines","blockRow","toString","decodeHuffman","tree","receive","receiveAndExtend","decodeBaseline","blockOffset","huffmanTableDC","diff","blockData","pred","rs","huffmanTableAC","s","z","decodeDCFirst","decodeDCSuccessive","eobrun","decodeACFirst","successiveACState","successiveACNextValue","decodeACSuccessive","offsetZ","decodeMcu","mcu","mcuRow","mcuCol","blockCol","h","decodeBlock","componentsLength","decodeFn","fileMarker","mcuExpected","blocksPerColumn","mcusPerColumn","mcuToRead","findNextFileMarker","invalid","partialMsg","marker","quantizeAndInverse","blockBufferOffset","qt","quantizationTable","v0","v1","v2","v3","v4","v5","v6","v7","p0","p5","p6","p7","buildComponentData","computationBuffer","Int16Array","currentPos","startPos","maxPos","newPos","currentMarker","newMarker","dnlScanLines","readDataBlock","endOffset","array","prepareComponents","samplesPerLine","maxH","maxV","blocksPerLineForMcu","blocksPerColumnForMcu","blocksBufferSize","jfif","adobe","numSOSMarkers","quantizationTables","huffmanTablesAC","huffmanTablesDC","markerLoop","l","appData","version","major","minor","densityUnits","xDensity","yDensity","thumbWidth","thumbHeight","thumbData","flags0","flags1","transformCode","quantizationTablesLength","quantizationTablesEnd","quantizationTableSpec","tableData","extended","precision","sofScanLines","componentIds","componentsCount","componentId","qId","quantizationId","huffmanLength","huffmanTableSpec","codeLengthSum","huffmanValues","selectorsCount","componentIndex","tableSpec","successiveApproximation","processed","nextFileMarker","output","scaleX","scaleY","numComponents","_getLinearizedBlockData","isSourcePDF","componentScaleX","componentScaleY","blocksPerScanline","dataLength","xScaleBlockOffset","mask3LSB","lastComponentScaleX","_isColorConversionNeeded","_convertYccToRgb","convertYccToRgb","Y","Cb","Cr","_convertYcckToRgb","convertYcckToRgb","_convertYcckToCmyk","convertYcckToCmyk","_convertCmykToRgb","convertCmykToRgb","getData","forceRGB","rgbData","grayColor","JpxError","JpxImage","JpxImageClosure","SubbandsGainLog2","LL","LH","HL","HH","failOnCorruptedImage","JpxImage_parse","head","parseCodestream","headerSize","lbox","tbox","jumpDataLength","method","colorspace","headerType","parseImageProperties","JpxImage_parseImageProperties","stream","newByte","getByte","oldByte","Xsiz","getInt32","Ysiz","XOsiz","YOsiz","Csiz","getUint16","bitsPerComponent","JpxImage_parseCodestream","context","doNotRecover","sqcd","spqcds","spqcdSize","scalarExpounded","tile","mainHeader","siz","XTsiz","YTsiz","XTOsiz","YTOsiz","isSigned","XRsiz","YRsiz","calculateComponentDimensions","SIZ","calculateTileGrids","QCC","COC","qcd","noQuantization","guardBits","spqcd","epsilon","mu","SPqcds","QCD","currentTile","qcc","cqcc","cod","scod","entropyCoderWithCustomPrecincts","sopMarkerUsed","ephMarkerUsed","progressionOrder","layersCount","multipleComponentTransform","decompositionLevelsCount","xcb","ycb","blockStyle","selectiveArithmeticCodingBypass","resetContextProbabilities","terminationOnEachCodingPass","verticallyStripe","predictableTermination","segmentationSymbolUsed","reversibleTransformation","precinctsSizes","precinctsSize","PPx","PPy","unsupported","COD","partIndex","partsCount","initializeTile","buildPackets","parseTilePackets","tiles","transformComponents","x0","x1","y0","y1","numXtiles","numYtiles","tx0","ty0","tx1","ty1","jj","tileComponent","tcx0","tcy0","tcx1","tcy1","getBlocksDimensions","codOrCoc","codingStyleParameters","xcb_","ycb_","buildPrecincts","resolution","dimensions","precinctWidth","precinctHeight","isZeroRes","resLevel","precinctWidthInSubband","precinctHeightInSubband","numprecinctswide","trx1","trx0","floor","numprecinctshigh","try1","try0","numprecincts","precinctParameters","buildCodeblocks","subband","codeblockWidth","codeblockHeight","cbx0","tbx0","cby0","tby0","cbx1","tbx1","cby1","tby1","codeblocks","precincts","codeblock","precinctNumber","cbx","cby","tbx0_","tby0_","tbx1_","tby1_","pi","pj","subbandType","Lblock","precinct","cbxMin","cbxMax","cbyMin","cbyMax","codeblockParameters","numcodeblockwide","numcodeblockhigh","createPacket","layerNumber","precinctCodeblocks","subbands","LayerResolutionComponentPositionIterator","tileIndex","codingStyleDefaultParameters","maxDecompositionLevelsCount","nextPacket","JpxImage_nextPacket","resolutions","packet","ResolutionLayerComponentPositionIterator","ResolutionPositionComponentLayerIterator","maxNumPrecinctsInLevel","maxNumPrecincts","PositionComponentResolutionLayerIterator","getPrecinctSizesInImageScale","precinctsIterationSizes","px","py","maxNumHigh","maxNumWide","sizeInImageScale","getPrecinctIndexIfExist","ComponentPositionResolutionLayerIterator","pxIndex","pyIndex","precinctIterationSizes","posX","minWidth","posY","minHeight","startPrecinctRowIndex","MAX_VALUE","sizePerComponent","Array","sizePerResolution","minWidthCurrentComponent","minHeightCurrentComponent","maxNumWideCurrentComponent","maxNumHighCurrentComponent","scale","widthCurrentResolution","heightCurrentResolution","blocksDimensions","bscale","resolutionSubbands","packetsIterator","bufferSize","skipNextBit","count","skipMarkerIfEqual","skipBytes","alignToByte","readCodingpasses","queue","codeblockColumn","codeblockRow","codeblockIncluded","firstTimeInclusion","valueReady","included","inclusionTree","zeroBitPlanesTree","InclusionTree","TagTree","reset","nextLevel","incrementValue","zeroBitPlanes","codingpasses","codingpassesLog2","codedDataLength","packetItem","copyCoefficients","coefficients","levelWidth","levelHeight","delta","mb","reversible","right","bottom","blockWidth","blockHeight","bitModel","currentCodingpassType","BitModel","totalLength","dataItem","encodedData","setDecoder","runSignificancePropagationPass","runMagnitudeRefinementPass","runCleanupPass","checkSegmentationSymbol","coefficentsSign","magnitude","coefficentsMagnitude","bitsDecoded","magnitudeCorrection","nb","interleave","levelOffset","transformTile","quantizationParameters","ReversibleTransform","IrreversibleTransform","subbandCoefficients","Float32Array","gainLog2","items","calculate","left","top","resultImages","transformedTiles","tile0","out","y2","fourComponents","y0items","y1items","y2items","y3items","component0","alpha01","qcdOrQcc","TagTreeClosure","levelsLength","levels","TagTree_reset","currentLevel","TagTree_incrementValue","TagTree_nextLevel","InclusionTreeClosure","defaultValue","InclusionTree_reset","stopValue","propagateValues","InclusionTree_incrementValue","InclusionTree_propagateValues","levelIndex","currentValue","InclusionTree_nextLevel","BitModelClosure","UNIFORM_CONTEXT","RUNLENGTH_CONTEXT","LLAndLHContextsLabel","HLContextLabel","HHContextLabel","contextLabelTable","coefficientCount","neighborsSignificance","processingFlags","BitModel_setDecoder","BitModel_reset","setNeighborsSignificance","BitModel_setNeighborsSignificance","column","BitModel_runSignificancePropagationPass","labels","processedInverseMask","processedMask","firstMagnitudeBitMask","i1","decision","decodeSignBit","BitModel_decodeSignBit","contribution","sign0","sign1","significance1","decoded","horizontalContribution","BitModel_runMagnitudeRefinementPass","width4","index0","indexNext","significance","BitModel_runCleanupPass","oneRowDown","twoRowsDown","threeRowsDown","iNext","indexBase","checkAllEmpty","allEmpty","hasSignificantCoefficent","i2","BitModel_checkSegmentationSymbol","Transform","TransformClosure","transformCalculate","u0","ll","iterate","extend","size","j1","j2","Transform_iterate","hl_lh_hh","llWidth","llHeight","llItems","u","bufferPadding","rowBuffer","filter","numBuffers","colBuffers","currentBuffer","IrreversibleTransformClosure","call","irreversibleTransformFilter","len","current","alpha","beta","gamma","K_","ReversibleTransformClosure","reversibleTransformFilter"],"mappings":"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","file":"pdf.image_decoders.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"pdfjs-dist/image_decoders/pdf.image_decoders\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pdfjs-dist/image_decoders/pdf.image_decoders\"] = factory();\n\telse\n\t\troot[\"pdfjs-dist/image_decoders/pdf.image_decoders\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __w_pdfjs_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __w_pdfjs_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__w_pdfjs_require__.m = modules;\n\n \t// expose the module cache\n \t__w_pdfjs_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__w_pdfjs_require__.d = function(exports, name, getter) {\n \t\tif(!__w_pdfjs_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__w_pdfjs_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__w_pdfjs_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __w_pdfjs_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__w_pdfjs_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __w_pdfjs_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__w_pdfjs_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__w_pdfjs_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__w_pdfjs_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__w_pdfjs_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __w_pdfjs_require__(__w_pdfjs_require__.s = 0);\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getVerbosityLevel, setVerbosityLevel } from \"./shared/util.js\";\nimport { Jbig2mage } from \"./core/jbig2.js\";\nimport { JpegImage } from \"./core/jpg.js\";\nimport { JpxImage } from \"./core/jpx.js\";\n\n// To ensure that the standalone PDF.js image decoders have the same\n// browser/environment compatibility as the regular PDF.js library,\n// the standard set of polyfills are thus included in this build as well.\n//\n// Given that the (current) image decoders don't use all of the features\n// of the complete PDF.js library, e.g. they are completely synchronous,\n// some of the larger polyfills are thus unnecessary.\n//\n// In an attempt to reduce the size of the standalone PDF.js image decoders,\n// the following polyfills are currently being excluded:\n//  - ReadableStream\n//  - Promise\n//  - URL\n\n// eslint-disable-next-line no-unused-vars\nconst pdfjsVersion = PDFJSDev.eval(\"BUNDLE_VERSION\");\n// eslint-disable-next-line no-unused-vars\nconst pdfjsBuild = PDFJSDev.eval(\"BUNDLE_BUILD\");\n\nexport { Jbig2mage, JpegImage, JpxImage, getVerbosityLevel, setVerbosityLevel };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport \"./compatibility.js\";\n\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\n\n// Permission flags from Table 22, Section 7.6.3.2 of the PDF specification.\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800,\n};\n\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4,\n};\n\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3,\n};\n\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26,\n};\n\nconst AnnotationStateModelType = {\n  MARKED: \"Marked\",\n  REVIEW: \"Review\",\n};\n\nconst AnnotationMarkedState = {\n  MARKED: \"Marked\",\n  UNMARKED: \"Unmarked\",\n};\n\nconst AnnotationReviewState = {\n  ACCEPTED: \"Accepted\",\n  REJECTED: \"Rejected\",\n  CANCELLED: \"Cancelled\",\n  COMPLETED: \"Completed\",\n  NONE: \"None\",\n};\n\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\",\n};\n\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200,\n};\n\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000,\n};\n\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5,\n};\n\nconst StreamType = {\n  UNKNOWN: \"UNKNOWN\",\n  FLATE: \"FLATE\",\n  LZW: \"LZW\",\n  DCT: \"DCT\",\n  JPX: \"JPX\",\n  JBIG: \"JBIG\",\n  A85: \"A85\",\n  AHX: \"AHX\",\n  CCF: \"CCF\",\n  RLX: \"RLX\", // PDF short name is 'RL', but telemetry requires three chars.\n};\n\nconst FontType = {\n  UNKNOWN: \"UNKNOWN\",\n  TYPE1: \"TYPE1\",\n  TYPE1C: \"TYPE1C\",\n  CIDFONTTYPE0: \"CIDFONTTYPE0\",\n  CIDFONTTYPE0C: \"CIDFONTTYPE0C\",\n  TRUETYPE: \"TRUETYPE\",\n  CIDFONTTYPE2: \"CIDFONTTYPE2\",\n  TYPE3: \"TYPE3\",\n  OPENTYPE: \"OPENTYPE\",\n  TYPE0: \"TYPE0\",\n  MMTYPE1: \"MMTYPE1\",\n};\n\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5,\n};\n\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1,\n  STREAM: 2,\n};\n\n// All the possible operations for an operator list.\nconst OPS = {\n  // Intentionally start from 1 so it is easy to spot bad operators that will be\n  // 0's.\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotations: 78,\n  endAnnotations: 79,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintJpegXObject: 82,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91,\n  boundingBoxes: 100,\n  operationPosition: 101\n};\n\nconst UNSUPPORTED_FEATURES = {\n  /** @deprecated unused */\n  unknown: \"unknown\",\n  forms: \"forms\",\n  javaScript: \"javaScript\",\n  smask: \"smask\",\n  shadingPattern: \"shadingPattern\",\n  /** @deprecated unused */\n  font: \"font\",\n  errorTilingPattern: \"errorTilingPattern\",\n  errorExtGState: \"errorExtGState\",\n  errorXObject: \"errorXObject\",\n  errorFontLoadType3: \"errorFontLoadType3\",\n  errorFontState: \"errorFontState\",\n  errorFontMissing: \"errorFontMissing\",\n  errorFontTranslate: \"errorFontTranslate\",\n  errorColorSpace: \"errorColorSpace\",\n  errorOperatorList: \"errorOperatorList\",\n  errorFontToUnicode: \"errorFontToUnicode\",\n  errorFontLoadNative: \"errorFontLoadNative\",\n  errorFontGetPath: \"errorFontGetPath\",\n};\n\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2,\n};\n\nlet verbosity = VerbosityLevel.WARNINGS;\n\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\n\nfunction getVerbosityLevel() {\n  return verbosity;\n}\n\n// A notice for devs. These are good for things that are helpful to devs, such\n// as warning that Workers were disabled, which is important to devs but not\n// end users.\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\n\n// Non-fatal warnings.\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\n\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\n\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\n\n// Checks if URLs have the same origin. For non-HTTP based URLs, returns false.\nfunction isSameOrigin(baseUrl, otherUrl) {\n  let base;\n  try {\n    base = new URL(baseUrl);\n    if (!base.origin || base.origin === \"null\") {\n      return false; // non-HTTP url\n    }\n  } catch (e) {\n    return false;\n  }\n\n  const other = new URL(otherUrl, base);\n  return base.origin === other.origin;\n}\n\n// Checks if URLs use one of the whitelisted protocols, e.g. to avoid XSS.\nfunction _isValidProtocol(url) {\n  if (!url) {\n    return false;\n  }\n  switch (url.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Attempts to create a valid absolute URL.\n *\n * @param {URL|string} url - An absolute, or relative, URL.\n * @param {URL|string} baseUrl - An absolute URL.\n * @returns Either a valid {URL}, or `null` otherwise.\n */\nfunction createValidAbsoluteUrl(url, baseUrl) {\n  if (!url) {\n    return null;\n  }\n  try {\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch (ex) {\n    /* `new URL()` will throw on incorrect data. */\n  }\n  return null;\n}\n\nfunction shadow(obj, prop, value) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: true,\n    configurable: true,\n    writable: false,\n  });\n  return value;\n}\n\nconst BaseException = (function BaseExceptionClosure() {\n  // eslint-disable-next-line no-shadow\n  function BaseException(message) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = this.constructor.name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n\n  return BaseException;\n})();\n\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg);\n    this.code = code;\n  }\n}\n\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg);\n    this.details = details;\n  }\n}\n\nclass InvalidPDFException extends BaseException {}\n\nclass MissingPDFException extends BaseException {}\n\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg);\n    this.status = status;\n  }\n}\n\n/**\n * Error caused during parsing PDF data.\n */\nclass FormatError extends BaseException {}\n\n/**\n * Error used to indicate task cancellation.\n */\nclass AbortException extends BaseException {}\n\nconst NullCharactersRegExp = /\\x00/g;\n\nfunction removeNullCharacters(str) {\n  if (typeof str !== \"string\") {\n    warn(\"The argument for removeNullCharacters must be a string.\");\n    return str;\n  }\n  return str.replace(NullCharactersRegExp, \"\");\n}\n\nfunction bytesToString(bytes) {\n  assert(\n    bytes !== null && typeof bytes === \"object\" && bytes.length !== undefined,\n    \"Invalid argument for bytesToString\"\n  );\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToBytes(str) {\n  assert(typeof str === \"string\", \"Invalid argument for stringToBytes\");\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\n\n/**\n * Gets length of the array (Array, Uint8Array, or string) in bytes.\n * @param {Array|Uint8Array|string} arr\n * @returns {number}\n */\nfunction arrayByteLength(arr) {\n  if (arr.length !== undefined) {\n    return arr.length;\n  }\n  assert(arr.byteLength !== undefined, \"arrayByteLength - invalid argument.\");\n  return arr.byteLength;\n}\n\n/**\n * Combines array items (arrays) into single Uint8Array object.\n * @param {Array} arr - the array of the arrays (Array, Uint8Array, or string).\n * @returns {Uint8Array}\n */\nfunction arraysToBytes(arr) {\n  const length = arr.length;\n  // Shortcut: if first and only item is Uint8Array, return it.\n  if (length === 1 && arr[0] instanceof Uint8Array) {\n    return arr[0];\n  }\n  let resultLength = 0;\n  for (let i = 0; i < length; i++) {\n    resultLength += arrayByteLength(arr[i]);\n  }\n  let pos = 0;\n  const data = new Uint8Array(resultLength);\n  for (let i = 0; i < length; i++) {\n    let item = arr[i];\n    if (!(item instanceof Uint8Array)) {\n      if (typeof item === \"string\") {\n        item = stringToBytes(item);\n      } else {\n        item = new Uint8Array(item);\n      }\n    }\n    const itemLength = item.byteLength;\n    data.set(item, pos);\n    pos += itemLength;\n  }\n  return data;\n}\n\nfunction string32(value) {\n  return String.fromCharCode(\n    (value >> 24) & 0xff,\n    (value >> 16) & 0xff,\n    (value >> 8) & 0xff,\n    value & 0xff\n  );\n}\n\n// Checks the endianness of the platform.\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nconst IsLittleEndianCached = {\n  get value() {\n    return shadow(this, \"value\", isLittleEndian());\n  },\n};\n\n// Checks if it's possible to eval JS expressions.\nfunction isEvalSupported() {\n  try {\n    new Function(\"\"); // eslint-disable-line no-new, no-new-func\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nconst IsEvalSupportedCached = {\n  get value() {\n    return shadow(this, \"value\", isEvalSupported());\n  },\n};\n\nconst rgbBuf = [\"rgb(\", 0, \",\", 0, \",\", 0, \")\"];\n\nclass Util {\n  // makeCssRgb() can be called thousands of times. Using ´rgbBuf` avoids\n  // creating many intermediate strings.\n  static makeCssRgb(r, g, b) {\n    rgbBuf[1] = r;\n    rgbBuf[3] = g;\n    rgbBuf[5] = b;\n    return rgbBuf.join(\"\");\n  }\n\n  // Concatenates two transformation matrices together and returns the result.\n  static transform(m1, m2) {\n    return [\n      m1[0] * m2[0] + m1[2] * m2[1],\n      m1[1] * m2[0] + m1[3] * m2[1],\n      m1[0] * m2[2] + m1[2] * m2[3],\n      m1[1] * m2[2] + m1[3] * m2[3],\n      m1[0] * m2[4] + m1[2] * m2[5] + m1[4],\n      m1[1] * m2[4] + m1[3] * m2[5] + m1[5],\n    ];\n  }\n\n  // For 2d affine transforms\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n\n  // Applies the transform to the rectangle and finds the minimum axially\n  // aligned bounding box.\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = Util.applyTransform(r, m);\n    const p2 = Util.applyTransform(r.slice(2, 4), m);\n    const p3 = Util.applyTransform([r[0], r[3]], m);\n    const p4 = Util.applyTransform([r[2], r[1]], m);\n    return [\n      Math.min(p1[0], p2[0], p3[0], p4[0]),\n      Math.min(p1[1], p2[1], p3[1], p4[1]),\n      Math.max(p1[0], p2[0], p3[0], p4[0]),\n      Math.max(p1[1], p2[1], p3[1], p4[1]),\n    ];\n  }\n\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [\n      m[3] / d,\n      -m[1] / d,\n      -m[2] / d,\n      m[0] / d,\n      (m[2] * m[5] - m[4] * m[3]) / d,\n      (m[4] * m[1] - m[5] * m[0]) / d,\n    ];\n  }\n\n  // Apply a generic 3d matrix M on a 3-vector v:\n  //   | a b c |   | X |\n  //   | d e f | x | Y |\n  //   | g h i |   | Z |\n  // M is assumed to be serialized as [a,b,c,d,e,f,g,h,i],\n  // with v as [X,Y,Z]\n  static apply3dTransform(m, v) {\n    return [\n      m[0] * v[0] + m[1] * v[1] + m[2] * v[2],\n      m[3] * v[0] + m[4] * v[1] + m[5] * v[2],\n      m[6] * v[0] + m[7] * v[1] + m[8] * v[2],\n    ];\n  }\n\n  // This calculation uses Singular Value Decomposition.\n  // The SVD can be represented with formula A = USV. We are interested in the\n  // matrix S here because it represents the scale values.\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n\n    // Multiply matrix m with its transpose.\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n\n    // Solve the second degree polynomial to get roots.\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) * (a + d) - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n\n    // Scale values are the square roots of the eigenvalues.\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n\n  // Normalize rectangle rect=[x1, y1, x2, y2] so that (x1,y1) < (x2,y2)\n  // For coordinate systems whose origin lies in the bottom-left, this\n  // means normalization to (BL,TR) ordering. For systems with origin in the\n  // top-left, this means (TL,BR) ordering.\n  static normalizeRect(rect) {\n    const r = rect.slice(0); // clone rect\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n\n  // Returns a rectangle [x1, y1, x2, y2] corresponding to the\n  // intersection of rect1 and rect2. If no intersection, returns 'false'\n  // The rectangle coordinates of rect1, rect2 should be [x1, y1, x2, y2]\n  static intersect(rect1, rect2) {\n    function compare(a, b) {\n      return a - b;\n    }\n\n    // Order points along the axes\n    const orderedX = [rect1[0], rect1[2], rect2[0], rect2[2]].sort(compare);\n    const orderedY = [rect1[1], rect1[3], rect2[1], rect2[3]].sort(compare);\n    const result = [];\n\n    rect1 = Util.normalizeRect(rect1);\n    rect2 = Util.normalizeRect(rect2);\n\n    // X: first and second points belong to different rectangles?\n    if (\n      (orderedX[0] === rect1[0] && orderedX[1] === rect2[0]) ||\n      (orderedX[0] === rect2[0] && orderedX[1] === rect1[0])\n    ) {\n      // Intersection must be between second and third points\n      result[0] = orderedX[1];\n      result[2] = orderedX[2];\n    } else {\n      return null;\n    }\n\n    // Y: first and second points belong to different rectangles?\n    if (\n      (orderedY[0] === rect1[1] && orderedY[1] === rect2[1]) ||\n      (orderedY[0] === rect2[1] && orderedY[1] === rect1[1])\n    ) {\n      // Intersection must be between second and third points\n      result[1] = orderedY[1];\n      result[3] = orderedY[2];\n    } else {\n      return null;\n    }\n\n    return result;\n  }\n}\n\n// prettier-ignore\nconst PDFStringTranslateTable = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0x2D8, 0x2C7, 0x2C6, 0x2D9, 0x2DD, 0x2DB, 0x2DA, 0x2DC, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014,\n  0x2013, 0x192, 0x2044, 0x2039, 0x203A, 0x2212, 0x2030, 0x201E, 0x201C,\n  0x201D, 0x2018, 0x2019, 0x201A, 0x2122, 0xFB01, 0xFB02, 0x141, 0x152, 0x160,\n  0x178, 0x17D, 0x131, 0x142, 0x153, 0x161, 0x17E, 0, 0x20AC\n];\n\nfunction stringToPDFString(str) {\n  const length = str.length,\n    strBuf = [];\n  if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n    // UTF16BE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i) << 8) | str.charCodeAt(i + 1))\n      );\n    }\n  } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n    // UTF16LE BOM\n    for (let i = 2; i < length; i += 2) {\n      strBuf.push(\n        String.fromCharCode((str.charCodeAt(i + 1) << 8) | str.charCodeAt(i))\n      );\n    }\n  } else {\n    for (let i = 0; i < length; ++i) {\n      const code = PDFStringTranslateTable[str.charCodeAt(i)];\n      strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n    }\n  }\n  return strBuf.join(\"\");\n}\n\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\n\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\n\nfunction isEmptyObj(obj) {\n  for (const key in obj) {\n    return false;\n  }\n  return true;\n}\n\nfunction isBool(v) {\n  return typeof v === \"boolean\";\n}\n\nfunction isNum(v) {\n  return typeof v === \"number\";\n}\n\nfunction isString(v) {\n  return typeof v === \"string\";\n}\n\nfunction isArrayBuffer(v) {\n  return typeof v === \"object\" && v !== null && v.byteLength !== undefined;\n}\n\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  return arr1.every(function (element, index) {\n    return element === arr2[index];\n  });\n}\n\n/**\n * Promise Capability object.\n *\n * @typedef {Object} PromiseCapability\n * @property {Promise} promise - A Promise object.\n * @property {boolean} settled - If the Promise has been fulfilled/rejected.\n * @property {function} resolve - Fulfills the Promise.\n * @property {function} reject - Rejects the Promise.\n */\n\n/**\n * Creates a promise capability object.\n * @alias createPromiseCapability\n *\n * @returns {PromiseCapability}\n */\nfunction createPromiseCapability() {\n  const capability = Object.create(null);\n  let isSettled = false;\n\n  Object.defineProperty(capability, \"settled\", {\n    get() {\n      return isSettled;\n    },\n  });\n  capability.promise = new Promise(function (resolve, reject) {\n    capability.resolve = function (data) {\n      isSettled = true;\n      resolve(data);\n    };\n    capability.reject = function (reason) {\n      isSettled = true;\n      reject(reason);\n    };\n  });\n  return capability;\n}\n\nconst createObjectURL = (function createObjectURLClosure() {\n  // Blob/createObjectURL is not available, falling back to data schema.\n  const digits =\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\n  // eslint-disable-next-line no-shadow\n  return function createObjectURL(data, contentType, forceDataSchema = false) {\n    if (!forceDataSchema && URL.createObjectURL) {\n      const blob = new Blob([data], { type: contentType });\n      return URL.createObjectURL(blob);\n    }\n\n    let buffer = `data:${contentType};base64,`;\n    for (let i = 0, ii = data.length; i < ii; i += 3) {\n      const b1 = data[i] & 0xff;\n      const b2 = data[i + 1] & 0xff;\n      const b3 = data[i + 2] & 0xff;\n      const d1 = b1 >> 2,\n        d2 = ((b1 & 3) << 4) | (b2 >> 4);\n      const d3 = i + 1 < ii ? ((b2 & 0xf) << 2) | (b3 >> 6) : 64;\n      const d4 = i + 2 < ii ? b3 & 0x3f : 64;\n      buffer += digits[d1] + digits[d2] + digits[d3] + digits[d4];\n    }\n    return buffer;\n  };\n})();\n\nexport {\n  BaseException,\n  FONT_IDENTITY_MATRIX,\n  IDENTITY_MATRIX,\n  OPS,\n  VerbosityLevel,\n  UNSUPPORTED_FEATURES,\n  AnnotationBorderStyleType,\n  AnnotationFieldFlag,\n  AnnotationFlag,\n  AnnotationMarkedState,\n  AnnotationReplyType,\n  AnnotationReviewState,\n  AnnotationStateModelType,\n  AnnotationType,\n  FontType,\n  ImageKind,\n  CMapCompressionType,\n  AbortException,\n  InvalidPDFException,\n  MissingPDFException,\n  PasswordException,\n  PasswordResponses,\n  PermissionFlag,\n  StreamType,\n  TextRenderingMode,\n  UnexpectedResponseException,\n  UnknownErrorException,\n  Util,\n  FormatError,\n  arrayByteLength,\n  arraysToBytes,\n  assert,\n  bytesToString,\n  createPromiseCapability,\n  createObjectURL,\n  getVerbosityLevel,\n  info,\n  isArrayBuffer,\n  isArrayEqual,\n  isBool,\n  isEmptyObj,\n  isNum,\n  isString,\n  isSameOrigin,\n  createValidAbsoluteUrl,\n  IsLittleEndianCached,\n  IsEvalSupportedCached,\n  removeNullCharacters,\n  setVerbosityLevel,\n  shadow,\n  string32,\n  stringToBytes,\n  stringToPDFString,\n  stringToUTF8String,\n  utf8StringToString,\n  warn,\n  unreachable,\n};\n","/* Copyright 2017 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport { isNodeJS } from \"./is_node.js\";\n\n// Skip compatibility checks for modern builds and if we already ran the module.\nif (\n  (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"SKIP_BABEL\")) &&\n  (typeof globalThis === \"undefined\" || !globalThis._pdfjsCompatibilityChecked)\n) {\n  // Provides support for globalThis in legacy browsers.\n  // Support: IE11/Edge, Opera\n  if (typeof globalThis === \"undefined\" || globalThis.Math !== Math) {\n    // eslint-disable-next-line no-global-assign\n    globalThis = require(\"core-js/es/global-this\");\n  }\n  globalThis._pdfjsCompatibilityChecked = true;\n\n  const hasDOM = typeof window === \"object\" && typeof document === \"object\";\n  const userAgent =\n    (typeof navigator !== \"undefined\" && navigator.userAgent) || \"\";\n  const isIE = /Trident/.test(userAgent);\n\n  // Support: Node.js\n  (function checkNodeBtoa() {\n    if (globalThis.btoa || !isNodeJS) {\n      return;\n    }\n    globalThis.btoa = function (chars) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(chars, \"binary\").toString(\"base64\");\n    };\n  })();\n\n  // Support: Node.js\n  (function checkNodeAtob() {\n    if (globalThis.atob || !isNodeJS) {\n      return;\n    }\n    globalThis.atob = function (input) {\n      // eslint-disable-next-line no-undef\n      return Buffer.from(input, \"base64\").toString(\"binary\");\n    };\n  })();\n\n  // Provides support for ChildNode.remove in legacy browsers.\n  // Support: IE.\n  (function checkChildNodeRemove() {\n    if (!hasDOM) {\n      return;\n    }\n    if (typeof Element.prototype.remove !== \"undefined\") {\n      return;\n    }\n    Element.prototype.remove = function () {\n      if (this.parentNode) {\n        // eslint-disable-next-line mozilla/avoid-removeChild\n        this.parentNode.removeChild(this);\n      }\n    };\n  })();\n\n  // Provides support for DOMTokenList.prototype.{add, remove}, with more than\n  // one parameter, in legacy browsers.\n  // Support: IE\n  (function checkDOMTokenListAddRemove() {\n    if (!hasDOM || isNodeJS) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    div.classList.add(\"testOne\", \"testTwo\");\n\n    if (\n      div.classList.contains(\"testOne\") === true &&\n      div.classList.contains(\"testTwo\") === true\n    ) {\n      return;\n    }\n    const OriginalDOMTokenListAdd = DOMTokenList.prototype.add;\n    const OriginalDOMTokenListRemove = DOMTokenList.prototype.remove;\n\n    DOMTokenList.prototype.add = function (...tokens) {\n      for (const token of tokens) {\n        OriginalDOMTokenListAdd.call(this, token);\n      }\n    };\n    DOMTokenList.prototype.remove = function (...tokens) {\n      for (const token of tokens) {\n        OriginalDOMTokenListRemove.call(this, token);\n      }\n    };\n  })();\n\n  // Provides support for DOMTokenList.prototype.toggle, with the optional\n  // \"force\" parameter, in legacy browsers.\n  // Support: IE\n  (function checkDOMTokenListToggle() {\n    if (!hasDOM || isNodeJS) {\n      return;\n    }\n    const div = document.createElement(\"div\");\n    if (div.classList.toggle(\"test\", 0) === false) {\n      return;\n    }\n\n    DOMTokenList.prototype.toggle = function (token) {\n      const force =\n        arguments.length > 1 ? !!arguments[1] : !this.contains(token);\n      return this[force ? \"add\" : \"remove\"](token), force;\n    };\n  })();\n\n  // Provides support for window.history.{pushState, replaceState}, with the\n  // `url` parameter set to `undefined`, without breaking the document URL.\n  // Support: IE\n  (function checkWindowHistoryPushStateReplaceState() {\n    if (!hasDOM || !isIE) {\n      return;\n    }\n    const OriginalPushState = window.history.pushState;\n    const OriginalReplaceState = window.history.replaceState;\n\n    window.history.pushState = function (state, title, url) {\n      const args = url === undefined ? [state, title] : [state, title, url];\n      OriginalPushState.apply(this, args);\n    };\n    window.history.replaceState = function (state, title, url) {\n      const args = url === undefined ? [state, title] : [state, title, url];\n      OriginalReplaceState.apply(this, args);\n    };\n  })();\n\n  // Provides support for String.prototype.startsWith in legacy browsers.\n  // Support: IE, Chrome<41\n  (function checkStringStartsWith() {\n    if (String.prototype.startsWith) {\n      return;\n    }\n    require(\"core-js/es/string/starts-with.js\");\n  })();\n\n  // Provides support for String.prototype.endsWith in legacy browsers.\n  // Support: IE, Chrome<41\n  (function checkStringEndsWith() {\n    if (String.prototype.endsWith) {\n      return;\n    }\n    require(\"core-js/es/string/ends-with.js\");\n  })();\n\n  // Provides support for String.prototype.includes in legacy browsers.\n  // Support: IE, Chrome<41\n  (function checkStringIncludes() {\n    if (String.prototype.includes) {\n      return;\n    }\n    require(\"core-js/es/string/includes.js\");\n  })();\n\n  // Provides support for Array.prototype.includes in legacy browsers.\n  // Support: IE, Chrome<47\n  (function checkArrayIncludes() {\n    if (Array.prototype.includes) {\n      return;\n    }\n    require(\"core-js/es/array/includes.js\");\n  })();\n\n  // Provides support for Array.from in legacy browsers.\n  // Support: IE\n  (function checkArrayFrom() {\n    if (Array.from) {\n      return;\n    }\n    require(\"core-js/es/array/from.js\");\n  })();\n\n  // Provides support for Object.assign in legacy browsers.\n  // Support: IE\n  (function checkObjectAssign() {\n    if (Object.assign) {\n      return;\n    }\n    require(\"core-js/es/object/assign.js\");\n  })();\n\n  // Provides support for Math.log2 in legacy browsers.\n  // Support: IE, Chrome<38\n  (function checkMathLog2() {\n    if (Math.log2) {\n      return;\n    }\n    Math.log2 = require(\"core-js/es/math/log2.js\");\n  })();\n\n  // Provides support for Number.isNaN in legacy browsers.\n  // Support: IE.\n  (function checkNumberIsNaN() {\n    if (Number.isNaN) {\n      return;\n    }\n    Number.isNaN = require(\"core-js/es/number/is-nan.js\");\n  })();\n\n  // Provides support for Number.isInteger in legacy browsers.\n  // Support: IE, Chrome<34\n  (function checkNumberIsInteger() {\n    if (Number.isInteger) {\n      return;\n    }\n    Number.isInteger = require(\"core-js/es/number/is-integer.js\");\n  })();\n\n  // Provides support for TypedArray.prototype.slice in legacy browsers.\n  // Support: IE\n  (function checkTypedArraySlice() {\n    if (Uint8Array.prototype.slice) {\n      return;\n    }\n    require(\"core-js/es/typed-array/slice\");\n  })();\n\n  // Support: IE, Safari<11, Chrome<63\n  (function checkPromise() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `Promise` shouldn't\n      // need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    if (globalThis.Promise && globalThis.Promise.allSettled) {\n      return;\n    }\n    globalThis.Promise = require(\"core-js/es/promise/index.js\");\n  })();\n\n  // Support: IE\n  (function checkURL() {\n    if (typeof PDFJSDev === \"undefined\" || !PDFJSDev.test(\"PRODUCTION\")) {\n      // Prevent \"require is not a function\" errors in development mode,\n      // since the `URL` constructor should be available in modern browers.\n      return;\n    } else if (!PDFJSDev.test(\"GENERIC\")) {\n      // The `URL` constructor is assumed to be available in the extension\n      // builds.\n      return;\n    } else if (PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders don't use the `URL` constructor, so it\n      // doesn't need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    globalThis.URL = require(\"core-js/web/url.js\");\n  })();\n\n  // Support: IE, Node.js\n  (function checkReadableStream() {\n    if (typeof PDFJSDev !== \"undefined\" && PDFJSDev.test(\"IMAGE_DECODERS\")) {\n      // The current image decoders are synchronous, hence `ReadableStream`\n      // shouldn't need to be polyfilled for the IMAGE_DECODERS build target.\n      return;\n    }\n    let isReadableStreamSupported = false;\n\n    if (typeof ReadableStream !== \"undefined\") {\n      // MS Edge may say it has ReadableStream but they are not up to spec yet.\n      try {\n        // eslint-disable-next-line no-new\n        new ReadableStream({\n          start(controller) {\n            controller.close();\n          },\n        });\n        isReadableStreamSupported = true;\n      } catch (e) {\n        // The ReadableStream constructor cannot be used.\n      }\n    }\n    if (isReadableStreamSupported) {\n      return;\n    }\n    globalThis.ReadableStream = require(\"web-streams-polyfill/dist/ponyfill.js\").ReadableStream;\n  })();\n\n  // We want to support Map iteration, but it doesn't seem possible to easily\n  // test for that specifically; hence using a similarly unsupported property.\n  // Support: IE11\n  (function checkMapEntries() {\n    if (globalThis.Map && globalThis.Map.prototype.entries) {\n      return;\n    }\n    globalThis.Map = require(\"core-js/es/map/index.js\");\n  })();\n\n  // We want to support Set iteration, but it doesn't seem possible to easily\n  // test for that specifically; hence using a similarly unsupported property.\n  // Support: IE11\n  (function checkSetEntries() {\n    if (globalThis.Set && globalThis.Set.prototype.entries) {\n      return;\n    }\n    globalThis.Set = require(\"core-js/es/set/index.js\");\n  })();\n\n  // Support: IE<11, Safari<8, Chrome<36\n  (function checkWeakMap() {\n    if (globalThis.WeakMap) {\n      return;\n    }\n    globalThis.WeakMap = require(\"core-js/es/weak-map/index.js\");\n  })();\n\n  // Support: IE11\n  (function checkWeakSet() {\n    if (globalThis.WeakSet) {\n      return;\n    }\n    globalThis.WeakSet = require(\"core-js/es/weak-set/index.js\");\n  })();\n\n  // Provides support for String.codePointAt in legacy browsers.\n  // Support: IE11.\n  (function checkStringCodePointAt() {\n    if (String.prototype.codePointAt) {\n      return;\n    }\n    require(\"core-js/es/string/code-point-at.js\");\n  })();\n\n  // Provides support for String.fromCodePoint in legacy browsers.\n  // Support: IE11.\n  (function checkStringFromCodePoint() {\n    if (String.fromCodePoint) {\n      return;\n    }\n    String.fromCodePoint = require(\"core-js/es/string/from-code-point.js\");\n  })();\n\n  // Support: IE\n  (function checkSymbol() {\n    if (globalThis.Symbol) {\n      return;\n    }\n    require(\"core-js/es/symbol/index.js\");\n  })();\n\n  // Provides support for String.prototype.padStart in legacy browsers.\n  // Support: IE, Chrome<57\n  (function checkStringPadStart() {\n    if (String.prototype.padStart) {\n      return;\n    }\n    require(\"core-js/es/string/pad-start.js\");\n  })();\n\n  // Provides support for String.prototype.padEnd in legacy browsers.\n  // Support: IE, Chrome<57\n  (function checkStringPadEnd() {\n    if (String.prototype.padEnd) {\n      return;\n    }\n    require(\"core-js/es/string/pad-end.js\");\n  })();\n\n  // Provides support for Object.values in legacy browsers.\n  // Support: IE, Chrome<54\n  (function checkObjectValues() {\n    if (Object.values) {\n      return;\n    }\n    Object.values = require(\"core-js/es/object/values.js\");\n  })();\n}\n","/* Copyright 2018 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* globals process */\n\n// NW.js / Electron is a browser context, but copies some Node.js objects; see\n// http://docs.nwjs.io/en/latest/For%20Users/Advanced/JavaScript%20Contexts%20in%20NW.js/#access-nodejs-and-nwjs-api-in-browser-context\n// https://electronjs.org/docs/api/process#processversionselectron\nconst isNodeJS =\n  typeof process === \"object\" &&\n  process + \"\" === \"[object process]\" &&\n  !process.versions.nw &&\n  !process.versions.electron;\n\nexport { isNodeJS };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseException, shadow } from \"../shared/util.js\";\nimport { log2, readInt8, readUint16, readUint32 } from \"./core_utils.js\";\nimport { ArithmeticDecoder } from \"./arithmetic_decoder.js\";\nimport { CCITTFaxDecoder } from \"./ccitt.js\";\n\nclass Jbig2Error extends BaseException {\n  constructor(msg) {\n    super(`JBIG2 error: ${msg}`);\n  }\n}\n\nvar Jbig2Image = (function Jbig2ImageClosure() {\n  // Utility data structures\n  function ContextCache() {}\n\n  ContextCache.prototype = {\n    getContexts(id) {\n      if (id in this) {\n        return this[id];\n      }\n      return (this[id] = new Int8Array(1 << 16));\n    },\n  };\n\n  function DecodingContext(data, start, end) {\n    this.data = data;\n    this.start = start;\n    this.end = end;\n  }\n\n  DecodingContext.prototype = {\n    get decoder() {\n      var decoder = new ArithmeticDecoder(this.data, this.start, this.end);\n      return shadow(this, \"decoder\", decoder);\n    },\n    get contextCache() {\n      var cache = new ContextCache();\n      return shadow(this, \"contextCache\", cache);\n    },\n  };\n\n  // Annex A. Arithmetic Integer Decoding Procedure\n  // A.2 Procedure for decoding values\n  function decodeInteger(contextCache, procedure, decoder) {\n    var contexts = contextCache.getContexts(procedure);\n    var prev = 1;\n\n    function readBits(length) {\n      var v = 0;\n      for (var i = 0; i < length; i++) {\n        var bit = decoder.readBit(contexts, prev);\n        prev =\n          prev < 256 ? (prev << 1) | bit : (((prev << 1) | bit) & 511) | 256;\n        v = (v << 1) | bit;\n      }\n      return v >>> 0;\n    }\n\n    var sign = readBits(1);\n    // prettier-ignore\n    /* eslint-disable no-nested-ternary */\n    var value = readBits(1) ?\n                  (readBits(1) ?\n                    (readBits(1) ?\n                      (readBits(1) ?\n                        (readBits(1) ?\n                          (readBits(32) + 4436) :\n                        readBits(12) + 340) :\n                      readBits(8) + 84) :\n                    readBits(6) + 20) :\n                  readBits(4) + 4) :\n                readBits(2);\n    /* eslint-enable no-nested-ternary */\n    if (sign === 0) {\n      return value;\n    } else if (value > 0) {\n      return -value;\n    }\n    return null;\n  }\n\n  // A.3 The IAID decoding procedure\n  function decodeIAID(contextCache, decoder, codeLength) {\n    var contexts = contextCache.getContexts(\"IAID\");\n\n    var prev = 1;\n    for (var i = 0; i < codeLength; i++) {\n      var bit = decoder.readBit(contexts, prev);\n      prev = (prev << 1) | bit;\n    }\n    if (codeLength < 31) {\n      return prev & ((1 << codeLength) - 1);\n    }\n    return prev & 0x7fffffff;\n  }\n\n  // 7.3 Segment types\n  var SegmentTypes = [\n    \"SymbolDictionary\",\n    null,\n    null,\n    null,\n    \"IntermediateTextRegion\",\n    null,\n    \"ImmediateTextRegion\",\n    \"ImmediateLosslessTextRegion\",\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    \"PatternDictionary\",\n    null,\n    null,\n    null,\n    \"IntermediateHalftoneRegion\",\n    null,\n    \"ImmediateHalftoneRegion\",\n    \"ImmediateLosslessHalftoneRegion\",\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    \"IntermediateGenericRegion\",\n    null,\n    \"ImmediateGenericRegion\",\n    \"ImmediateLosslessGenericRegion\",\n    \"IntermediateGenericRefinementRegion\",\n    null,\n    \"ImmediateGenericRefinementRegion\",\n    \"ImmediateLosslessGenericRefinementRegion\",\n    null,\n    null,\n    null,\n    null,\n    \"PageInformation\",\n    \"EndOfPage\",\n    \"EndOfStripe\",\n    \"EndOfFile\",\n    \"Profiles\",\n    \"Tables\",\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    null,\n    \"Extension\",\n  ];\n\n  var CodingTemplates = [\n    [\n      { x: -1, y: -2 },\n      { x: 0, y: -2 },\n      { x: 1, y: -2 },\n      { x: -2, y: -1 },\n      { x: -1, y: -1 },\n      { x: 0, y: -1 },\n      { x: 1, y: -1 },\n      { x: 2, y: -1 },\n      { x: -4, y: 0 },\n      { x: -3, y: 0 },\n      { x: -2, y: 0 },\n      { x: -1, y: 0 },\n    ],\n    [\n      { x: -1, y: -2 },\n      { x: 0, y: -2 },\n      { x: 1, y: -2 },\n      { x: 2, y: -2 },\n      { x: -2, y: -1 },\n      { x: -1, y: -1 },\n      { x: 0, y: -1 },\n      { x: 1, y: -1 },\n      { x: 2, y: -1 },\n      { x: -3, y: 0 },\n      { x: -2, y: 0 },\n      { x: -1, y: 0 },\n    ],\n    [\n      { x: -1, y: -2 },\n      { x: 0, y: -2 },\n      { x: 1, y: -2 },\n      { x: -2, y: -1 },\n      { x: -1, y: -1 },\n      { x: 0, y: -1 },\n      { x: 1, y: -1 },\n      { x: -2, y: 0 },\n      { x: -1, y: 0 },\n    ],\n    [\n      { x: -3, y: -1 },\n      { x: -2, y: -1 },\n      { x: -1, y: -1 },\n      { x: 0, y: -1 },\n      { x: 1, y: -1 },\n      { x: -4, y: 0 },\n      { x: -3, y: 0 },\n      { x: -2, y: 0 },\n      { x: -1, y: 0 },\n    ],\n  ];\n\n  var RefinementTemplates = [\n    {\n      coding: [\n        { x: 0, y: -1 },\n        { x: 1, y: -1 },\n        { x: -1, y: 0 },\n      ],\n      reference: [\n        { x: 0, y: -1 },\n        { x: 1, y: -1 },\n        { x: -1, y: 0 },\n        { x: 0, y: 0 },\n        { x: 1, y: 0 },\n        { x: -1, y: 1 },\n        { x: 0, y: 1 },\n        { x: 1, y: 1 },\n      ],\n    },\n    {\n      coding: [\n        { x: -1, y: -1 },\n        { x: 0, y: -1 },\n        { x: 1, y: -1 },\n        { x: -1, y: 0 },\n      ],\n      reference: [\n        { x: 0, y: -1 },\n        { x: -1, y: 0 },\n        { x: 0, y: 0 },\n        { x: 1, y: 0 },\n        { x: 0, y: 1 },\n        { x: 1, y: 1 },\n      ],\n    },\n  ];\n\n  // See 6.2.5.7 Decoding the bitmap.\n  var ReusedContexts = [\n    0x9b25, // 10011 0110010 0101\n    0x0795, // 0011 110010 101\n    0x00e5, // 001 11001 01\n    0x0195, // 011001 0101\n  ];\n\n  var RefinementReusedContexts = [\n    0x0020, // '000' + '0' (coding) + '00010000' + '0' (reference)\n    0x0008, // '0000' + '001000'\n  ];\n\n  function decodeBitmapTemplate0(width, height, decodingContext) {\n    var decoder = decodingContext.decoder;\n    var contexts = decodingContext.contextCache.getContexts(\"GB\");\n    var contextLabel,\n      i,\n      j,\n      pixel,\n      row,\n      row1,\n      row2,\n      bitmap = [];\n\n    // ...ooooo....\n    // ..ooooooo... Context template for current pixel (X)\n    // .ooooX...... (concatenate values of 'o'-pixels to get contextLabel)\n    var OLD_PIXEL_MASK = 0x7bf7; // 01111 0111111 0111\n\n    for (i = 0; i < height; i++) {\n      row = bitmap[i] = new Uint8Array(width);\n      row1 = i < 1 ? row : bitmap[i - 1];\n      row2 = i < 2 ? row : bitmap[i - 2];\n\n      // At the beginning of each row:\n      // Fill contextLabel with pixels that are above/right of (X)\n      contextLabel =\n        (row2[0] << 13) |\n        (row2[1] << 12) |\n        (row2[2] << 11) |\n        (row1[0] << 7) |\n        (row1[1] << 6) |\n        (row1[2] << 5) |\n        (row1[3] << 4);\n\n      for (j = 0; j < width; j++) {\n        row[j] = pixel = decoder.readBit(contexts, contextLabel);\n\n        // At each pixel: Clear contextLabel pixels that are shifted\n        // out of the context, then add new ones.\n        contextLabel =\n          ((contextLabel & OLD_PIXEL_MASK) << 1) |\n          (j + 3 < width ? row2[j + 3] << 11 : 0) |\n          (j + 4 < width ? row1[j + 4] << 4 : 0) |\n          pixel;\n      }\n    }\n\n    return bitmap;\n  }\n\n  // 6.2 Generic Region Decoding Procedure\n  function decodeBitmap(\n    mmr,\n    width,\n    height,\n    templateIndex,\n    prediction,\n    skip,\n    at,\n    decodingContext\n  ) {\n    if (mmr) {\n      const input = new Reader(\n        decodingContext.data,\n        decodingContext.start,\n        decodingContext.end\n      );\n      return decodeMMRBitmap(input, width, height, false);\n    }\n\n    // Use optimized version for the most common case\n    if (\n      templateIndex === 0 &&\n      !skip &&\n      !prediction &&\n      at.length === 4 &&\n      at[0].x === 3 &&\n      at[0].y === -1 &&\n      at[1].x === -3 &&\n      at[1].y === -1 &&\n      at[2].x === 2 &&\n      at[2].y === -2 &&\n      at[3].x === -2 &&\n      at[3].y === -2\n    ) {\n      return decodeBitmapTemplate0(width, height, decodingContext);\n    }\n\n    var useskip = !!skip;\n    var template = CodingTemplates[templateIndex].concat(at);\n\n    // Sorting is non-standard, and it is not required. But sorting increases\n    // the number of template bits that can be reused from the previous\n    // contextLabel in the main loop.\n    template.sort(function (a, b) {\n      return a.y - b.y || a.x - b.x;\n    });\n\n    var templateLength = template.length;\n    var templateX = new Int8Array(templateLength);\n    var templateY = new Int8Array(templateLength);\n    var changingTemplateEntries = [];\n    var reuseMask = 0,\n      minX = 0,\n      maxX = 0,\n      minY = 0;\n    var c, k;\n\n    for (k = 0; k < templateLength; k++) {\n      templateX[k] = template[k].x;\n      templateY[k] = template[k].y;\n      minX = Math.min(minX, template[k].x);\n      maxX = Math.max(maxX, template[k].x);\n      minY = Math.min(minY, template[k].y);\n      // Check if the template pixel appears in two consecutive context labels,\n      // so it can be reused. Otherwise, we add it to the list of changing\n      // template entries.\n      if (\n        k < templateLength - 1 &&\n        template[k].y === template[k + 1].y &&\n        template[k].x === template[k + 1].x - 1\n      ) {\n        reuseMask |= 1 << (templateLength - 1 - k);\n      } else {\n        changingTemplateEntries.push(k);\n      }\n    }\n    var changingEntriesLength = changingTemplateEntries.length;\n\n    var changingTemplateX = new Int8Array(changingEntriesLength);\n    var changingTemplateY = new Int8Array(changingEntriesLength);\n    var changingTemplateBit = new Uint16Array(changingEntriesLength);\n    for (c = 0; c < changingEntriesLength; c++) {\n      k = changingTemplateEntries[c];\n      changingTemplateX[c] = template[k].x;\n      changingTemplateY[c] = template[k].y;\n      changingTemplateBit[c] = 1 << (templateLength - 1 - k);\n    }\n\n    // Get the safe bounding box edges from the width, height, minX, maxX, minY\n    var sbb_left = -minX;\n    var sbb_top = -minY;\n    var sbb_right = width - maxX;\n\n    var pseudoPixelContext = ReusedContexts[templateIndex];\n    var row = new Uint8Array(width);\n    var bitmap = [];\n\n    var decoder = decodingContext.decoder;\n    var contexts = decodingContext.contextCache.getContexts(\"GB\");\n\n    var ltp = 0,\n      j,\n      i0,\n      j0,\n      contextLabel = 0,\n      bit,\n      shift;\n    for (var i = 0; i < height; i++) {\n      if (prediction) {\n        var sltp = decoder.readBit(contexts, pseudoPixelContext);\n        ltp ^= sltp;\n        if (ltp) {\n          bitmap.push(row); // duplicate previous row\n          continue;\n        }\n      }\n      row = new Uint8Array(row);\n      bitmap.push(row);\n      for (j = 0; j < width; j++) {\n        if (useskip && skip[i][j]) {\n          row[j] = 0;\n          continue;\n        }\n        // Are we in the middle of a scanline, so we can reuse contextLabel\n        // bits?\n        if (j >= sbb_left && j < sbb_right && i >= sbb_top) {\n          // If yes, we can just shift the bits that are reusable and only\n          // fetch the remaining ones.\n          contextLabel = (contextLabel << 1) & reuseMask;\n          for (k = 0; k < changingEntriesLength; k++) {\n            i0 = i + changingTemplateY[k];\n            j0 = j + changingTemplateX[k];\n            bit = bitmap[i0][j0];\n            if (bit) {\n              bit = changingTemplateBit[k];\n              contextLabel |= bit;\n            }\n          }\n        } else {\n          // compute the contextLabel from scratch\n          contextLabel = 0;\n          shift = templateLength - 1;\n          for (k = 0; k < templateLength; k++, shift--) {\n            j0 = j + templateX[k];\n            if (j0 >= 0 && j0 < width) {\n              i0 = i + templateY[k];\n              if (i0 >= 0) {\n                bit = bitmap[i0][j0];\n                if (bit) {\n                  contextLabel |= bit << shift;\n                }\n              }\n            }\n          }\n        }\n        var pixel = decoder.readBit(contexts, contextLabel);\n        row[j] = pixel;\n      }\n    }\n    return bitmap;\n  }\n\n  // 6.3.2 Generic Refinement Region Decoding Procedure\n  function decodeRefinement(\n    width,\n    height,\n    templateIndex,\n    referenceBitmap,\n    offsetX,\n    offsetY,\n    prediction,\n    at,\n    decodingContext\n  ) {\n    var codingTemplate = RefinementTemplates[templateIndex].coding;\n    if (templateIndex === 0) {\n      codingTemplate = codingTemplate.concat([at[0]]);\n    }\n    var codingTemplateLength = codingTemplate.length;\n    var codingTemplateX = new Int32Array(codingTemplateLength);\n    var codingTemplateY = new Int32Array(codingTemplateLength);\n    var k;\n    for (k = 0; k < codingTemplateLength; k++) {\n      codingTemplateX[k] = codingTemplate[k].x;\n      codingTemplateY[k] = codingTemplate[k].y;\n    }\n\n    var referenceTemplate = RefinementTemplates[templateIndex].reference;\n    if (templateIndex === 0) {\n      referenceTemplate = referenceTemplate.concat([at[1]]);\n    }\n    var referenceTemplateLength = referenceTemplate.length;\n    var referenceTemplateX = new Int32Array(referenceTemplateLength);\n    var referenceTemplateY = new Int32Array(referenceTemplateLength);\n    for (k = 0; k < referenceTemplateLength; k++) {\n      referenceTemplateX[k] = referenceTemplate[k].x;\n      referenceTemplateY[k] = referenceTemplate[k].y;\n    }\n    var referenceWidth = referenceBitmap[0].length;\n    var referenceHeight = referenceBitmap.length;\n\n    var pseudoPixelContext = RefinementReusedContexts[templateIndex];\n    var bitmap = [];\n\n    var decoder = decodingContext.decoder;\n    var contexts = decodingContext.contextCache.getContexts(\"GR\");\n\n    var ltp = 0;\n    for (var i = 0; i < height; i++) {\n      if (prediction) {\n        var sltp = decoder.readBit(contexts, pseudoPixelContext);\n        ltp ^= sltp;\n        if (ltp) {\n          throw new Jbig2Error(\"prediction is not supported\");\n        }\n      }\n      var row = new Uint8Array(width);\n      bitmap.push(row);\n      for (var j = 0; j < width; j++) {\n        var i0, j0;\n        var contextLabel = 0;\n        for (k = 0; k < codingTemplateLength; k++) {\n          i0 = i + codingTemplateY[k];\n          j0 = j + codingTemplateX[k];\n          if (i0 < 0 || j0 < 0 || j0 >= width) {\n            contextLabel <<= 1; // out of bound pixel\n          } else {\n            contextLabel = (contextLabel << 1) | bitmap[i0][j0];\n          }\n        }\n        for (k = 0; k < referenceTemplateLength; k++) {\n          i0 = i + referenceTemplateY[k] - offsetY;\n          j0 = j + referenceTemplateX[k] - offsetX;\n          if (\n            i0 < 0 ||\n            i0 >= referenceHeight ||\n            j0 < 0 ||\n            j0 >= referenceWidth\n          ) {\n            contextLabel <<= 1; // out of bound pixel\n          } else {\n            contextLabel = (contextLabel << 1) | referenceBitmap[i0][j0];\n          }\n        }\n        var pixel = decoder.readBit(contexts, contextLabel);\n        row[j] = pixel;\n      }\n    }\n\n    return bitmap;\n  }\n\n  // 6.5.5 Decoding the symbol dictionary\n  function decodeSymbolDictionary(\n    huffman,\n    refinement,\n    symbols,\n    numberOfNewSymbols,\n    numberOfExportedSymbols,\n    huffmanTables,\n    templateIndex,\n    at,\n    refinementTemplateIndex,\n    refinementAt,\n    decodingContext,\n    huffmanInput\n  ) {\n    if (huffman && refinement) {\n      throw new Jbig2Error(\"symbol refinement with Huffman is not supported\");\n    }\n\n    var newSymbols = [];\n    var currentHeight = 0;\n    var symbolCodeLength = log2(symbols.length + numberOfNewSymbols);\n\n    var decoder = decodingContext.decoder;\n    var contextCache = decodingContext.contextCache;\n    let tableB1, symbolWidths;\n    if (huffman) {\n      tableB1 = getStandardTable(1); // standard table B.1\n      symbolWidths = [];\n      symbolCodeLength = Math.max(symbolCodeLength, 1); // 6.5.8.2.3\n    }\n\n    while (newSymbols.length < numberOfNewSymbols) {\n      var deltaHeight = huffman\n        ? huffmanTables.tableDeltaHeight.decode(huffmanInput)\n        : decodeInteger(contextCache, \"IADH\", decoder); // 6.5.6\n      currentHeight += deltaHeight;\n      let currentWidth = 0,\n        totalWidth = 0;\n      const firstSymbol = huffman ? symbolWidths.length : 0;\n      while (true) {\n        var deltaWidth = huffman\n          ? huffmanTables.tableDeltaWidth.decode(huffmanInput)\n          : decodeInteger(contextCache, \"IADW\", decoder); // 6.5.7\n        if (deltaWidth === null) {\n          break; // OOB\n        }\n        currentWidth += deltaWidth;\n        totalWidth += currentWidth;\n        var bitmap;\n        if (refinement) {\n          // 6.5.8.2 Refinement/aggregate-coded symbol bitmap\n          var numberOfInstances = decodeInteger(contextCache, \"IAAI\", decoder);\n          if (numberOfInstances > 1) {\n            bitmap = decodeTextRegion(\n              huffman,\n              refinement,\n              currentWidth,\n              currentHeight,\n              0,\n              numberOfInstances,\n              1, // strip size\n              symbols.concat(newSymbols),\n              symbolCodeLength,\n              0, // transposed\n              0, // ds offset\n              1, // top left 7.4.3.1.1\n              0, // OR operator\n              huffmanTables,\n              refinementTemplateIndex,\n              refinementAt,\n              decodingContext,\n              0,\n              huffmanInput\n            );\n          } else {\n            var symbolId = decodeIAID(contextCache, decoder, symbolCodeLength);\n            var rdx = decodeInteger(contextCache, \"IARDX\", decoder); // 6.4.11.3\n            var rdy = decodeInteger(contextCache, \"IARDY\", decoder); // 6.4.11.4\n            var symbol =\n              symbolId < symbols.length\n                ? symbols[symbolId]\n                : newSymbols[symbolId - symbols.length];\n            bitmap = decodeRefinement(\n              currentWidth,\n              currentHeight,\n              refinementTemplateIndex,\n              symbol,\n              rdx,\n              rdy,\n              false,\n              refinementAt,\n              decodingContext\n            );\n          }\n          newSymbols.push(bitmap);\n        } else if (huffman) {\n          // Store only symbol width and decode a collective bitmap when the\n          // height class is done.\n          symbolWidths.push(currentWidth);\n        } else {\n          // 6.5.8.1 Direct-coded symbol bitmap\n          bitmap = decodeBitmap(\n            false,\n            currentWidth,\n            currentHeight,\n            templateIndex,\n            false,\n            null,\n            at,\n            decodingContext\n          );\n          newSymbols.push(bitmap);\n        }\n      }\n      if (huffman && !refinement) {\n        // 6.5.9 Height class collective bitmap\n        const bitmapSize = huffmanTables.tableBitmapSize.decode(huffmanInput);\n        huffmanInput.byteAlign();\n        let collectiveBitmap;\n        if (bitmapSize === 0) {\n          // Uncompressed collective bitmap\n          collectiveBitmap = readUncompressedBitmap(\n            huffmanInput,\n            totalWidth,\n            currentHeight\n          );\n        } else {\n          // MMR collective bitmap\n          const originalEnd = huffmanInput.end;\n          const bitmapEnd = huffmanInput.position + bitmapSize;\n          huffmanInput.end = bitmapEnd;\n          collectiveBitmap = decodeMMRBitmap(\n            huffmanInput,\n            totalWidth,\n            currentHeight,\n            false\n          );\n          huffmanInput.end = originalEnd;\n          huffmanInput.position = bitmapEnd;\n        }\n        const numberOfSymbolsDecoded = symbolWidths.length;\n        if (firstSymbol === numberOfSymbolsDecoded - 1) {\n          // collectiveBitmap is a single symbol.\n          newSymbols.push(collectiveBitmap);\n        } else {\n          // Divide collectiveBitmap into symbols.\n          let i,\n            y,\n            xMin = 0,\n            xMax,\n            bitmapWidth,\n            symbolBitmap;\n          for (i = firstSymbol; i < numberOfSymbolsDecoded; i++) {\n            bitmapWidth = symbolWidths[i];\n            xMax = xMin + bitmapWidth;\n            symbolBitmap = [];\n            for (y = 0; y < currentHeight; y++) {\n              symbolBitmap.push(collectiveBitmap[y].subarray(xMin, xMax));\n            }\n            newSymbols.push(symbolBitmap);\n            xMin = xMax;\n          }\n        }\n      }\n    }\n\n    // 6.5.10 Exported symbols\n    var exportedSymbols = [];\n    var flags = [],\n      currentFlag = false;\n    var totalSymbolsLength = symbols.length + numberOfNewSymbols;\n    while (flags.length < totalSymbolsLength) {\n      var runLength = huffman\n        ? tableB1.decode(huffmanInput)\n        : decodeInteger(contextCache, \"IAEX\", decoder);\n      while (runLength--) {\n        flags.push(currentFlag);\n      }\n      currentFlag = !currentFlag;\n    }\n    for (var i = 0, ii = symbols.length; i < ii; i++) {\n      if (flags[i]) {\n        exportedSymbols.push(symbols[i]);\n      }\n    }\n    for (var j = 0; j < numberOfNewSymbols; i++, j++) {\n      if (flags[i]) {\n        exportedSymbols.push(newSymbols[j]);\n      }\n    }\n    return exportedSymbols;\n  }\n\n  function decodeTextRegion(\n    huffman,\n    refinement,\n    width,\n    height,\n    defaultPixelValue,\n    numberOfSymbolInstances,\n    stripSize,\n    inputSymbols,\n    symbolCodeLength,\n    transposed,\n    dsOffset,\n    referenceCorner,\n    combinationOperator,\n    huffmanTables,\n    refinementTemplateIndex,\n    refinementAt,\n    decodingContext,\n    logStripSize,\n    huffmanInput\n  ) {\n    if (huffman && refinement) {\n      throw new Jbig2Error(\"refinement with Huffman is not supported\");\n    }\n\n    // Prepare bitmap\n    var bitmap = [];\n    var i, row;\n    for (i = 0; i < height; i++) {\n      row = new Uint8Array(width);\n      if (defaultPixelValue) {\n        for (var j = 0; j < width; j++) {\n          row[j] = defaultPixelValue;\n        }\n      }\n      bitmap.push(row);\n    }\n\n    var decoder = decodingContext.decoder;\n    var contextCache = decodingContext.contextCache;\n\n    var stripT = huffman\n      ? -huffmanTables.tableDeltaT.decode(huffmanInput)\n      : -decodeInteger(contextCache, \"IADT\", decoder); // 6.4.6\n    var firstS = 0;\n    i = 0;\n    while (i < numberOfSymbolInstances) {\n      var deltaT = huffman\n        ? huffmanTables.tableDeltaT.decode(huffmanInput)\n        : decodeInteger(contextCache, \"IADT\", decoder); // 6.4.6\n      stripT += deltaT;\n\n      var deltaFirstS = huffman\n        ? huffmanTables.tableFirstS.decode(huffmanInput)\n        : decodeInteger(contextCache, \"IAFS\", decoder); // 6.4.7\n      firstS += deltaFirstS;\n      var currentS = firstS;\n      do {\n        let currentT = 0; // 6.4.9\n        if (stripSize > 1) {\n          currentT = huffman\n            ? huffmanInput.readBits(logStripSize)\n            : decodeInteger(contextCache, \"IAIT\", decoder);\n        }\n        var t = stripSize * stripT + currentT;\n        var symbolId = huffman\n          ? huffmanTables.symbolIDTable.decode(huffmanInput)\n          : decodeIAID(contextCache, decoder, symbolCodeLength);\n        var applyRefinement =\n          refinement &&\n          (huffman\n            ? huffmanInput.readBit()\n            : decodeInteger(contextCache, \"IARI\", decoder));\n        var symbolBitmap = inputSymbols[symbolId];\n        var symbolWidth = symbolBitmap[0].length;\n        var symbolHeight = symbolBitmap.length;\n        if (applyRefinement) {\n          var rdw = decodeInteger(contextCache, \"IARDW\", decoder); // 6.4.11.1\n          var rdh = decodeInteger(contextCache, \"IARDH\", decoder); // 6.4.11.2\n          var rdx = decodeInteger(contextCache, \"IARDX\", decoder); // 6.4.11.3\n          var rdy = decodeInteger(contextCache, \"IARDY\", decoder); // 6.4.11.4\n          symbolWidth += rdw;\n          symbolHeight += rdh;\n          symbolBitmap = decodeRefinement(\n            symbolWidth,\n            symbolHeight,\n            refinementTemplateIndex,\n            symbolBitmap,\n            (rdw >> 1) + rdx,\n            (rdh >> 1) + rdy,\n            false,\n            refinementAt,\n            decodingContext\n          );\n        }\n        var offsetT = t - (referenceCorner & 1 ? 0 : symbolHeight - 1);\n        var offsetS = currentS - (referenceCorner & 2 ? symbolWidth - 1 : 0);\n        var s2, t2, symbolRow;\n        if (transposed) {\n          // Place Symbol Bitmap from T1,S1\n          for (s2 = 0; s2 < symbolHeight; s2++) {\n            row = bitmap[offsetS + s2];\n            if (!row) {\n              continue;\n            }\n            symbolRow = symbolBitmap[s2];\n            // To ignore Parts of Symbol bitmap which goes\n            // outside bitmap region\n            var maxWidth = Math.min(width - offsetT, symbolWidth);\n            switch (combinationOperator) {\n              case 0: // OR\n                for (t2 = 0; t2 < maxWidth; t2++) {\n                  row[offsetT + t2] |= symbolRow[t2];\n                }\n                break;\n              case 2: // XOR\n                for (t2 = 0; t2 < maxWidth; t2++) {\n                  row[offsetT + t2] ^= symbolRow[t2];\n                }\n                break;\n              default:\n                throw new Jbig2Error(\n                  `operator ${combinationOperator} is not supported`\n                );\n            }\n          }\n          currentS += symbolHeight - 1;\n        } else {\n          for (t2 = 0; t2 < symbolHeight; t2++) {\n            row = bitmap[offsetT + t2];\n            if (!row) {\n              continue;\n            }\n            symbolRow = symbolBitmap[t2];\n            switch (combinationOperator) {\n              case 0: // OR\n                for (s2 = 0; s2 < symbolWidth; s2++) {\n                  row[offsetS + s2] |= symbolRow[s2];\n                }\n                break;\n              case 2: // XOR\n                for (s2 = 0; s2 < symbolWidth; s2++) {\n                  row[offsetS + s2] ^= symbolRow[s2];\n                }\n                break;\n              default:\n                throw new Jbig2Error(\n                  `operator ${combinationOperator} is not supported`\n                );\n            }\n          }\n          currentS += symbolWidth - 1;\n        }\n        i++;\n        var deltaS = huffman\n          ? huffmanTables.tableDeltaS.decode(huffmanInput)\n          : decodeInteger(contextCache, \"IADS\", decoder); // 6.4.8\n        if (deltaS === null) {\n          break; // OOB\n        }\n        currentS += deltaS + dsOffset;\n      } while (true);\n    }\n    return bitmap;\n  }\n\n  function decodePatternDictionary(\n    mmr,\n    patternWidth,\n    patternHeight,\n    maxPatternIndex,\n    template,\n    decodingContext\n  ) {\n    const at = [];\n    if (!mmr) {\n      at.push({\n        x: -patternWidth,\n        y: 0,\n      });\n      if (template === 0) {\n        at.push({\n          x: -3,\n          y: -1,\n        });\n        at.push({\n          x: 2,\n          y: -2,\n        });\n        at.push({\n          x: -2,\n          y: -2,\n        });\n      }\n    }\n    const collectiveWidth = (maxPatternIndex + 1) * patternWidth;\n    const collectiveBitmap = decodeBitmap(\n      mmr,\n      collectiveWidth,\n      patternHeight,\n      template,\n      false,\n      null,\n      at,\n      decodingContext\n    );\n    // Divide collective bitmap into patterns.\n    const patterns = [];\n    for (let i = 0; i <= maxPatternIndex; i++) {\n      const patternBitmap = [];\n      const xMin = patternWidth * i;\n      const xMax = xMin + patternWidth;\n      for (let y = 0; y < patternHeight; y++) {\n        patternBitmap.push(collectiveBitmap[y].subarray(xMin, xMax));\n      }\n      patterns.push(patternBitmap);\n    }\n    return patterns;\n  }\n\n  function decodeHalftoneRegion(\n    mmr,\n    patterns,\n    template,\n    regionWidth,\n    regionHeight,\n    defaultPixelValue,\n    enableSkip,\n    combinationOperator,\n    gridWidth,\n    gridHeight,\n    gridOffsetX,\n    gridOffsetY,\n    gridVectorX,\n    gridVectorY,\n    decodingContext\n  ) {\n    const skip = null;\n    if (enableSkip) {\n      throw new Jbig2Error(\"skip is not supported\");\n    }\n    if (combinationOperator !== 0) {\n      throw new Jbig2Error(\n        \"operator \" +\n          combinationOperator +\n          \" is not supported in halftone region\"\n      );\n    }\n\n    // Prepare bitmap.\n    const regionBitmap = [];\n    let i, j, row;\n    for (i = 0; i < regionHeight; i++) {\n      row = new Uint8Array(regionWidth);\n      if (defaultPixelValue) {\n        for (j = 0; j < regionWidth; j++) {\n          row[j] = defaultPixelValue;\n        }\n      }\n      regionBitmap.push(row);\n    }\n\n    const numberOfPatterns = patterns.length;\n    const pattern0 = patterns[0];\n    const patternWidth = pattern0[0].length,\n      patternHeight = pattern0.length;\n    const bitsPerValue = log2(numberOfPatterns);\n    const at = [];\n    if (!mmr) {\n      at.push({\n        x: template <= 1 ? 3 : 2,\n        y: -1,\n      });\n      if (template === 0) {\n        at.push({\n          x: -3,\n          y: -1,\n        });\n        at.push({\n          x: 2,\n          y: -2,\n        });\n        at.push({\n          x: -2,\n          y: -2,\n        });\n      }\n    }\n    // Annex C. Gray-scale Image Decoding Procedure.\n    const grayScaleBitPlanes = [];\n    let mmrInput, bitmap;\n    if (mmr) {\n      // MMR bit planes are in one continuous stream. Only EOFB codes indicate\n      // the end of each bitmap, so EOFBs must be decoded.\n      mmrInput = new Reader(\n        decodingContext.data,\n        decodingContext.start,\n        decodingContext.end\n      );\n    }\n    for (i = bitsPerValue - 1; i >= 0; i--) {\n      if (mmr) {\n        bitmap = decodeMMRBitmap(mmrInput, gridWidth, gridHeight, true);\n      } else {\n        bitmap = decodeBitmap(\n          false,\n          gridWidth,\n          gridHeight,\n          template,\n          false,\n          skip,\n          at,\n          decodingContext\n        );\n      }\n      grayScaleBitPlanes[i] = bitmap;\n    }\n    // 6.6.5.2 Rendering the patterns.\n    let mg, ng, bit, patternIndex, patternBitmap, x, y, patternRow, regionRow;\n    for (mg = 0; mg < gridHeight; mg++) {\n      for (ng = 0; ng < gridWidth; ng++) {\n        bit = 0;\n        patternIndex = 0;\n        for (j = bitsPerValue - 1; j >= 0; j--) {\n          bit = grayScaleBitPlanes[j][mg][ng] ^ bit; // Gray decoding\n          patternIndex |= bit << j;\n        }\n        patternBitmap = patterns[patternIndex];\n        x = (gridOffsetX + mg * gridVectorY + ng * gridVectorX) >> 8;\n        y = (gridOffsetY + mg * gridVectorX - ng * gridVectorY) >> 8;\n        // Draw patternBitmap at (x, y).\n        if (\n          x >= 0 &&\n          x + patternWidth <= regionWidth &&\n          y >= 0 &&\n          y + patternHeight <= regionHeight\n        ) {\n          for (i = 0; i < patternHeight; i++) {\n            regionRow = regionBitmap[y + i];\n            patternRow = patternBitmap[i];\n            for (j = 0; j < patternWidth; j++) {\n              regionRow[x + j] |= patternRow[j];\n            }\n          }\n        } else {\n          let regionX, regionY;\n          for (i = 0; i < patternHeight; i++) {\n            regionY = y + i;\n            if (regionY < 0 || regionY >= regionHeight) {\n              continue;\n            }\n            regionRow = regionBitmap[regionY];\n            patternRow = patternBitmap[i];\n            for (j = 0; j < patternWidth; j++) {\n              regionX = x + j;\n              if (regionX >= 0 && regionX < regionWidth) {\n                regionRow[regionX] |= patternRow[j];\n              }\n            }\n          }\n        }\n      }\n    }\n    return regionBitmap;\n  }\n\n  function readSegmentHeader(data, start) {\n    var segmentHeader = {};\n    segmentHeader.number = readUint32(data, start);\n    var flags = data[start + 4];\n    var segmentType = flags & 0x3f;\n    if (!SegmentTypes[segmentType]) {\n      throw new Jbig2Error(\"invalid segment type: \" + segmentType);\n    }\n    segmentHeader.type = segmentType;\n    segmentHeader.typeName = SegmentTypes[segmentType];\n    segmentHeader.deferredNonRetain = !!(flags & 0x80);\n\n    var pageAssociationFieldSize = !!(flags & 0x40);\n    var referredFlags = data[start + 5];\n    var referredToCount = (referredFlags >> 5) & 7;\n    var retainBits = [referredFlags & 31];\n    var position = start + 6;\n    if (referredFlags === 7) {\n      referredToCount = readUint32(data, position - 1) & 0x1fffffff;\n      position += 3;\n      var bytes = (referredToCount + 7) >> 3;\n      retainBits[0] = data[position++];\n      while (--bytes > 0) {\n        retainBits.push(data[position++]);\n      }\n    } else if (referredFlags === 5 || referredFlags === 6) {\n      throw new Jbig2Error(\"invalid referred-to flags\");\n    }\n\n    segmentHeader.retainBits = retainBits;\n\n    let referredToSegmentNumberSize = 4;\n    if (segmentHeader.number <= 256) {\n      referredToSegmentNumberSize = 1;\n    } else if (segmentHeader.number <= 65536) {\n      referredToSegmentNumberSize = 2;\n    }\n    var referredTo = [];\n    var i, ii;\n    for (i = 0; i < referredToCount; i++) {\n      let number;\n      if (referredToSegmentNumberSize === 1) {\n        number = data[position];\n      } else if (referredToSegmentNumberSize === 2) {\n        number = readUint16(data, position);\n      } else {\n        number = readUint32(data, position);\n      }\n      referredTo.push(number);\n      position += referredToSegmentNumberSize;\n    }\n    segmentHeader.referredTo = referredTo;\n    if (!pageAssociationFieldSize) {\n      segmentHeader.pageAssociation = data[position++];\n    } else {\n      segmentHeader.pageAssociation = readUint32(data, position);\n      position += 4;\n    }\n    segmentHeader.length = readUint32(data, position);\n    position += 4;\n\n    if (segmentHeader.length === 0xffffffff) {\n      // 7.2.7 Segment data length, unknown segment length\n      if (segmentType === 38) {\n        // ImmediateGenericRegion\n        var genericRegionInfo = readRegionSegmentInformation(data, position);\n        var genericRegionSegmentFlags =\n          data[position + RegionSegmentInformationFieldLength];\n        var genericRegionMmr = !!(genericRegionSegmentFlags & 1);\n        // searching for the segment end\n        var searchPatternLength = 6;\n        var searchPattern = new Uint8Array(searchPatternLength);\n        if (!genericRegionMmr) {\n          searchPattern[0] = 0xff;\n          searchPattern[1] = 0xac;\n        }\n        searchPattern[2] = (genericRegionInfo.height >>> 24) & 0xff;\n        searchPattern[3] = (genericRegionInfo.height >> 16) & 0xff;\n        searchPattern[4] = (genericRegionInfo.height >> 8) & 0xff;\n        searchPattern[5] = genericRegionInfo.height & 0xff;\n        for (i = position, ii = data.length; i < ii; i++) {\n          var j = 0;\n          while (j < searchPatternLength && searchPattern[j] === data[i + j]) {\n            j++;\n          }\n          if (j === searchPatternLength) {\n            segmentHeader.length = i + searchPatternLength;\n            break;\n          }\n        }\n        if (segmentHeader.length === 0xffffffff) {\n          throw new Jbig2Error(\"segment end was not found\");\n        }\n      } else {\n        throw new Jbig2Error(\"invalid unknown segment length\");\n      }\n    }\n    segmentHeader.headerEnd = position;\n    return segmentHeader;\n  }\n\n  function readSegments(header, data, start, end) {\n    var segments = [];\n    var position = start;\n    while (position < end) {\n      var segmentHeader = readSegmentHeader(data, position);\n      position = segmentHeader.headerEnd;\n      var segment = {\n        header: segmentHeader,\n        data,\n      };\n      if (!header.randomAccess) {\n        segment.start = position;\n        position += segmentHeader.length;\n        segment.end = position;\n      }\n      segments.push(segment);\n      if (segmentHeader.type === 51) {\n        break; // end of file is found\n      }\n    }\n    if (header.randomAccess) {\n      for (var i = 0, ii = segments.length; i < ii; i++) {\n        segments[i].start = position;\n        position += segments[i].header.length;\n        segments[i].end = position;\n      }\n    }\n    return segments;\n  }\n\n  // 7.4.1 Region segment information field\n  function readRegionSegmentInformation(data, start) {\n    return {\n      width: readUint32(data, start),\n      height: readUint32(data, start + 4),\n      x: readUint32(data, start + 8),\n      y: readUint32(data, start + 12),\n      combinationOperator: data[start + 16] & 7,\n    };\n  }\n  var RegionSegmentInformationFieldLength = 17;\n\n  function processSegment(segment, visitor) {\n    var header = segment.header;\n\n    var data = segment.data,\n      position = segment.start,\n      end = segment.end;\n    var args, at, i, atLength;\n    switch (header.type) {\n      case 0: // SymbolDictionary\n        // 7.4.2 Symbol dictionary segment syntax\n        var dictionary = {};\n        var dictionaryFlags = readUint16(data, position); // 7.4.2.1.1\n        dictionary.huffman = !!(dictionaryFlags & 1);\n        dictionary.refinement = !!(dictionaryFlags & 2);\n        dictionary.huffmanDHSelector = (dictionaryFlags >> 2) & 3;\n        dictionary.huffmanDWSelector = (dictionaryFlags >> 4) & 3;\n        dictionary.bitmapSizeSelector = (dictionaryFlags >> 6) & 1;\n        dictionary.aggregationInstancesSelector = (dictionaryFlags >> 7) & 1;\n        dictionary.bitmapCodingContextUsed = !!(dictionaryFlags & 256);\n        dictionary.bitmapCodingContextRetained = !!(dictionaryFlags & 512);\n        dictionary.template = (dictionaryFlags >> 10) & 3;\n        dictionary.refinementTemplate = (dictionaryFlags >> 12) & 1;\n        position += 2;\n        if (!dictionary.huffman) {\n          atLength = dictionary.template === 0 ? 4 : 1;\n          at = [];\n          for (i = 0; i < atLength; i++) {\n            at.push({\n              x: readInt8(data, position),\n              y: readInt8(data, position + 1),\n            });\n            position += 2;\n          }\n          dictionary.at = at;\n        }\n        if (dictionary.refinement && !dictionary.refinementTemplate) {\n          at = [];\n          for (i = 0; i < 2; i++) {\n            at.push({\n              x: readInt8(data, position),\n              y: readInt8(data, position + 1),\n            });\n            position += 2;\n          }\n          dictionary.refinementAt = at;\n        }\n        dictionary.numberOfExportedSymbols = readUint32(data, position);\n        position += 4;\n        dictionary.numberOfNewSymbols = readUint32(data, position);\n        position += 4;\n        args = [\n          dictionary,\n          header.number,\n          header.referredTo,\n          data,\n          position,\n          end,\n        ];\n        break;\n      case 6: // ImmediateTextRegion\n      case 7: // ImmediateLosslessTextRegion\n        var textRegion = {};\n        textRegion.info = readRegionSegmentInformation(data, position);\n        position += RegionSegmentInformationFieldLength;\n        var textRegionSegmentFlags = readUint16(data, position);\n        position += 2;\n        textRegion.huffman = !!(textRegionSegmentFlags & 1);\n        textRegion.refinement = !!(textRegionSegmentFlags & 2);\n        textRegion.logStripSize = (textRegionSegmentFlags >> 2) & 3;\n        textRegion.stripSize = 1 << textRegion.logStripSize;\n        textRegion.referenceCorner = (textRegionSegmentFlags >> 4) & 3;\n        textRegion.transposed = !!(textRegionSegmentFlags & 64);\n        textRegion.combinationOperator = (textRegionSegmentFlags >> 7) & 3;\n        textRegion.defaultPixelValue = (textRegionSegmentFlags >> 9) & 1;\n        textRegion.dsOffset = (textRegionSegmentFlags << 17) >> 27;\n        textRegion.refinementTemplate = (textRegionSegmentFlags >> 15) & 1;\n        if (textRegion.huffman) {\n          var textRegionHuffmanFlags = readUint16(data, position);\n          position += 2;\n          textRegion.huffmanFS = textRegionHuffmanFlags & 3;\n          textRegion.huffmanDS = (textRegionHuffmanFlags >> 2) & 3;\n          textRegion.huffmanDT = (textRegionHuffmanFlags >> 4) & 3;\n          textRegion.huffmanRefinementDW = (textRegionHuffmanFlags >> 6) & 3;\n          textRegion.huffmanRefinementDH = (textRegionHuffmanFlags >> 8) & 3;\n          textRegion.huffmanRefinementDX = (textRegionHuffmanFlags >> 10) & 3;\n          textRegion.huffmanRefinementDY = (textRegionHuffmanFlags >> 12) & 3;\n          textRegion.huffmanRefinementSizeSelector = !!(\n            textRegionHuffmanFlags & 0x4000\n          );\n        }\n        if (textRegion.refinement && !textRegion.refinementTemplate) {\n          at = [];\n          for (i = 0; i < 2; i++) {\n            at.push({\n              x: readInt8(data, position),\n              y: readInt8(data, position + 1),\n            });\n            position += 2;\n          }\n          textRegion.refinementAt = at;\n        }\n        textRegion.numberOfSymbolInstances = readUint32(data, position);\n        position += 4;\n        args = [textRegion, header.referredTo, data, position, end];\n        break;\n      case 16: // PatternDictionary\n        // 7.4.4. Pattern dictionary segment syntax\n        const patternDictionary = {};\n        const patternDictionaryFlags = data[position++];\n        patternDictionary.mmr = !!(patternDictionaryFlags & 1);\n        patternDictionary.template = (patternDictionaryFlags >> 1) & 3;\n        patternDictionary.patternWidth = data[position++];\n        patternDictionary.patternHeight = data[position++];\n        patternDictionary.maxPatternIndex = readUint32(data, position);\n        position += 4;\n        args = [patternDictionary, header.number, data, position, end];\n        break;\n      case 22: // ImmediateHalftoneRegion\n      case 23: // ImmediateLosslessHalftoneRegion\n        // 7.4.5 Halftone region segment syntax\n        const halftoneRegion = {};\n        halftoneRegion.info = readRegionSegmentInformation(data, position);\n        position += RegionSegmentInformationFieldLength;\n        const halftoneRegionFlags = data[position++];\n        halftoneRegion.mmr = !!(halftoneRegionFlags & 1);\n        halftoneRegion.template = (halftoneRegionFlags >> 1) & 3;\n        halftoneRegion.enableSkip = !!(halftoneRegionFlags & 8);\n        halftoneRegion.combinationOperator = (halftoneRegionFlags >> 4) & 7;\n        halftoneRegion.defaultPixelValue = (halftoneRegionFlags >> 7) & 1;\n        halftoneRegion.gridWidth = readUint32(data, position);\n        position += 4;\n        halftoneRegion.gridHeight = readUint32(data, position);\n        position += 4;\n        halftoneRegion.gridOffsetX = readUint32(data, position) & 0xffffffff;\n        position += 4;\n        halftoneRegion.gridOffsetY = readUint32(data, position) & 0xffffffff;\n        position += 4;\n        halftoneRegion.gridVectorX = readUint16(data, position);\n        position += 2;\n        halftoneRegion.gridVectorY = readUint16(data, position);\n        position += 2;\n        args = [halftoneRegion, header.referredTo, data, position, end];\n        break;\n      case 38: // ImmediateGenericRegion\n      case 39: // ImmediateLosslessGenericRegion\n        var genericRegion = {};\n        genericRegion.info = readRegionSegmentInformation(data, position);\n        position += RegionSegmentInformationFieldLength;\n        var genericRegionSegmentFlags = data[position++];\n        genericRegion.mmr = !!(genericRegionSegmentFlags & 1);\n        genericRegion.template = (genericRegionSegmentFlags >> 1) & 3;\n        genericRegion.prediction = !!(genericRegionSegmentFlags & 8);\n        if (!genericRegion.mmr) {\n          atLength = genericRegion.template === 0 ? 4 : 1;\n          at = [];\n          for (i = 0; i < atLength; i++) {\n            at.push({\n              x: readInt8(data, position),\n              y: readInt8(data, position + 1),\n            });\n            position += 2;\n          }\n          genericRegion.at = at;\n        }\n        args = [genericRegion, data, position, end];\n        break;\n      case 48: // PageInformation\n        var pageInfo = {\n          width: readUint32(data, position),\n          height: readUint32(data, position + 4),\n          resolutionX: readUint32(data, position + 8),\n          resolutionY: readUint32(data, position + 12),\n        };\n        if (pageInfo.height === 0xffffffff) {\n          delete pageInfo.height;\n        }\n        var pageSegmentFlags = data[position + 16];\n        readUint16(data, position + 17); // pageStripingInformation\n        pageInfo.lossless = !!(pageSegmentFlags & 1);\n        pageInfo.refinement = !!(pageSegmentFlags & 2);\n        pageInfo.defaultPixelValue = (pageSegmentFlags >> 2) & 1;\n        pageInfo.combinationOperator = (pageSegmentFlags >> 3) & 3;\n        pageInfo.requiresBuffer = !!(pageSegmentFlags & 32);\n        pageInfo.combinationOperatorOverride = !!(pageSegmentFlags & 64);\n        args = [pageInfo];\n        break;\n      case 49: // EndOfPage\n        break;\n      case 50: // EndOfStripe\n        break;\n      case 51: // EndOfFile\n        break;\n      case 53: // Tables\n        args = [header.number, data, position, end];\n        break;\n      case 62: // 7.4.15 defines 2 extension types which\n        // are comments and can be ignored.\n        break;\n      default:\n        throw new Jbig2Error(\n          `segment type ${header.typeName}(${header.type})` +\n            \" is not implemented\"\n        );\n    }\n    var callbackName = \"on\" + header.typeName;\n    if (callbackName in visitor) {\n      visitor[callbackName].apply(visitor, args);\n    }\n  }\n\n  function processSegments(segments, visitor) {\n    for (var i = 0, ii = segments.length; i < ii; i++) {\n      processSegment(segments[i], visitor);\n    }\n  }\n\n  function parseJbig2Chunks(chunks) {\n    var visitor = new SimpleSegmentVisitor();\n    for (var i = 0, ii = chunks.length; i < ii; i++) {\n      var chunk = chunks[i];\n      var segments = readSegments({}, chunk.data, chunk.start, chunk.end);\n      processSegments(segments, visitor);\n    }\n    return visitor.buffer;\n  }\n\n  function parseJbig2(data) {\n    const end = data.length;\n    let position = 0;\n\n    if (\n      data[position] !== 0x97 ||\n      data[position + 1] !== 0x4a ||\n      data[position + 2] !== 0x42 ||\n      data[position + 3] !== 0x32 ||\n      data[position + 4] !== 0x0d ||\n      data[position + 5] !== 0x0a ||\n      data[position + 6] !== 0x1a ||\n      data[position + 7] !== 0x0a\n    ) {\n      throw new Jbig2Error(\"parseJbig2 - invalid header.\");\n    }\n\n    const header = Object.create(null);\n    position += 8;\n    const flags = data[position++];\n    header.randomAccess = !(flags & 1);\n    if (!(flags & 2)) {\n      header.numberOfPages = readUint32(data, position);\n      position += 4;\n    }\n\n    const segments = readSegments(header, data, position, end);\n    const visitor = new SimpleSegmentVisitor();\n    processSegments(segments, visitor);\n\n    const { width, height } = visitor.currentPageInfo;\n    const bitPacked = visitor.buffer;\n    const imgData = new Uint8ClampedArray(width * height);\n    let q = 0,\n      k = 0;\n    for (let i = 0; i < height; i++) {\n      let mask = 0,\n        buffer;\n      for (let j = 0; j < width; j++) {\n        if (!mask) {\n          mask = 128;\n          buffer = bitPacked[k++];\n        }\n        imgData[q++] = buffer & mask ? 0 : 255;\n        mask >>= 1;\n      }\n    }\n\n    return { imgData, width, height };\n  }\n\n  function SimpleSegmentVisitor() {}\n\n  SimpleSegmentVisitor.prototype = {\n    onPageInformation: function SimpleSegmentVisitor_onPageInformation(info) {\n      this.currentPageInfo = info;\n      var rowSize = (info.width + 7) >> 3;\n      var buffer = new Uint8ClampedArray(rowSize * info.height);\n      // The contents of ArrayBuffers are initialized to 0.\n      // Fill the buffer with 0xFF only if info.defaultPixelValue is set\n      if (info.defaultPixelValue) {\n        for (var i = 0, ii = buffer.length; i < ii; i++) {\n          buffer[i] = 0xff;\n        }\n      }\n      this.buffer = buffer;\n    },\n    drawBitmap: function SimpleSegmentVisitor_drawBitmap(regionInfo, bitmap) {\n      var pageInfo = this.currentPageInfo;\n      var width = regionInfo.width,\n        height = regionInfo.height;\n      var rowSize = (pageInfo.width + 7) >> 3;\n      var combinationOperator = pageInfo.combinationOperatorOverride\n        ? regionInfo.combinationOperator\n        : pageInfo.combinationOperator;\n      var buffer = this.buffer;\n      var mask0 = 128 >> (regionInfo.x & 7);\n      var offset0 = regionInfo.y * rowSize + (regionInfo.x >> 3);\n      var i, j, mask, offset;\n      switch (combinationOperator) {\n        case 0: // OR\n          for (i = 0; i < height; i++) {\n            mask = mask0;\n            offset = offset0;\n            for (j = 0; j < width; j++) {\n              if (bitmap[i][j]) {\n                buffer[offset] |= mask;\n              }\n              mask >>= 1;\n              if (!mask) {\n                mask = 128;\n                offset++;\n              }\n            }\n            offset0 += rowSize;\n          }\n          break;\n        case 2: // XOR\n          for (i = 0; i < height; i++) {\n            mask = mask0;\n            offset = offset0;\n            for (j = 0; j < width; j++) {\n              if (bitmap[i][j]) {\n                buffer[offset] ^= mask;\n              }\n              mask >>= 1;\n              if (!mask) {\n                mask = 128;\n                offset++;\n              }\n            }\n            offset0 += rowSize;\n          }\n          break;\n        default:\n          throw new Jbig2Error(\n            `operator ${combinationOperator} is not supported`\n          );\n      }\n    },\n    onImmediateGenericRegion: function SimpleSegmentVisitor_onImmediateGenericRegion(\n      region,\n      data,\n      start,\n      end\n    ) {\n      var regionInfo = region.info;\n      var decodingContext = new DecodingContext(data, start, end);\n      var bitmap = decodeBitmap(\n        region.mmr,\n        regionInfo.width,\n        regionInfo.height,\n        region.template,\n        region.prediction,\n        null,\n        region.at,\n        decodingContext\n      );\n      this.drawBitmap(regionInfo, bitmap);\n    },\n    onImmediateLosslessGenericRegion: function SimpleSegmentVisitor_onImmediateLosslessGenericRegion() {\n      this.onImmediateGenericRegion.apply(this, arguments);\n    },\n    onSymbolDictionary: function SimpleSegmentVisitor_onSymbolDictionary(\n      dictionary,\n      currentSegment,\n      referredSegments,\n      data,\n      start,\n      end\n    ) {\n      let huffmanTables, huffmanInput;\n      if (dictionary.huffman) {\n        huffmanTables = getSymbolDictionaryHuffmanTables(\n          dictionary,\n          referredSegments,\n          this.customTables\n        );\n        huffmanInput = new Reader(data, start, end);\n      }\n\n      // Combines exported symbols from all referred segments\n      var symbols = this.symbols;\n      if (!symbols) {\n        this.symbols = symbols = {};\n      }\n\n      var inputSymbols = [];\n      for (var i = 0, ii = referredSegments.length; i < ii; i++) {\n        const referredSymbols = symbols[referredSegments[i]];\n        // referredSymbols is undefined when we have a reference to a Tables\n        // segment instead of a SymbolDictionary.\n        if (referredSymbols) {\n          inputSymbols = inputSymbols.concat(referredSymbols);\n        }\n      }\n\n      var decodingContext = new DecodingContext(data, start, end);\n      symbols[currentSegment] = decodeSymbolDictionary(\n        dictionary.huffman,\n        dictionary.refinement,\n        inputSymbols,\n        dictionary.numberOfNewSymbols,\n        dictionary.numberOfExportedSymbols,\n        huffmanTables,\n        dictionary.template,\n        dictionary.at,\n        dictionary.refinementTemplate,\n        dictionary.refinementAt,\n        decodingContext,\n        huffmanInput\n      );\n    },\n    onImmediateTextRegion: function SimpleSegmentVisitor_onImmediateTextRegion(\n      region,\n      referredSegments,\n      data,\n      start,\n      end\n    ) {\n      var regionInfo = region.info;\n      let huffmanTables, huffmanInput;\n\n      // Combines exported symbols from all referred segments\n      var symbols = this.symbols;\n      var inputSymbols = [];\n      for (var i = 0, ii = referredSegments.length; i < ii; i++) {\n        const referredSymbols = symbols[referredSegments[i]];\n        // referredSymbols is undefined when we have a reference to a Tables\n        // segment instead of a SymbolDictionary.\n        if (referredSymbols) {\n          inputSymbols = inputSymbols.concat(referredSymbols);\n        }\n      }\n      var symbolCodeLength = log2(inputSymbols.length);\n      if (region.huffman) {\n        huffmanInput = new Reader(data, start, end);\n        huffmanTables = getTextRegionHuffmanTables(\n          region,\n          referredSegments,\n          this.customTables,\n          inputSymbols.length,\n          huffmanInput\n        );\n      }\n\n      var decodingContext = new DecodingContext(data, start, end);\n      var bitmap = decodeTextRegion(\n        region.huffman,\n        region.refinement,\n        regionInfo.width,\n        regionInfo.height,\n        region.defaultPixelValue,\n        region.numberOfSymbolInstances,\n        region.stripSize,\n        inputSymbols,\n        symbolCodeLength,\n        region.transposed,\n        region.dsOffset,\n        region.referenceCorner,\n        region.combinationOperator,\n        huffmanTables,\n        region.refinementTemplate,\n        region.refinementAt,\n        decodingContext,\n        region.logStripSize,\n        huffmanInput\n      );\n      this.drawBitmap(regionInfo, bitmap);\n    },\n    onImmediateLosslessTextRegion: function SimpleSegmentVisitor_onImmediateLosslessTextRegion() {\n      this.onImmediateTextRegion.apply(this, arguments);\n    },\n    onPatternDictionary(dictionary, currentSegment, data, start, end) {\n      let patterns = this.patterns;\n      if (!patterns) {\n        this.patterns = patterns = {};\n      }\n      const decodingContext = new DecodingContext(data, start, end);\n      patterns[currentSegment] = decodePatternDictionary(\n        dictionary.mmr,\n        dictionary.patternWidth,\n        dictionary.patternHeight,\n        dictionary.maxPatternIndex,\n        dictionary.template,\n        decodingContext\n      );\n    },\n    onImmediateHalftoneRegion(region, referredSegments, data, start, end) {\n      // HalftoneRegion refers to exactly one PatternDictionary.\n      const patterns = this.patterns[referredSegments[0]];\n      const regionInfo = region.info;\n      const decodingContext = new DecodingContext(data, start, end);\n      const bitmap = decodeHalftoneRegion(\n        region.mmr,\n        patterns,\n        region.template,\n        regionInfo.width,\n        regionInfo.height,\n        region.defaultPixelValue,\n        region.enableSkip,\n        region.combinationOperator,\n        region.gridWidth,\n        region.gridHeight,\n        region.gridOffsetX,\n        region.gridOffsetY,\n        region.gridVectorX,\n        region.gridVectorY,\n        decodingContext\n      );\n      this.drawBitmap(regionInfo, bitmap);\n    },\n    onImmediateLosslessHalftoneRegion() {\n      this.onImmediateHalftoneRegion.apply(this, arguments);\n    },\n    onTables(currentSegment, data, start, end) {\n      let customTables = this.customTables;\n      if (!customTables) {\n        this.customTables = customTables = {};\n      }\n      customTables[currentSegment] = decodeTablesSegment(data, start, end);\n    },\n  };\n\n  function HuffmanLine(lineData) {\n    if (lineData.length === 2) {\n      // OOB line.\n      this.isOOB = true;\n      this.rangeLow = 0;\n      this.prefixLength = lineData[0];\n      this.rangeLength = 0;\n      this.prefixCode = lineData[1];\n      this.isLowerRange = false;\n    } else {\n      // Normal, upper range or lower range line.\n      // Upper range lines are processed like normal lines.\n      this.isOOB = false;\n      this.rangeLow = lineData[0];\n      this.prefixLength = lineData[1];\n      this.rangeLength = lineData[2];\n      this.prefixCode = lineData[3];\n      this.isLowerRange = lineData[4] === \"lower\";\n    }\n  }\n\n  function HuffmanTreeNode(line) {\n    this.children = [];\n    if (line) {\n      // Leaf node\n      this.isLeaf = true;\n      this.rangeLength = line.rangeLength;\n      this.rangeLow = line.rangeLow;\n      this.isLowerRange = line.isLowerRange;\n      this.isOOB = line.isOOB;\n    } else {\n      // Intermediate or root node\n      this.isLeaf = false;\n    }\n  }\n\n  HuffmanTreeNode.prototype = {\n    buildTree(line, shift) {\n      const bit = (line.prefixCode >> shift) & 1;\n      if (shift <= 0) {\n        // Create a leaf node.\n        this.children[bit] = new HuffmanTreeNode(line);\n      } else {\n        // Create an intermediate node and continue recursively.\n        let node = this.children[bit];\n        if (!node) {\n          this.children[bit] = node = new HuffmanTreeNode(null);\n        }\n        node.buildTree(line, shift - 1);\n      }\n    },\n    decodeNode(reader) {\n      if (this.isLeaf) {\n        if (this.isOOB) {\n          return null;\n        }\n        const htOffset = reader.readBits(this.rangeLength);\n        return this.rangeLow + (this.isLowerRange ? -htOffset : htOffset);\n      }\n      const node = this.children[reader.readBit()];\n      if (!node) {\n        throw new Jbig2Error(\"invalid Huffman data\");\n      }\n      return node.decodeNode(reader);\n    },\n  };\n\n  function HuffmanTable(lines, prefixCodesDone) {\n    if (!prefixCodesDone) {\n      this.assignPrefixCodes(lines);\n    }\n    // Create Huffman tree.\n    this.rootNode = new HuffmanTreeNode(null);\n    for (let i = 0, ii = lines.length; i < ii; i++) {\n      const line = lines[i];\n      if (line.prefixLength > 0) {\n        this.rootNode.buildTree(line, line.prefixLength - 1);\n      }\n    }\n  }\n\n  HuffmanTable.prototype = {\n    decode(reader) {\n      return this.rootNode.decodeNode(reader);\n    },\n    assignPrefixCodes(lines) {\n      // Annex B.3 Assigning the prefix codes.\n      const linesLength = lines.length;\n      let prefixLengthMax = 0;\n      for (let i = 0; i < linesLength; i++) {\n        prefixLengthMax = Math.max(prefixLengthMax, lines[i].prefixLength);\n      }\n\n      const histogram = new Uint32Array(prefixLengthMax + 1);\n      for (let i = 0; i < linesLength; i++) {\n        histogram[lines[i].prefixLength]++;\n      }\n      let currentLength = 1,\n        firstCode = 0,\n        currentCode,\n        currentTemp,\n        line;\n      histogram[0] = 0;\n\n      while (currentLength <= prefixLengthMax) {\n        firstCode = (firstCode + histogram[currentLength - 1]) << 1;\n        currentCode = firstCode;\n        currentTemp = 0;\n        while (currentTemp < linesLength) {\n          line = lines[currentTemp];\n          if (line.prefixLength === currentLength) {\n            line.prefixCode = currentCode;\n            currentCode++;\n          }\n          currentTemp++;\n        }\n        currentLength++;\n      }\n    },\n  };\n\n  function decodeTablesSegment(data, start, end) {\n    // Decodes a Tables segment, i.e., a custom Huffman table.\n    // Annex B.2 Code table structure.\n    const flags = data[start];\n    const lowestValue = readUint32(data, start + 1) & 0xffffffff;\n    const highestValue = readUint32(data, start + 5) & 0xffffffff;\n    const reader = new Reader(data, start + 9, end);\n\n    const prefixSizeBits = ((flags >> 1) & 7) + 1;\n    const rangeSizeBits = ((flags >> 4) & 7) + 1;\n    const lines = [];\n    let prefixLength,\n      rangeLength,\n      currentRangeLow = lowestValue;\n\n    // Normal table lines\n    do {\n      prefixLength = reader.readBits(prefixSizeBits);\n      rangeLength = reader.readBits(rangeSizeBits);\n      lines.push(\n        new HuffmanLine([currentRangeLow, prefixLength, rangeLength, 0])\n      );\n      currentRangeLow += 1 << rangeLength;\n    } while (currentRangeLow < highestValue);\n\n    // Lower range table line\n    prefixLength = reader.readBits(prefixSizeBits);\n    lines.push(\n      new HuffmanLine([lowestValue - 1, prefixLength, 32, 0, \"lower\"])\n    );\n\n    // Upper range table line\n    prefixLength = reader.readBits(prefixSizeBits);\n    lines.push(new HuffmanLine([highestValue, prefixLength, 32, 0]));\n\n    if (flags & 1) {\n      // Out-of-band table line\n      prefixLength = reader.readBits(prefixSizeBits);\n      lines.push(new HuffmanLine([prefixLength, 0]));\n    }\n\n    return new HuffmanTable(lines, false);\n  }\n\n  const standardTablesCache = {};\n\n  function getStandardTable(number) {\n    // Annex B.5 Standard Huffman tables.\n    let table = standardTablesCache[number];\n    if (table) {\n      return table;\n    }\n    let lines;\n    switch (number) {\n      case 1:\n        lines = [\n          [0, 1, 4, 0x0],\n          [16, 2, 8, 0x2],\n          [272, 3, 16, 0x6],\n          [65808, 3, 32, 0x7], // upper\n        ];\n        break;\n      case 2:\n        lines = [\n          [0, 1, 0, 0x0],\n          [1, 2, 0, 0x2],\n          [2, 3, 0, 0x6],\n          [3, 4, 3, 0xe],\n          [11, 5, 6, 0x1e],\n          [75, 6, 32, 0x3e], // upper\n          [6, 0x3f], // OOB\n        ];\n        break;\n      case 3:\n        lines = [\n          [-256, 8, 8, 0xfe],\n          [0, 1, 0, 0x0],\n          [1, 2, 0, 0x2],\n          [2, 3, 0, 0x6],\n          [3, 4, 3, 0xe],\n          [11, 5, 6, 0x1e],\n          [-257, 8, 32, 0xff, \"lower\"],\n          [75, 7, 32, 0x7e], // upper\n          [6, 0x3e], // OOB\n        ];\n        break;\n      case 4:\n        lines = [\n          [1, 1, 0, 0x0],\n          [2, 2, 0, 0x2],\n          [3, 3, 0, 0x6],\n          [4, 4, 3, 0xe],\n          [12, 5, 6, 0x1e],\n          [76, 5, 32, 0x1f], // upper\n        ];\n        break;\n      case 5:\n        lines = [\n          [-255, 7, 8, 0x7e],\n          [1, 1, 0, 0x0],\n          [2, 2, 0, 0x2],\n          [3, 3, 0, 0x6],\n          [4, 4, 3, 0xe],\n          [12, 5, 6, 0x1e],\n          [-256, 7, 32, 0x7f, \"lower\"],\n          [76, 6, 32, 0x3e], // upper\n        ];\n        break;\n      case 6:\n        lines = [\n          [-2048, 5, 10, 0x1c],\n          [-1024, 4, 9, 0x8],\n          [-512, 4, 8, 0x9],\n          [-256, 4, 7, 0xa],\n          [-128, 5, 6, 0x1d],\n          [-64, 5, 5, 0x1e],\n          [-32, 4, 5, 0xb],\n          [0, 2, 7, 0x0],\n          [128, 3, 7, 0x2],\n          [256, 3, 8, 0x3],\n          [512, 4, 9, 0xc],\n          [1024, 4, 10, 0xd],\n          [-2049, 6, 32, 0x3e, \"lower\"],\n          [2048, 6, 32, 0x3f], // upper\n        ];\n        break;\n      case 7:\n        lines = [\n          [-1024, 4, 9, 0x8],\n          [-512, 3, 8, 0x0],\n          [-256, 4, 7, 0x9],\n          [-128, 5, 6, 0x1a],\n          [-64, 5, 5, 0x1b],\n          [-32, 4, 5, 0xa],\n          [0, 4, 5, 0xb],\n          [32, 5, 5, 0x1c],\n          [64, 5, 6, 0x1d],\n          [128, 4, 7, 0xc],\n          [256, 3, 8, 0x1],\n          [512, 3, 9, 0x2],\n          [1024, 3, 10, 0x3],\n          [-1025, 5, 32, 0x1e, \"lower\"],\n          [2048, 5, 32, 0x1f], // upper\n        ];\n        break;\n      case 8:\n        lines = [\n          [-15, 8, 3, 0xfc],\n          [-7, 9, 1, 0x1fc],\n          [-5, 8, 1, 0xfd],\n          [-3, 9, 0, 0x1fd],\n          [-2, 7, 0, 0x7c],\n          [-1, 4, 0, 0xa],\n          [0, 2, 1, 0x0],\n          [2, 5, 0, 0x1a],\n          [3, 6, 0, 0x3a],\n          [4, 3, 4, 0x4],\n          [20, 6, 1, 0x3b],\n          [22, 4, 4, 0xb],\n          [38, 4, 5, 0xc],\n          [70, 5, 6, 0x1b],\n          [134, 5, 7, 0x1c],\n          [262, 6, 7, 0x3c],\n          [390, 7, 8, 0x7d],\n          [646, 6, 10, 0x3d],\n          [-16, 9, 32, 0x1fe, \"lower\"],\n          [1670, 9, 32, 0x1ff], // upper\n          [2, 0x1], // OOB\n        ];\n        break;\n      case 9:\n        lines = [\n          [-31, 8, 4, 0xfc],\n          [-15, 9, 2, 0x1fc],\n          [-11, 8, 2, 0xfd],\n          [-7, 9, 1, 0x1fd],\n          [-5, 7, 1, 0x7c],\n          [-3, 4, 1, 0xa],\n          [-1, 3, 1, 0x2],\n          [1, 3, 1, 0x3],\n          [3, 5, 1, 0x1a],\n          [5, 6, 1, 0x3a],\n          [7, 3, 5, 0x4],\n          [39, 6, 2, 0x3b],\n          [43, 4, 5, 0xb],\n          [75, 4, 6, 0xc],\n          [139, 5, 7, 0x1b],\n          [267, 5, 8, 0x1c],\n          [523, 6, 8, 0x3c],\n          [779, 7, 9, 0x7d],\n          [1291, 6, 11, 0x3d],\n          [-32, 9, 32, 0x1fe, \"lower\"],\n          [3339, 9, 32, 0x1ff], // upper\n          [2, 0x0], // OOB\n        ];\n        break;\n      case 10:\n        lines = [\n          [-21, 7, 4, 0x7a],\n          [-5, 8, 0, 0xfc],\n          [-4, 7, 0, 0x7b],\n          [-3, 5, 0, 0x18],\n          [-2, 2, 2, 0x0],\n          [2, 5, 0, 0x19],\n          [3, 6, 0, 0x36],\n          [4, 7, 0, 0x7c],\n          [5, 8, 0, 0xfd],\n          [6, 2, 6, 0x1],\n          [70, 5, 5, 0x1a],\n          [102, 6, 5, 0x37],\n          [134, 6, 6, 0x38],\n          [198, 6, 7, 0x39],\n          [326, 6, 8, 0x3a],\n          [582, 6, 9, 0x3b],\n          [1094, 6, 10, 0x3c],\n          [2118, 7, 11, 0x7d],\n          [-22, 8, 32, 0xfe, \"lower\"],\n          [4166, 8, 32, 0xff], // upper\n          [2, 0x2], // OOB\n        ];\n        break;\n      case 11:\n        lines = [\n          [1, 1, 0, 0x0],\n          [2, 2, 1, 0x2],\n          [4, 4, 0, 0xc],\n          [5, 4, 1, 0xd],\n          [7, 5, 1, 0x1c],\n          [9, 5, 2, 0x1d],\n          [13, 6, 2, 0x3c],\n          [17, 7, 2, 0x7a],\n          [21, 7, 3, 0x7b],\n          [29, 7, 4, 0x7c],\n          [45, 7, 5, 0x7d],\n          [77, 7, 6, 0x7e],\n          [141, 7, 32, 0x7f], // upper\n        ];\n        break;\n      case 12:\n        lines = [\n          [1, 1, 0, 0x0],\n          [2, 2, 0, 0x2],\n          [3, 3, 1, 0x6],\n          [5, 5, 0, 0x1c],\n          [6, 5, 1, 0x1d],\n          [8, 6, 1, 0x3c],\n          [10, 7, 0, 0x7a],\n          [11, 7, 1, 0x7b],\n          [13, 7, 2, 0x7c],\n          [17, 7, 3, 0x7d],\n          [25, 7, 4, 0x7e],\n          [41, 8, 5, 0xfe],\n          [73, 8, 32, 0xff], // upper\n        ];\n        break;\n      case 13:\n        lines = [\n          [1, 1, 0, 0x0],\n          [2, 3, 0, 0x4],\n          [3, 4, 0, 0xc],\n          [4, 5, 0, 0x1c],\n          [5, 4, 1, 0xd],\n          [7, 3, 3, 0x5],\n          [15, 6, 1, 0x3a],\n          [17, 6, 2, 0x3b],\n          [21, 6, 3, 0x3c],\n          [29, 6, 4, 0x3d],\n          [45, 6, 5, 0x3e],\n          [77, 7, 6, 0x7e],\n          [141, 7, 32, 0x7f], // upper\n        ];\n        break;\n      case 14:\n        lines = [\n          [-2, 3, 0, 0x4],\n          [-1, 3, 0, 0x5],\n          [0, 1, 0, 0x0],\n          [1, 3, 0, 0x6],\n          [2, 3, 0, 0x7],\n        ];\n        break;\n      case 15:\n        lines = [\n          [-24, 7, 4, 0x7c],\n          [-8, 6, 2, 0x3c],\n          [-4, 5, 1, 0x1c],\n          [-2, 4, 0, 0xc],\n          [-1, 3, 0, 0x4],\n          [0, 1, 0, 0x0],\n          [1, 3, 0, 0x5],\n          [2, 4, 0, 0xd],\n          [3, 5, 1, 0x1d],\n          [5, 6, 2, 0x3d],\n          [9, 7, 4, 0x7d],\n          [-25, 7, 32, 0x7e, \"lower\"],\n          [25, 7, 32, 0x7f], // upper\n        ];\n        break;\n      default:\n        throw new Jbig2Error(`standard table B.${number} does not exist`);\n    }\n\n    for (let i = 0, ii = lines.length; i < ii; i++) {\n      lines[i] = new HuffmanLine(lines[i]);\n    }\n    table = new HuffmanTable(lines, true);\n    standardTablesCache[number] = table;\n    return table;\n  }\n\n  function Reader(data, start, end) {\n    this.data = data;\n    this.start = start;\n    this.end = end;\n    this.position = start;\n    this.shift = -1;\n    this.currentByte = 0;\n  }\n\n  Reader.prototype = {\n    readBit() {\n      if (this.shift < 0) {\n        if (this.position >= this.end) {\n          throw new Jbig2Error(\"end of data while reading bit\");\n        }\n        this.currentByte = this.data[this.position++];\n        this.shift = 7;\n      }\n      const bit = (this.currentByte >> this.shift) & 1;\n      this.shift--;\n      return bit;\n    },\n\n    readBits(numBits) {\n      let result = 0,\n        i;\n      for (i = numBits - 1; i >= 0; i--) {\n        result |= this.readBit() << i;\n      }\n      return result;\n    },\n\n    byteAlign() {\n      this.shift = -1;\n    },\n\n    next() {\n      if (this.position >= this.end) {\n        return -1;\n      }\n      return this.data[this.position++];\n    },\n  };\n\n  function getCustomHuffmanTable(index, referredTo, customTables) {\n    // Returns a Tables segment that has been earlier decoded.\n    // See 7.4.2.1.6 (symbol dictionary) or 7.4.3.1.6 (text region).\n    let currentIndex = 0;\n    for (let i = 0, ii = referredTo.length; i < ii; i++) {\n      const table = customTables[referredTo[i]];\n      if (table) {\n        if (index === currentIndex) {\n          return table;\n        }\n        currentIndex++;\n      }\n    }\n    throw new Jbig2Error(\"can't find custom Huffman table\");\n  }\n\n  function getTextRegionHuffmanTables(\n    textRegion,\n    referredTo,\n    customTables,\n    numberOfSymbols,\n    reader\n  ) {\n    // 7.4.3.1.7 Symbol ID Huffman table decoding\n\n    // Read code lengths for RUNCODEs 0...34.\n    const codes = [];\n    for (let i = 0; i <= 34; i++) {\n      const codeLength = reader.readBits(4);\n      codes.push(new HuffmanLine([i, codeLength, 0, 0]));\n    }\n    // Assign Huffman codes for RUNCODEs.\n    const runCodesTable = new HuffmanTable(codes, false);\n\n    // Read a Huffman code using the assignment above.\n    // Interpret the RUNCODE codes and the additional bits (if any).\n    codes.length = 0;\n    for (let i = 0; i < numberOfSymbols; ) {\n      const codeLength = runCodesTable.decode(reader);\n      if (codeLength >= 32) {\n        let repeatedLength, numberOfRepeats, j;\n        switch (codeLength) {\n          case 32:\n            if (i === 0) {\n              throw new Jbig2Error(\"no previous value in symbol ID table\");\n            }\n            numberOfRepeats = reader.readBits(2) + 3;\n            repeatedLength = codes[i - 1].prefixLength;\n            break;\n          case 33:\n            numberOfRepeats = reader.readBits(3) + 3;\n            repeatedLength = 0;\n            break;\n          case 34:\n            numberOfRepeats = reader.readBits(7) + 11;\n            repeatedLength = 0;\n            break;\n          default:\n            throw new Jbig2Error(\"invalid code length in symbol ID table\");\n        }\n        for (j = 0; j < numberOfRepeats; j++) {\n          codes.push(new HuffmanLine([i, repeatedLength, 0, 0]));\n          i++;\n        }\n      } else {\n        codes.push(new HuffmanLine([i, codeLength, 0, 0]));\n        i++;\n      }\n    }\n    reader.byteAlign();\n    const symbolIDTable = new HuffmanTable(codes, false);\n\n    // 7.4.3.1.6 Text region segment Huffman table selection\n\n    let customIndex = 0,\n      tableFirstS,\n      tableDeltaS,\n      tableDeltaT;\n\n    switch (textRegion.huffmanFS) {\n      case 0:\n      case 1:\n        tableFirstS = getStandardTable(textRegion.huffmanFS + 6);\n        break;\n      case 3:\n        tableFirstS = getCustomHuffmanTable(\n          customIndex,\n          referredTo,\n          customTables\n        );\n        customIndex++;\n        break;\n      default:\n        throw new Jbig2Error(\"invalid Huffman FS selector\");\n    }\n\n    switch (textRegion.huffmanDS) {\n      case 0:\n      case 1:\n      case 2:\n        tableDeltaS = getStandardTable(textRegion.huffmanDS + 8);\n        break;\n      case 3:\n        tableDeltaS = getCustomHuffmanTable(\n          customIndex,\n          referredTo,\n          customTables\n        );\n        customIndex++;\n        break;\n      default:\n        throw new Jbig2Error(\"invalid Huffman DS selector\");\n    }\n\n    switch (textRegion.huffmanDT) {\n      case 0:\n      case 1:\n      case 2:\n        tableDeltaT = getStandardTable(textRegion.huffmanDT + 11);\n        break;\n      case 3:\n        tableDeltaT = getCustomHuffmanTable(\n          customIndex,\n          referredTo,\n          customTables\n        );\n        customIndex++;\n        break;\n      default:\n        throw new Jbig2Error(\"invalid Huffman DT selector\");\n    }\n\n    if (textRegion.refinement) {\n      // Load tables RDW, RDH, RDX and RDY.\n      throw new Jbig2Error(\"refinement with Huffman is not supported\");\n    }\n\n    return {\n      symbolIDTable,\n      tableFirstS,\n      tableDeltaS,\n      tableDeltaT,\n    };\n  }\n\n  function getSymbolDictionaryHuffmanTables(\n    dictionary,\n    referredTo,\n    customTables\n  ) {\n    // 7.4.2.1.6 Symbol dictionary segment Huffman table selection\n\n    let customIndex = 0,\n      tableDeltaHeight,\n      tableDeltaWidth;\n    switch (dictionary.huffmanDHSelector) {\n      case 0:\n      case 1:\n        tableDeltaHeight = getStandardTable(dictionary.huffmanDHSelector + 4);\n        break;\n      case 3:\n        tableDeltaHeight = getCustomHuffmanTable(\n          customIndex,\n          referredTo,\n          customTables\n        );\n        customIndex++;\n        break;\n      default:\n        throw new Jbig2Error(\"invalid Huffman DH selector\");\n    }\n\n    switch (dictionary.huffmanDWSelector) {\n      case 0:\n      case 1:\n        tableDeltaWidth = getStandardTable(dictionary.huffmanDWSelector + 2);\n        break;\n      case 3:\n        tableDeltaWidth = getCustomHuffmanTable(\n          customIndex,\n          referredTo,\n          customTables\n        );\n        customIndex++;\n        break;\n      default:\n        throw new Jbig2Error(\"invalid Huffman DW selector\");\n    }\n\n    let tableBitmapSize, tableAggregateInstances;\n    if (dictionary.bitmapSizeSelector) {\n      tableBitmapSize = getCustomHuffmanTable(\n        customIndex,\n        referredTo,\n        customTables\n      );\n      customIndex++;\n    } else {\n      tableBitmapSize = getStandardTable(1);\n    }\n\n    if (dictionary.aggregationInstancesSelector) {\n      tableAggregateInstances = getCustomHuffmanTable(\n        customIndex,\n        referredTo,\n        customTables\n      );\n    } else {\n      tableAggregateInstances = getStandardTable(1);\n    }\n\n    return {\n      tableDeltaHeight,\n      tableDeltaWidth,\n      tableBitmapSize,\n      tableAggregateInstances,\n    };\n  }\n\n  function readUncompressedBitmap(reader, width, height) {\n    const bitmap = [];\n    for (let y = 0; y < height; y++) {\n      const row = new Uint8Array(width);\n      bitmap.push(row);\n      for (let x = 0; x < width; x++) {\n        row[x] = reader.readBit();\n      }\n      reader.byteAlign();\n    }\n    return bitmap;\n  }\n\n  function decodeMMRBitmap(input, width, height, endOfBlock) {\n    // MMR is the same compression algorithm as the PDF filter\n    // CCITTFaxDecode with /K -1.\n    const params = {\n      K: -1,\n      Columns: width,\n      Rows: height,\n      BlackIs1: true,\n      EndOfBlock: endOfBlock,\n    };\n    const decoder = new CCITTFaxDecoder(input, params);\n    const bitmap = [];\n    let currentByte,\n      eof = false;\n\n    for (let y = 0; y < height; y++) {\n      const row = new Uint8Array(width);\n      bitmap.push(row);\n      let shift = -1;\n      for (let x = 0; x < width; x++) {\n        if (shift < 0) {\n          currentByte = decoder.readNextChar();\n          if (currentByte === -1) {\n            // Set the rest of the bits to zero.\n            currentByte = 0;\n            eof = true;\n          }\n          shift = 7;\n        }\n        row[x] = (currentByte >> shift) & 1;\n        shift--;\n      }\n    }\n\n    if (endOfBlock && !eof) {\n      // Read until EOFB has been consumed.\n      const lookForEOFLimit = 5;\n      for (let i = 0; i < lookForEOFLimit; i++) {\n        if (decoder.readNextChar() === -1) {\n          break;\n        }\n      }\n    }\n\n    return bitmap;\n  }\n\n  // eslint-disable-next-line no-shadow\n  function Jbig2Image() {}\n\n  Jbig2Image.prototype = {\n    parseChunks(chunks) {\n      return parseJbig2Chunks(chunks);\n    },\n\n    parse(data) {\n      const { imgData, width, height } = parseJbig2(data);\n      this.width = width;\n      this.height = height;\n      return imgData;\n    },\n  };\n\n  return Jbig2Image;\n})();\n\nexport { Jbig2Image };\n","/* Copyright 2019 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\nimport { assert, BaseException, warn } from \"../shared/util.js\";\n\nfunction getLookupTableFactory(initializer) {\n  let lookup;\n  return function () {\n    if (initializer) {\n      lookup = Object.create(null);\n      initializer(lookup);\n      initializer = null;\n    }\n    return lookup;\n  };\n}\n\nclass MissingDataException extends BaseException {\n  constructor(begin, end) {\n    super(`Missing data [${begin}, ${end})`);\n    this.begin = begin;\n    this.end = end;\n  }\n}\n\nclass XRefEntryException extends BaseException {}\n\nclass XRefParseException extends BaseException {}\n\n/**\n * Get the value of an inheritable property.\n *\n * If the PDF specification explicitly lists a property in a dictionary as\n * inheritable, then the value of the property may be present in the dictionary\n * itself or in one or more parents of the dictionary.\n *\n * If the key is not found in the tree, `undefined` is returned. Otherwise,\n * the value for the key is returned or, if `stopWhenFound` is `false`, a list\n * of values is returned. To avoid infinite loops, the traversal is stopped when\n * the loop limit is reached.\n *\n * @param {Dict} dict - Dictionary from where to start the traversal.\n * @param {string} key - The key of the property to find the value for.\n * @param {boolean} getArray - Whether or not the value should be fetched as an\n *   array. The default value is `false`.\n * @param {boolean} stopWhenFound - Whether or not to stop the traversal when\n *   the key is found. If set to `false`, we always walk up the entire parent\n *   chain, for example to be able to find `\\Resources` placed on multiple\n *   levels of the tree. The default value is `true`.\n */\nfunction getInheritableProperty({\n  dict,\n  key,\n  getArray = false,\n  stopWhenFound = true,\n}) {\n  const LOOP_LIMIT = 100;\n  let loopCount = 0;\n  let values;\n\n  while (dict) {\n    const value = getArray ? dict.getArray(key) : dict.get(key);\n    if (value !== undefined) {\n      if (stopWhenFound) {\n        return value;\n      }\n      if (!values) {\n        values = [];\n      }\n      values.push(value);\n    }\n    if (++loopCount > LOOP_LIMIT) {\n      warn(`getInheritableProperty: maximum loop count exceeded for \"${key}\"`);\n      break;\n    }\n    dict = dict.get(\"Parent\");\n  }\n  return values;\n}\n\n// prettier-ignore\nconst ROMAN_NUMBER_MAP = [\n  \"\", \"C\", \"CC\", \"CCC\", \"CD\", \"D\", \"DC\", \"DCC\", \"DCCC\", \"CM\",\n  \"\", \"X\", \"XX\", \"XXX\", \"XL\", \"L\", \"LX\", \"LXX\", \"LXXX\", \"XC\",\n  \"\", \"I\", \"II\", \"III\", \"IV\", \"V\", \"VI\", \"VII\", \"VIII\", \"IX\"\n];\n\n/**\n * Converts positive integers to (upper case) Roman numerals.\n * @param {number} number - The number that should be converted.\n * @param {boolean} lowerCase - Indicates if the result should be converted\n *   to lower case letters. The default value is `false`.\n * @returns {string} The resulting Roman number.\n */\nfunction toRomanNumerals(number, lowerCase = false) {\n  assert(\n    Number.isInteger(number) && number > 0,\n    \"The number should be a positive integer.\"\n  );\n  const romanBuf = [];\n  let pos;\n  // Thousands\n  while (number >= 1000) {\n    number -= 1000;\n    romanBuf.push(\"M\");\n  }\n  // Hundreds\n  pos = (number / 100) | 0;\n  number %= 100;\n  romanBuf.push(ROMAN_NUMBER_MAP[pos]);\n  // Tens\n  pos = (number / 10) | 0;\n  number %= 10;\n  romanBuf.push(ROMAN_NUMBER_MAP[10 + pos]);\n  // Ones\n  romanBuf.push(ROMAN_NUMBER_MAP[20 + number]);\n\n  const romanStr = romanBuf.join(\"\");\n  return lowerCase ? romanStr.toLowerCase() : romanStr;\n}\n\n// Calculate the base 2 logarithm of the number `x`. This differs from the\n// native function in the sense that it returns the ceiling value and that it\n// returns 0 instead of `Infinity`/`NaN` for `x` values smaller than/equal to 0.\nfunction log2(x) {\n  if (x <= 0) {\n    return 0;\n  }\n  return Math.ceil(Math.log2(x));\n}\n\nfunction readInt8(data, offset) {\n  return (data[offset] << 24) >> 24;\n}\n\nfunction readUint16(data, offset) {\n  return (data[offset] << 8) | data[offset + 1];\n}\n\nfunction readUint32(data, offset) {\n  return (\n    ((data[offset] << 24) |\n      (data[offset + 1] << 16) |\n      (data[offset + 2] << 8) |\n      data[offset + 3]) >>>\n    0\n  );\n}\n\n// Checks if ch is one of the following characters: SPACE, TAB, CR or LF.\nfunction isWhiteSpace(ch) {\n  return ch === 0x20 || ch === 0x09 || ch === 0x0d || ch === 0x0a;\n}\n\nexport {\n  getLookupTableFactory,\n  MissingDataException,\n  XRefEntryException,\n  XRefParseException,\n  getInheritableProperty,\n  toRomanNumerals,\n  log2,\n  readInt8,\n  readUint16,\n  readUint32,\n  isWhiteSpace,\n};\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint no-var: error */\n\n// Table C-2\nconst QeTable = [\n  { qe: 0x5601, nmps: 1, nlps: 1, switchFlag: 1 },\n  { qe: 0x3401, nmps: 2, nlps: 6, switchFlag: 0 },\n  { qe: 0x1801, nmps: 3, nlps: 9, switchFlag: 0 },\n  { qe: 0x0ac1, nmps: 4, nlps: 12, switchFlag: 0 },\n  { qe: 0x0521, nmps: 5, nlps: 29, switchFlag: 0 },\n  { qe: 0x0221, nmps: 38, nlps: 33, switchFlag: 0 },\n  { qe: 0x5601, nmps: 7, nlps: 6, switchFlag: 1 },\n  { qe: 0x5401, nmps: 8, nlps: 14, switchFlag: 0 },\n  { qe: 0x4801, nmps: 9, nlps: 14, switchFlag: 0 },\n  { qe: 0x3801, nmps: 10, nlps: 14, switchFlag: 0 },\n  { qe: 0x3001, nmps: 11, nlps: 17, switchFlag: 0 },\n  { qe: 0x2401, nmps: 12, nlps: 18, switchFlag: 0 },\n  { qe: 0x1c01, nmps: 13, nlps: 20, switchFlag: 0 },\n  { qe: 0x1601, nmps: 29, nlps: 21, switchFlag: 0 },\n  { qe: 0x5601, nmps: 15, nlps: 14, switchFlag: 1 },\n  { qe: 0x5401, nmps: 16, nlps: 14, switchFlag: 0 },\n  { qe: 0x5101, nmps: 17, nlps: 15, switchFlag: 0 },\n  { qe: 0x4801, nmps: 18, nlps: 16, switchFlag: 0 },\n  { qe: 0x3801, nmps: 19, nlps: 17, switchFlag: 0 },\n  { qe: 0x3401, nmps: 20, nlps: 18, switchFlag: 0 },\n  { qe: 0x3001, nmps: 21, nlps: 19, switchFlag: 0 },\n  { qe: 0x2801, nmps: 22, nlps: 19, switchFlag: 0 },\n  { qe: 0x2401, nmps: 23, nlps: 20, switchFlag: 0 },\n  { qe: 0x2201, nmps: 24, nlps: 21, switchFlag: 0 },\n  { qe: 0x1c01, nmps: 25, nlps: 22, switchFlag: 0 },\n  { qe: 0x1801, nmps: 26, nlps: 23, switchFlag: 0 },\n  { qe: 0x1601, nmps: 27, nlps: 24, switchFlag: 0 },\n  { qe: 0x1401, nmps: 28, nlps: 25, switchFlag: 0 },\n  { qe: 0x1201, nmps: 29, nlps: 26, switchFlag: 0 },\n  { qe: 0x1101, nmps: 30, nlps: 27, switchFlag: 0 },\n  { qe: 0x0ac1, nmps: 31, nlps: 28, switchFlag: 0 },\n  { qe: 0x09c1, nmps: 32, nlps: 29, switchFlag: 0 },\n  { qe: 0x08a1, nmps: 33, nlps: 30, switchFlag: 0 },\n  { qe: 0x0521, nmps: 34, nlps: 31, switchFlag: 0 },\n  { qe: 0x0441, nmps: 35, nlps: 32, switchFlag: 0 },\n  { qe: 0x02a1, nmps: 36, nlps: 33, switchFlag: 0 },\n  { qe: 0x0221, nmps: 37, nlps: 34, switchFlag: 0 },\n  { qe: 0x0141, nmps: 38, nlps: 35, switchFlag: 0 },\n  { qe: 0x0111, nmps: 39, nlps: 36, switchFlag: 0 },\n  { qe: 0x0085, nmps: 40, nlps: 37, switchFlag: 0 },\n  { qe: 0x0049, nmps: 41, nlps: 38, switchFlag: 0 },\n  { qe: 0x0025, nmps: 42, nlps: 39, switchFlag: 0 },\n  { qe: 0x0015, nmps: 43, nlps: 40, switchFlag: 0 },\n  { qe: 0x0009, nmps: 44, nlps: 41, switchFlag: 0 },\n  { qe: 0x0005, nmps: 45, nlps: 42, switchFlag: 0 },\n  { qe: 0x0001, nmps: 45, nlps: 43, switchFlag: 0 },\n  { qe: 0x5601, nmps: 46, nlps: 46, switchFlag: 0 },\n];\n\n/**\n * This class implements the QM Coder decoding as defined in\n *   JPEG 2000 Part I Final Committee Draft Version 1.0\n *   Annex C.3 Arithmetic decoding procedure\n * available at http://www.jpeg.org/public/fcd15444-1.pdf\n *\n * The arithmetic decoder is used in conjunction with context models to decode\n * JPEG2000 and JBIG2 streams.\n */\nclass ArithmeticDecoder {\n  // C.3.5 Initialisation of the decoder (INITDEC)\n  constructor(data, start, end) {\n    this.data = data;\n    this.bp = start;\n    this.dataEnd = end;\n\n    this.chigh = data[start];\n    this.clow = 0;\n\n    this.byteIn();\n\n    this.chigh = ((this.chigh << 7) & 0xffff) | ((this.clow >> 9) & 0x7f);\n    this.clow = (this.clow << 7) & 0xffff;\n    this.ct -= 7;\n    this.a = 0x8000;\n  }\n\n  // C.3.4 Compressed data input (BYTEIN)\n  byteIn() {\n    const data = this.data;\n    let bp = this.bp;\n\n    if (data[bp] === 0xff) {\n      if (data[bp + 1] > 0x8f) {\n        this.clow += 0xff00;\n        this.ct = 8;\n      } else {\n        bp++;\n        this.clow += data[bp] << 9;\n        this.ct = 7;\n        this.bp = bp;\n      }\n    } else {\n      bp++;\n      this.clow += bp < this.dataEnd ? data[bp] << 8 : 0xff00;\n      this.ct = 8;\n      this.bp = bp;\n    }\n    if (this.clow > 0xffff) {\n      this.chigh += this.clow >> 16;\n      this.clow &= 0xffff;\n    }\n  }\n\n  // C.3.2 Decoding a decision (DECODE)\n  readBit(contexts, pos) {\n    // Contexts are packed into 1 byte:\n    // highest 7 bits carry cx.index, lowest bit carries cx.mps\n    let cx_index = contexts[pos] >> 1,\n      cx_mps = contexts[pos] & 1;\n    const qeTableIcx = QeTable[cx_index];\n    const qeIcx = qeTableIcx.qe;\n    let d;\n    let a = this.a - qeIcx;\n\n    if (this.chigh < qeIcx) {\n      // exchangeLps\n      if (a < qeIcx) {\n        a = qeIcx;\n        d = cx_mps;\n        cx_index = qeTableIcx.nmps;\n      } else {\n        a = qeIcx;\n        d = 1 ^ cx_mps;\n        if (qeTableIcx.switchFlag === 1) {\n          cx_mps = d;\n        }\n        cx_index = qeTableIcx.nlps;\n      }\n    } else {\n      this.chigh -= qeIcx;\n      if ((a & 0x8000) !== 0) {\n        this.a = a;\n        return cx_mps;\n      }\n      // exchangeMps\n      if (a < qeIcx) {\n        d = 1 ^ cx_mps;\n        if (qeTableIcx.switchFlag === 1) {\n          cx_mps = d;\n        }\n        cx_index = qeTableIcx.nlps;\n      } else {\n        d = cx_mps;\n        cx_index = qeTableIcx.nmps;\n      }\n    }\n    // C.3.3 renormD;\n    do {\n      if (this.ct === 0) {\n        this.byteIn();\n      }\n\n      a <<= 1;\n      this.chigh = ((this.chigh << 1) & 0xffff) | ((this.clow >> 15) & 1);\n      this.clow = (this.clow << 1) & 0xffff;\n      this.ct--;\n    } while ((a & 0x8000) === 0);\n    this.a = a;\n\n    contexts[pos] = (cx_index << 1) | cx_mps;\n    return d;\n  }\n}\n\nexport { ArithmeticDecoder };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* Copyright 1996-2003 Glyph & Cog, LLC\n *\n * The CCITT stream implementation contained in this file is a JavaScript port\n * of XPDF's implementation, made available under the Apache 2.0 open source\n * license.\n */\n\n/**\n * @typedef {Object} CCITTFaxDecoderSource\n * @property {function} next - Method that return one byte of data for decoding,\n *   or -1 when EOF is reached.\n */\n\nimport { info } from \"../shared/util.js\";\n\nconst CCITTFaxDecoder = (function CCITTFaxDecoder() {\n  const ccittEOL = -2;\n  const ccittEOF = -1;\n  const twoDimPass = 0;\n  const twoDimHoriz = 1;\n  const twoDimVert0 = 2;\n  const twoDimVertR1 = 3;\n  const twoDimVertL1 = 4;\n  const twoDimVertR2 = 5;\n  const twoDimVertL2 = 6;\n  const twoDimVertR3 = 7;\n  const twoDimVertL3 = 8;\n\n  // prettier-ignore\n  const twoDimTable = [\n    [-1, -1], [-1, -1],                   // 000000x\n    [7, twoDimVertL3],                    // 0000010\n    [7, twoDimVertR3],                    // 0000011\n    [6, twoDimVertL2], [6, twoDimVertL2], // 000010x\n    [6, twoDimVertR2], [6, twoDimVertR2], // 000011x\n    [4, twoDimPass], [4, twoDimPass],     // 0001xxx\n    [4, twoDimPass], [4, twoDimPass],\n    [4, twoDimPass], [4, twoDimPass],\n    [4, twoDimPass], [4, twoDimPass],\n    [3, twoDimHoriz], [3, twoDimHoriz],   // 001xxxx\n    [3, twoDimHoriz], [3, twoDimHoriz],\n    [3, twoDimHoriz], [3, twoDimHoriz],\n    [3, twoDimHoriz], [3, twoDimHoriz],\n    [3, twoDimHoriz], [3, twoDimHoriz],\n    [3, twoDimHoriz], [3, twoDimHoriz],\n    [3, twoDimHoriz], [3, twoDimHoriz],\n    [3, twoDimHoriz], [3, twoDimHoriz],\n    [3, twoDimVertL1], [3, twoDimVertL1], // 010xxxx\n    [3, twoDimVertL1], [3, twoDimVertL1],\n    [3, twoDimVertL1], [3, twoDimVertL1],\n    [3, twoDimVertL1], [3, twoDimVertL1],\n    [3, twoDimVertL1], [3, twoDimVertL1],\n    [3, twoDimVertL1], [3, twoDimVertL1],\n    [3, twoDimVertL1], [3, twoDimVertL1],\n    [3, twoDimVertL1], [3, twoDimVertL1],\n    [3, twoDimVertR1], [3, twoDimVertR1], // 011xxxx\n    [3, twoDimVertR1], [3, twoDimVertR1],\n    [3, twoDimVertR1], [3, twoDimVertR1],\n    [3, twoDimVertR1], [3, twoDimVertR1],\n    [3, twoDimVertR1], [3, twoDimVertR1],\n    [3, twoDimVertR1], [3, twoDimVertR1],\n    [3, twoDimVertR1], [3, twoDimVertR1],\n    [3, twoDimVertR1], [3, twoDimVertR1],\n    [1, twoDimVert0], [1, twoDimVert0],   // 1xxxxxx\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0],\n    [1, twoDimVert0], [1, twoDimVert0]\n  ];\n\n  // prettier-ignore\n  const whiteTable1 = [\n    [-1, -1],                               // 00000\n    [12, ccittEOL],                         // 00001\n    [-1, -1], [-1, -1],                     // 0001x\n    [-1, -1], [-1, -1], [-1, -1], [-1, -1], // 001xx\n    [-1, -1], [-1, -1], [-1, -1], [-1, -1], // 010xx\n    [-1, -1], [-1, -1], [-1, -1], [-1, -1], // 011xx\n    [11, 1792], [11, 1792],                 // 1000x\n    [12, 1984],                             // 10010\n    [12, 2048],                             // 10011\n    [12, 2112],                             // 10100\n    [12, 2176],                             // 10101\n    [12, 2240],                             // 10110\n    [12, 2304],                             // 10111\n    [11, 1856], [11, 1856],                 // 1100x\n    [11, 1920], [11, 1920],                 // 1101x\n    [12, 2368],                             // 11100\n    [12, 2432],                             // 11101\n    [12, 2496],                             // 11110\n    [12, 2560]                              // 11111\n  ];\n\n  // prettier-ignore\n  const whiteTable2 = [\n    [-1, -1], [-1, -1], [-1, -1], [-1, -1],     // 0000000xx\n    [8, 29], [8, 29],                           // 00000010x\n    [8, 30], [8, 30],                           // 00000011x\n    [8, 45], [8, 45],                           // 00000100x\n    [8, 46], [8, 46],                           // 00000101x\n    [7, 22], [7, 22], [7, 22], [7, 22],         // 0000011xx\n    [7, 23], [7, 23], [7, 23], [7, 23],         // 0000100xx\n    [8, 47], [8, 47],                           // 00001010x\n    [8, 48], [8, 48],                           // 00001011x\n    [6, 13], [6, 13], [6, 13], [6, 13],         // 000011xxx\n    [6, 13], [6, 13], [6, 13], [6, 13],\n    [7, 20], [7, 20], [7, 20], [7, 20],         // 0001000xx\n    [8, 33], [8, 33],                           // 00010010x\n    [8, 34], [8, 34],                           // 00010011x\n    [8, 35], [8, 35],                           // 00010100x\n    [8, 36], [8, 36],                           // 00010101x\n    [8, 37], [8, 37],                           // 00010110x\n    [8, 38], [8, 38],                           // 00010111x\n    [7, 19], [7, 19], [7, 19], [7, 19],         // 0001100xx\n    [8, 31], [8, 31],                           // 00011010x\n    [8, 32], [8, 32],                           // 00011011x\n    [6, 1], [6, 1], [6, 1], [6, 1],             // 000111xxx\n    [6, 1], [6, 1], [6, 1], [6, 1],\n    [6, 12], [6, 12], [6, 12], [6, 12],         // 001000xxx\n    [6, 12], [6, 12], [6, 12], [6, 12],\n    [8, 53], [8, 53],                           // 00100100x\n    [8, 54], [8, 54],                           // 00100101x\n    [7, 26], [7, 26], [7, 26], [7, 26],         // 0010011xx\n    [8, 39], [8, 39],                           // 00101000x\n    [8, 40], [8, 40],                           // 00101001x\n    [8, 41], [8, 41],                           // 00101010x\n    [8, 42], [8, 42],                           // 00101011x\n    [8, 43], [8, 43],                           // 00101100x\n    [8, 44], [8, 44],                           // 00101101x\n    [7, 21], [7, 21], [7, 21], [7, 21],         // 0010111xx\n    [7, 28], [7, 28], [7, 28], [7, 28],         // 0011000xx\n    [8, 61], [8, 61],                           // 00110010x\n    [8, 62], [8, 62],                           // 00110011x\n    [8, 63], [8, 63],                           // 00110100x\n    [8, 0], [8, 0],                             // 00110101x\n    [8, 320], [8, 320],                         // 00110110x\n    [8, 384], [8, 384],                         // 00110111x\n    [5, 10], [5, 10], [5, 10], [5, 10],         // 00111xxxx\n    [5, 10], [5, 10], [5, 10], [5, 10],\n    [5, 10], [5, 10], [5, 10], [5, 10],\n    [5, 10], [5, 10], [5, 10], [5, 10],\n    [5, 11], [5, 11], [5, 11], [5, 11],         // 01000xxxx\n    [5, 11], [5, 11], [5, 11], [5, 11],\n    [5, 11], [5, 11], [5, 11], [5, 11],\n    [5, 11], [5, 11], [5, 11], [5, 11],\n    [7, 27], [7, 27], [7, 27], [7, 27],         // 0100100xx\n    [8, 59], [8, 59],                           // 01001010x\n    [8, 60], [8, 60],                           // 01001011x\n    [9, 1472],                                  // 010011000\n    [9, 1536],                                  // 010011001\n    [9, 1600],                                  // 010011010\n    [9, 1728],                                  // 010011011\n    [7, 18], [7, 18], [7, 18], [7, 18],         // 0100111xx\n    [7, 24], [7, 24], [7, 24], [7, 24],         // 0101000xx\n    [8, 49], [8, 49],                           // 01010010x\n    [8, 50], [8, 50],                           // 01010011x\n    [8, 51], [8, 51],                           // 01010100x\n    [8, 52], [8, 52],                           // 01010101x\n    [7, 25], [7, 25], [7, 25], [7, 25],         // 0101011xx\n    [8, 55], [8, 55],                           // 01011000x\n    [8, 56], [8, 56],                           // 01011001x\n    [8, 57], [8, 57],                           // 01011010x\n    [8, 58], [8, 58],                           // 01011011x\n    [6, 192], [6, 192], [6, 192], [6, 192],     // 010111xxx\n    [6, 192], [6, 192], [6, 192], [6, 192],\n    [6, 1664], [6, 1664], [6, 1664], [6, 1664], // 011000xxx\n    [6, 1664], [6, 1664], [6, 1664], [6, 1664],\n    [8, 448], [8, 448],                         // 01100100x\n    [8, 512], [8, 512],                         // 01100101x\n    [9, 704],                                   // 011001100\n    [9, 768],                                   // 011001101\n    [8, 640], [8, 640],                         // 01100111x\n    [8, 576], [8, 576],                         // 01101000x\n    [9, 832],                                   // 011010010\n    [9, 896],                                   // 011010011\n    [9, 960],                                   // 011010100\n    [9, 1024],                                  // 011010101\n    [9, 1088],                                  // 011010110\n    [9, 1152],                                  // 011010111\n    [9, 1216],                                  // 011011000\n    [9, 1280],                                  // 011011001\n    [9, 1344],                                  // 011011010\n    [9, 1408],                                  // 011011011\n    [7, 256], [7, 256], [7, 256], [7, 256],     // 0110111xx\n    [4, 2], [4, 2], [4, 2], [4, 2],             // 0111xxxxx\n    [4, 2], [4, 2], [4, 2], [4, 2],\n    [4, 2], [4, 2], [4, 2], [4, 2],\n    [4, 2], [4, 2], [4, 2], [4, 2],\n    [4, 2], [4, 2], [4, 2], [4, 2],\n    [4, 2], [4, 2], [4, 2], [4, 2],\n    [4, 2], [4, 2], [4, 2], [4, 2],\n    [4, 2], [4, 2], [4, 2], [4, 2],\n    [4, 3], [4, 3], [4, 3], [4, 3],             // 1000xxxxx\n    [4, 3], [4, 3], [4, 3], [4, 3],\n    [4, 3], [4, 3], [4, 3], [4, 3],\n    [4, 3], [4, 3], [4, 3], [4, 3],\n    [4, 3], [4, 3], [4, 3], [4, 3],\n    [4, 3], [4, 3], [4, 3], [4, 3],\n    [4, 3], [4, 3], [4, 3], [4, 3],\n    [4, 3], [4, 3], [4, 3], [4, 3],\n    [5, 128], [5, 128], [5, 128], [5, 128],     // 10010xxxx\n    [5, 128], [5, 128], [5, 128], [5, 128],\n    [5, 128], [5, 128], [5, 128], [5, 128],\n    [5, 128], [5, 128], [5, 128], [5, 128],\n    [5, 8], [5, 8], [5, 8], [5, 8],             // 10011xxxx\n    [5, 8], [5, 8], [5, 8], [5, 8],\n    [5, 8], [5, 8], [5, 8], [5, 8],\n    [5, 8], [5, 8], [5, 8], [5, 8],\n    [5, 9], [5, 9], [5, 9], [5, 9],             // 10100xxxx\n    [5, 9], [5, 9], [5, 9], [5, 9],\n    [5, 9], [5, 9], [5, 9], [5, 9],\n    [5, 9], [5, 9], [5, 9], [5, 9],\n    [6, 16], [6, 16], [6, 16], [6, 16],         // 101010xxx\n    [6, 16], [6, 16], [6, 16], [6, 16],\n    [6, 17], [6, 17], [6, 17], [6, 17],         // 101011xxx\n    [6, 17], [6, 17], [6, 17], [6, 17],\n    [4, 4], [4, 4], [4, 4], [4, 4],             // 1011xxxxx\n    [4, 4], [4, 4], [4, 4], [4, 4],\n    [4, 4], [4, 4], [4, 4], [4, 4],\n    [4, 4], [4, 4], [4, 4], [4, 4],\n    [4, 4], [4, 4], [4, 4], [4, 4],\n    [4, 4], [4, 4], [4, 4], [4, 4],\n    [4, 4], [4, 4], [4, 4], [4, 4],\n    [4, 4], [4, 4], [4, 4], [4, 4],\n    [4, 5], [4, 5], [4, 5], [4, 5],             // 1100xxxxx\n    [4, 5], [4, 5], [4, 5], [4, 5],\n    [4, 5], [4, 5], [4, 5], [4, 5],\n    [4, 5], [4, 5], [4, 5], [4, 5],\n    [4, 5], [4, 5], [4, 5], [4, 5],\n    [4, 5], [4, 5], [4, 5], [4, 5],\n    [4, 5], [4, 5], [4, 5], [4, 5],\n    [4, 5], [4, 5], [4, 5], [4, 5],\n    [6, 14], [6, 14], [6, 14], [6, 14],         // 110100xxx\n    [6, 14], [6, 14], [6, 14], [6, 14],\n    [6, 15], [6, 15], [6, 15], [6, 15],         // 110101xxx\n    [6, 15], [6, 15], [6, 15], [6, 15],\n    [5, 64], [5, 64], [5, 64], [5, 64],         // 11011xxxx\n    [5, 64], [5, 64], [5, 64], [5, 64],\n    [5, 64], [5, 64], [5, 64], [5, 64],\n    [5, 64], [5, 64], [5, 64], [5, 64],\n    [4, 6], [4, 6], [4, 6], [4, 6],             // 1110xxxxx\n    [4, 6], [4, 6], [4, 6], [4, 6],\n    [4, 6], [4, 6], [4, 6], [4, 6],\n    [4, 6], [4, 6], [4, 6], [4, 6],\n    [4, 6], [4, 6], [4, 6], [4, 6],\n    [4, 6], [4, 6], [4, 6], [4, 6],\n    [4, 6], [4, 6], [4, 6], [4, 6],\n    [4, 6], [4, 6], [4, 6], [4, 6],\n    [4, 7], [4, 7], [4, 7], [4, 7],             // 1111xxxxx\n    [4, 7], [4, 7], [4, 7], [4, 7],\n    [4, 7], [4, 7], [4, 7], [4, 7],\n    [4, 7], [4, 7], [4, 7], [4, 7],\n    [4, 7], [4, 7], [4, 7], [4, 7],\n    [4, 7], [4, 7], [4, 7], [4, 7],\n    [4, 7], [4, 7], [4, 7], [4, 7],\n    [4, 7], [4, 7], [4, 7], [4, 7]\n  ];\n\n  // prettier-ignore\n  const blackTable1 = [\n    [-1, -1], [-1, -1],                             // 000000000000x\n    [12, ccittEOL], [12, ccittEOL],                 // 000000000001x\n    [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000001xx\n    [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000010xx\n    [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000011xx\n    [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000100xx\n    [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000101xx\n    [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000110xx\n    [-1, -1], [-1, -1], [-1, -1], [-1, -1],         // 00000000111xx\n    [11, 1792], [11, 1792], [11, 1792], [11, 1792], // 00000001000xx\n    [12, 1984], [12, 1984],                         // 000000010010x\n    [12, 2048], [12, 2048],                         // 000000010011x\n    [12, 2112], [12, 2112],                         // 000000010100x\n    [12, 2176], [12, 2176],                         // 000000010101x\n    [12, 2240], [12, 2240],                         // 000000010110x\n    [12, 2304], [12, 2304],                         // 000000010111x\n    [11, 1856], [11, 1856], [11, 1856], [11, 1856], // 00000001100xx\n    [11, 1920], [11, 1920], [11, 1920], [11, 1920], // 00000001101xx\n    [12, 2368], [12, 2368],                         // 000000011100x\n    [12, 2432], [12, 2432],                         // 000000011101x\n    [12, 2496], [12, 2496],                         // 000000011110x\n    [12, 2560], [12, 2560],                         // 000000011111x\n    [10, 18], [10, 18], [10, 18], [10, 18],         // 0000001000xxx\n    [10, 18], [10, 18], [10, 18], [10, 18],\n    [12, 52], [12, 52],                             // 000000100100x\n    [13, 640],                                      // 0000001001010\n    [13, 704],                                      // 0000001001011\n    [13, 768],                                      // 0000001001100\n    [13, 832],                                      // 0000001001101\n    [12, 55], [12, 55],                             // 000000100111x\n    [12, 56], [12, 56],                             // 000000101000x\n    [13, 1280],                                     // 0000001010010\n    [13, 1344],                                     // 0000001010011\n    [13, 1408],                                     // 0000001010100\n    [13, 1472],                                     // 0000001010101\n    [12, 59], [12, 59],                             // 000000101011x\n    [12, 60], [12, 60],                             // 000000101100x\n    [13, 1536],                                     // 0000001011010\n    [13, 1600],                                     // 0000001011011\n    [11, 24], [11, 24], [11, 24], [11, 24],         // 00000010111xx\n    [11, 25], [11, 25], [11, 25], [11, 25],         // 00000011000xx\n    [13, 1664],                                     // 0000001100100\n    [13, 1728],                                     // 0000001100101\n    [12, 320], [12, 320],                           // 000000110011x\n    [12, 384], [12, 384],                           // 000000110100x\n    [12, 448], [12, 448],                           // 000000110101x\n    [13, 512],                                      // 0000001101100\n    [13, 576],                                      // 0000001101101\n    [12, 53], [12, 53],                             // 000000110111x\n    [12, 54], [12, 54],                             // 000000111000x\n    [13, 896],                                      // 0000001110010\n    [13, 960],                                      // 0000001110011\n    [13, 1024],                                     // 0000001110100\n    [13, 1088],                                     // 0000001110101\n    [13, 1152],                                     // 0000001110110\n    [13, 1216],                                     // 0000001110111\n    [10, 64], [10, 64], [10, 64], [10, 64],         // 0000001111xxx\n    [10, 64], [10, 64], [10, 64], [10, 64]\n  ];\n\n  // prettier-ignore\n  const blackTable2 = [\n    [8, 13], [8, 13], [8, 13], [8, 13],     // 00000100xxxx\n    [8, 13], [8, 13], [8, 13], [8, 13],\n    [8, 13], [8, 13], [8, 13], [8, 13],\n    [8, 13], [8, 13], [8, 13], [8, 13],\n    [11, 23], [11, 23],                     // 00000101000x\n    [12, 50],                               // 000001010010\n    [12, 51],                               // 000001010011\n    [12, 44],                               // 000001010100\n    [12, 45],                               // 000001010101\n    [12, 46],                               // 000001010110\n    [12, 47],                               // 000001010111\n    [12, 57],                               // 000001011000\n    [12, 58],                               // 000001011001\n    [12, 61],                               // 000001011010\n    [12, 256],                              // 000001011011\n    [10, 16], [10, 16], [10, 16], [10, 16], // 0000010111xx\n    [10, 17], [10, 17], [10, 17], [10, 17], // 0000011000xx\n    [12, 48],                               // 000001100100\n    [12, 49],                               // 000001100101\n    [12, 62],                               // 000001100110\n    [12, 63],                               // 000001100111\n    [12, 30],                               // 000001101000\n    [12, 31],                               // 000001101001\n    [12, 32],                               // 000001101010\n    [12, 33],                               // 000001101011\n    [12, 40],                               // 000001101100\n    [12, 41],                               // 000001101101\n    [11, 22], [11, 22],                     // 00000110111x\n    [8, 14], [8, 14], [8, 14], [8, 14],     // 00000111xxxx\n    [8, 14], [8, 14], [8, 14], [8, 14],\n    [8, 14], [8, 14], [8, 14], [8, 14],\n    [8, 14], [8, 14], [8, 14], [8, 14],\n    [7, 10], [7, 10], [7, 10], [7, 10],     // 0000100xxxxx\n    [7, 10], [7, 10], [7, 10], [7, 10],\n    [7, 10], [7, 10], [7, 10], [7, 10],\n    [7, 10], [7, 10], [7, 10], [7, 10],\n    [7, 10], [7, 10], [7, 10], [7, 10],\n    [7, 10], [7, 10], [7, 10], [7, 10],\n    [7, 10], [7, 10], [7, 10], [7, 10],\n    [7, 10], [7, 10], [7, 10], [7, 10],\n    [7, 11], [7, 11], [7, 11], [7, 11],     // 0000101xxxxx\n    [7, 11], [7, 11], [7, 11], [7, 11],\n    [7, 11], [7, 11], [7, 11], [7, 11],\n    [7, 11], [7, 11], [7, 11], [7, 11],\n    [7, 11], [7, 11], [7, 11], [7, 11],\n    [7, 11], [7, 11], [7, 11], [7, 11],\n    [7, 11], [7, 11], [7, 11], [7, 11],\n    [7, 11], [7, 11], [7, 11], [7, 11],\n    [9, 15], [9, 15], [9, 15], [9, 15],     // 000011000xxx\n    [9, 15], [9, 15], [9, 15], [9, 15],\n    [12, 128],                              // 000011001000\n    [12, 192],                              // 000011001001\n    [12, 26],                               // 000011001010\n    [12, 27],                               // 000011001011\n    [12, 28],                               // 000011001100\n    [12, 29],                               // 000011001101\n    [11, 19], [11, 19],                     // 00001100111x\n    [11, 20], [11, 20],                     // 00001101000x\n    [12, 34],                               // 000011010010\n    [12, 35],                               // 000011010011\n    [12, 36],                               // 000011010100\n    [12, 37],                               // 000011010101\n    [12, 38],                               // 000011010110\n    [12, 39],                               // 000011010111\n    [11, 21], [11, 21],                     // 00001101100x\n    [12, 42],                               // 000011011010\n    [12, 43],                               // 000011011011\n    [10, 0], [10, 0], [10, 0], [10, 0],     // 0000110111xx\n    [7, 12], [7, 12], [7, 12], [7, 12],     // 0000111xxxxx\n    [7, 12], [7, 12], [7, 12], [7, 12],\n    [7, 12], [7, 12], [7, 12], [7, 12],\n    [7, 12], [7, 12], [7, 12], [7, 12],\n    [7, 12], [7, 12], [7, 12], [7, 12],\n    [7, 12], [7, 12], [7, 12], [7, 12],\n    [7, 12], [7, 12], [7, 12], [7, 12],\n    [7, 12], [7, 12], [7, 12], [7, 12]\n  ];\n\n  // prettier-ignore\n  const blackTable3 = [\n    [-1, -1], [-1, -1], [-1, -1], [-1, -1], // 0000xx\n    [6, 9],                                 // 000100\n    [6, 8],                                 // 000101\n    [5, 7], [5, 7],                         // 00011x\n    [4, 6], [4, 6], [4, 6], [4, 6],         // 0010xx\n    [4, 5], [4, 5], [4, 5], [4, 5],         // 0011xx\n    [3, 1], [3, 1], [3, 1], [3, 1],         // 010xxx\n    [3, 1], [3, 1], [3, 1], [3, 1],\n    [3, 4], [3, 4], [3, 4], [3, 4],         // 011xxx\n    [3, 4], [3, 4], [3, 4], [3, 4],\n    [2, 3], [2, 3], [2, 3], [2, 3],         // 10xxxx\n    [2, 3], [2, 3], [2, 3], [2, 3],\n    [2, 3], [2, 3], [2, 3], [2, 3],\n    [2, 3], [2, 3], [2, 3], [2, 3],\n    [2, 2], [2, 2], [2, 2], [2, 2],         // 11xxxx\n    [2, 2], [2, 2], [2, 2], [2, 2],\n    [2, 2], [2, 2], [2, 2], [2, 2],\n    [2, 2], [2, 2], [2, 2], [2, 2]\n  ];\n\n  /**\n   * @param {CCITTFaxDecoderSource} source - The data which should be decoded.\n   * @param {Object} [options] - Decoding options.\n   */\n  // eslint-disable-next-line no-shadow\n  function CCITTFaxDecoder(source, options = {}) {\n    if (!source || typeof source.next !== \"function\") {\n      throw new Error('CCITTFaxDecoder - invalid \"source\" parameter.');\n    }\n    this.source = source;\n    this.eof = false;\n\n    this.encoding = options.K || 0;\n    this.eoline = options.EndOfLine || false;\n    this.byteAlign = options.EncodedByteAlign || false;\n    this.columns = options.Columns || 1728;\n    this.rows = options.Rows || 0;\n    let eoblock = options.EndOfBlock;\n    if (eoblock === null || eoblock === undefined) {\n      eoblock = true;\n    }\n    this.eoblock = eoblock;\n    this.black = options.BlackIs1 || false;\n\n    this.codingLine = new Uint32Array(this.columns + 1);\n    this.refLine = new Uint32Array(this.columns + 2);\n\n    this.codingLine[0] = this.columns;\n    this.codingPos = 0;\n\n    this.row = 0;\n    this.nextLine2D = this.encoding < 0;\n    this.inputBits = 0;\n    this.inputBuf = 0;\n    this.outputBits = 0;\n    this.rowsDone = false;\n\n    let code1;\n    while ((code1 = this._lookBits(12)) === 0) {\n      this._eatBits(1);\n    }\n    if (code1 === 1) {\n      this._eatBits(12);\n    }\n    if (this.encoding > 0) {\n      this.nextLine2D = !this._lookBits(1);\n      this._eatBits(1);\n    }\n  }\n\n  CCITTFaxDecoder.prototype = {\n    readNextChar() {\n      if (this.eof) {\n        return -1;\n      }\n      const refLine = this.refLine;\n      const codingLine = this.codingLine;\n      const columns = this.columns;\n\n      let refPos, blackPixels, bits, i;\n\n      if (this.outputBits === 0) {\n        if (this.rowsDone) {\n          this.eof = true;\n        }\n        if (this.eof) {\n          return -1;\n        }\n        this.err = false;\n\n        let code1, code2, code3;\n        if (this.nextLine2D) {\n          for (i = 0; codingLine[i] < columns; ++i) {\n            refLine[i] = codingLine[i];\n          }\n          refLine[i++] = columns;\n          refLine[i] = columns;\n          codingLine[0] = 0;\n          this.codingPos = 0;\n          refPos = 0;\n          blackPixels = 0;\n\n          while (codingLine[this.codingPos] < columns) {\n            code1 = this._getTwoDimCode();\n            switch (code1) {\n              case twoDimPass:\n                this._addPixels(refLine[refPos + 1], blackPixels);\n                if (refLine[refPos + 1] < columns) {\n                  refPos += 2;\n                }\n                break;\n              case twoDimHoriz:\n                code1 = code2 = 0;\n                if (blackPixels) {\n                  do {\n                    code1 += code3 = this._getBlackCode();\n                  } while (code3 >= 64);\n                  do {\n                    code2 += code3 = this._getWhiteCode();\n                  } while (code3 >= 64);\n                } else {\n                  do {\n                    code1 += code3 = this._getWhiteCode();\n                  } while (code3 >= 64);\n                  do {\n                    code2 += code3 = this._getBlackCode();\n                  } while (code3 >= 64);\n                }\n                this._addPixels(\n                  codingLine[this.codingPos] + code1,\n                  blackPixels\n                );\n                if (codingLine[this.codingPos] < columns) {\n                  this._addPixels(\n                    codingLine[this.codingPos] + code2,\n                    blackPixels ^ 1\n                  );\n                }\n                while (\n                  refLine[refPos] <= codingLine[this.codingPos] &&\n                  refLine[refPos] < columns\n                ) {\n                  refPos += 2;\n                }\n                break;\n              case twoDimVertR3:\n                this._addPixels(refLine[refPos] + 3, blackPixels);\n                blackPixels ^= 1;\n                if (codingLine[this.codingPos] < columns) {\n                  ++refPos;\n                  while (\n                    refLine[refPos] <= codingLine[this.codingPos] &&\n                    refLine[refPos] < columns\n                  ) {\n                    refPos += 2;\n                  }\n                }\n                break;\n              case twoDimVertR2:\n                this._addPixels(refLine[refPos] + 2, blackPixels);\n                blackPixels ^= 1;\n                if (codingLine[this.codingPos] < columns) {\n                  ++refPos;\n                  while (\n                    refLine[refPos] <= codingLine[this.codingPos] &&\n                    refLine[refPos] < columns\n                  ) {\n                    refPos += 2;\n                  }\n                }\n                break;\n              case twoDimVertR1:\n                this._addPixels(refLine[refPos] + 1, blackPixels);\n                blackPixels ^= 1;\n                if (codingLine[this.codingPos] < columns) {\n                  ++refPos;\n                  while (\n                    refLine[refPos] <= codingLine[this.codingPos] &&\n                    refLine[refPos] < columns\n                  ) {\n                    refPos += 2;\n                  }\n                }\n                break;\n              case twoDimVert0:\n                this._addPixels(refLine[refPos], blackPixels);\n                blackPixels ^= 1;\n                if (codingLine[this.codingPos] < columns) {\n                  ++refPos;\n                  while (\n                    refLine[refPos] <= codingLine[this.codingPos] &&\n                    refLine[refPos] < columns\n                  ) {\n                    refPos += 2;\n                  }\n                }\n                break;\n              case twoDimVertL3:\n                this._addPixelsNeg(refLine[refPos] - 3, blackPixels);\n                blackPixels ^= 1;\n                if (codingLine[this.codingPos] < columns) {\n                  if (refPos > 0) {\n                    --refPos;\n                  } else {\n                    ++refPos;\n                  }\n                  while (\n                    refLine[refPos] <= codingLine[this.codingPos] &&\n                    refLine[refPos] < columns\n                  ) {\n                    refPos += 2;\n                  }\n                }\n                break;\n              case twoDimVertL2:\n                this._addPixelsNeg(refLine[refPos] - 2, blackPixels);\n                blackPixels ^= 1;\n                if (codingLine[this.codingPos] < columns) {\n                  if (refPos > 0) {\n                    --refPos;\n                  } else {\n                    ++refPos;\n                  }\n                  while (\n                    refLine[refPos] <= codingLine[this.codingPos] &&\n                    refLine[refPos] < columns\n                  ) {\n                    refPos += 2;\n                  }\n                }\n                break;\n              case twoDimVertL1:\n                this._addPixelsNeg(refLine[refPos] - 1, blackPixels);\n                blackPixels ^= 1;\n                if (codingLine[this.codingPos] < columns) {\n                  if (refPos > 0) {\n                    --refPos;\n                  } else {\n                    ++refPos;\n                  }\n                  while (\n                    refLine[refPos] <= codingLine[this.codingPos] &&\n                    refLine[refPos] < columns\n                  ) {\n                    refPos += 2;\n                  }\n                }\n                break;\n              case ccittEOF:\n                this._addPixels(columns, 0);\n                this.eof = true;\n                break;\n              default:\n                info(\"bad 2d code\");\n                this._addPixels(columns, 0);\n                this.err = true;\n            }\n          }\n        } else {\n          codingLine[0] = 0;\n          this.codingPos = 0;\n          blackPixels = 0;\n          while (codingLine[this.codingPos] < columns) {\n            code1 = 0;\n            if (blackPixels) {\n              do {\n                code1 += code3 = this._getBlackCode();\n              } while (code3 >= 64);\n            } else {\n              do {\n                code1 += code3 = this._getWhiteCode();\n              } while (code3 >= 64);\n            }\n            this._addPixels(codingLine[this.codingPos] + code1, blackPixels);\n            blackPixels ^= 1;\n          }\n        }\n\n        let gotEOL = false;\n\n        if (this.byteAlign) {\n          this.inputBits &= ~7;\n        }\n\n        if (!this.eoblock && this.row === this.rows - 1) {\n          this.rowsDone = true;\n        } else {\n          code1 = this._lookBits(12);\n          if (this.eoline) {\n            while (code1 !== ccittEOF && code1 !== 1) {\n              this._eatBits(1);\n              code1 = this._lookBits(12);\n            }\n          } else {\n            while (code1 === 0) {\n              this._eatBits(1);\n              code1 = this._lookBits(12);\n            }\n          }\n          if (code1 === 1) {\n            this._eatBits(12);\n            gotEOL = true;\n          } else if (code1 === ccittEOF) {\n            this.eof = true;\n          }\n        }\n\n        if (!this.eof && this.encoding > 0 && !this.rowsDone) {\n          this.nextLine2D = !this._lookBits(1);\n          this._eatBits(1);\n        }\n\n        if (this.eoblock && gotEOL && this.byteAlign) {\n          code1 = this._lookBits(12);\n          if (code1 === 1) {\n            this._eatBits(12);\n            if (this.encoding > 0) {\n              this._lookBits(1);\n              this._eatBits(1);\n            }\n            if (this.encoding >= 0) {\n              for (i = 0; i < 4; ++i) {\n                code1 = this._lookBits(12);\n                if (code1 !== 1) {\n                  info(\"bad rtc code: \" + code1);\n                }\n                this._eatBits(12);\n                if (this.encoding > 0) {\n                  this._lookBits(1);\n                  this._eatBits(1);\n                }\n              }\n            }\n            this.eof = true;\n          }\n        } else if (this.err && this.eoline) {\n          while (true) {\n            code1 = this._lookBits(13);\n            if (code1 === ccittEOF) {\n              this.eof = true;\n              return -1;\n            }\n            if (code1 >> 1 === 1) {\n              break;\n            }\n            this._eatBits(1);\n          }\n          this._eatBits(12);\n          if (this.encoding > 0) {\n            this._eatBits(1);\n            this.nextLine2D = !(code1 & 1);\n          }\n        }\n\n        if (codingLine[0] > 0) {\n          this.outputBits = codingLine[(this.codingPos = 0)];\n        } else {\n          this.outputBits = codingLine[(this.codingPos = 1)];\n        }\n        this.row++;\n      }\n\n      let c;\n      if (this.outputBits >= 8) {\n        c = this.codingPos & 1 ? 0 : 0xff;\n        this.outputBits -= 8;\n        if (this.outputBits === 0 && codingLine[this.codingPos] < columns) {\n          this.codingPos++;\n          this.outputBits =\n            codingLine[this.codingPos] - codingLine[this.codingPos - 1];\n        }\n      } else {\n        bits = 8;\n        c = 0;\n        do {\n          if (this.outputBits > bits) {\n            c <<= bits;\n            if (!(this.codingPos & 1)) {\n              c |= 0xff >> (8 - bits);\n            }\n            this.outputBits -= bits;\n            bits = 0;\n          } else {\n            c <<= this.outputBits;\n            if (!(this.codingPos & 1)) {\n              c |= 0xff >> (8 - this.outputBits);\n            }\n            bits -= this.outputBits;\n            this.outputBits = 0;\n            if (codingLine[this.codingPos] < columns) {\n              this.codingPos++;\n              this.outputBits =\n                codingLine[this.codingPos] - codingLine[this.codingPos - 1];\n            } else if (bits > 0) {\n              c <<= bits;\n              bits = 0;\n            }\n          }\n        } while (bits);\n      }\n      if (this.black) {\n        c ^= 0xff;\n      }\n      return c;\n    },\n\n    /**\n     * @private\n     */\n    _addPixels(a1, blackPixels) {\n      const codingLine = this.codingLine;\n      let codingPos = this.codingPos;\n\n      if (a1 > codingLine[codingPos]) {\n        if (a1 > this.columns) {\n          info(\"row is wrong length\");\n          this.err = true;\n          a1 = this.columns;\n        }\n        if ((codingPos & 1) ^ blackPixels) {\n          ++codingPos;\n        }\n\n        codingLine[codingPos] = a1;\n      }\n      this.codingPos = codingPos;\n    },\n\n    /**\n     * @private\n     */\n    _addPixelsNeg(a1, blackPixels) {\n      const codingLine = this.codingLine;\n      let codingPos = this.codingPos;\n\n      if (a1 > codingLine[codingPos]) {\n        if (a1 > this.columns) {\n          info(\"row is wrong length\");\n          this.err = true;\n          a1 = this.columns;\n        }\n        if ((codingPos & 1) ^ blackPixels) {\n          ++codingPos;\n        }\n\n        codingLine[codingPos] = a1;\n      } else if (a1 < codingLine[codingPos]) {\n        if (a1 < 0) {\n          info(\"invalid code\");\n          this.err = true;\n          a1 = 0;\n        }\n        while (codingPos > 0 && a1 < codingLine[codingPos - 1]) {\n          --codingPos;\n        }\n        codingLine[codingPos] = a1;\n      }\n\n      this.codingPos = codingPos;\n    },\n\n    /**\n     * This function returns the code found from the table.\n     * The start and end parameters set the boundaries for searching the table.\n     * The limit parameter is optional. Function returns an array with three\n     * values. The first array element indicates whether a valid code is being\n     * returned. The second array element is the actual code. The third array\n     * element indicates whether EOF was reached.\n     * @private\n     */\n    _findTableCode(start, end, table, limit) {\n      const limitValue = limit || 0;\n      for (let i = start; i <= end; ++i) {\n        let code = this._lookBits(i);\n        if (code === ccittEOF) {\n          return [true, 1, false];\n        }\n        if (i < end) {\n          code <<= end - i;\n        }\n        if (!limitValue || code >= limitValue) {\n          const p = table[code - limitValue];\n          if (p[0] === i) {\n            this._eatBits(i);\n            return [true, p[1], true];\n          }\n        }\n      }\n      return [false, 0, false];\n    },\n\n    /**\n     * @private\n     */\n    _getTwoDimCode() {\n      let code = 0;\n      let p;\n      if (this.eoblock) {\n        code = this._lookBits(7);\n        p = twoDimTable[code];\n        if (p && p[0] > 0) {\n          this._eatBits(p[0]);\n          return p[1];\n        }\n      } else {\n        const result = this._findTableCode(1, 7, twoDimTable);\n        if (result[0] && result[2]) {\n          return result[1];\n        }\n      }\n      info(\"Bad two dim code\");\n      return ccittEOF;\n    },\n\n    /**\n     * @private\n     */\n    _getWhiteCode() {\n      let code = 0;\n      let p;\n      if (this.eoblock) {\n        code = this._lookBits(12);\n        if (code === ccittEOF) {\n          return 1;\n        }\n\n        if (code >> 5 === 0) {\n          p = whiteTable1[code];\n        } else {\n          p = whiteTable2[code >> 3];\n        }\n\n        if (p[0] > 0) {\n          this._eatBits(p[0]);\n          return p[1];\n        }\n      } else {\n        let result = this._findTableCode(1, 9, whiteTable2);\n        if (result[0]) {\n          return result[1];\n        }\n\n        result = this._findTableCode(11, 12, whiteTable1);\n        if (result[0]) {\n          return result[1];\n        }\n      }\n      info(\"bad white code\");\n      this._eatBits(1);\n      return 1;\n    },\n\n    /**\n     * @private\n     */\n    _getBlackCode() {\n      let code, p;\n      if (this.eoblock) {\n        code = this._lookBits(13);\n        if (code === ccittEOF) {\n          return 1;\n        }\n        if (code >> 7 === 0) {\n          p = blackTable1[code];\n        } else if (code >> 9 === 0 && code >> 7 !== 0) {\n          p = blackTable2[(code >> 1) - 64];\n        } else {\n          p = blackTable3[code >> 7];\n        }\n\n        if (p[0] > 0) {\n          this._eatBits(p[0]);\n          return p[1];\n        }\n      } else {\n        let result = this._findTableCode(2, 6, blackTable3);\n        if (result[0]) {\n          return result[1];\n        }\n\n        result = this._findTableCode(7, 12, blackTable2, 64);\n        if (result[0]) {\n          return result[1];\n        }\n\n        result = this._findTableCode(10, 13, blackTable1);\n        if (result[0]) {\n          return result[1];\n        }\n      }\n      info(\"bad black code\");\n      this._eatBits(1);\n      return 1;\n    },\n\n    /**\n     * @private\n     */\n    _lookBits(n) {\n      let c;\n      while (this.inputBits < n) {\n        if ((c = this.source.next()) === -1) {\n          if (this.inputBits === 0) {\n            return ccittEOF;\n          }\n          return (this.inputBuf << (n - this.inputBits)) & (0xffff >> (16 - n));\n        }\n        this.inputBuf = (this.inputBuf << 8) | c;\n        this.inputBits += 8;\n      }\n      return (this.inputBuf >> (this.inputBits - n)) & (0xffff >> (16 - n));\n    },\n\n    /**\n     * @private\n     */\n    _eatBits(n) {\n      if ((this.inputBits -= n) < 0) {\n        this.inputBits = 0;\n      }\n    },\n  };\n\n  return CCITTFaxDecoder;\n})();\n\nexport { CCITTFaxDecoder };\n","/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { assert, BaseException, warn } from \"../shared/util.js\";\nimport { readUint16 } from \"./core_utils.js\";\n\nclass JpegError extends BaseException {\n  constructor(msg) {\n    super(`JPEG error: ${msg}`);\n  }\n}\n\nclass DNLMarkerError extends BaseException {\n  constructor(message, scanLines) {\n    super(message);\n    this.scanLines = scanLines;\n  }\n}\n\nclass EOIMarkerError extends BaseException {}\n\n/**\n * This code was forked from https://github.com/notmasteryet/jpgjs.\n * The original version was created by GitHub user notmasteryet.\n *\n * - The JPEG specification can be found in the ITU CCITT Recommendation T.81\n *   (www.w3.org/Graphics/JPEG/itu-t81.pdf)\n * - The JFIF specification can be found in the JPEG File Interchange Format\n *   (www.w3.org/Graphics/JPEG/jfif3.pdf)\n * - The Adobe Application-Specific JPEG markers in the\n *   Supporting the DCT Filters in PostScript Level 2, Technical Note #5116\n *   (partners.adobe.com/public/developer/en/ps/sdk/5116.DCT_Filter.pdf)\n */\n\nvar JpegImage = (function JpegImageClosure() {\n  // prettier-ignore\n  var dctZigZag = new Uint8Array([\n     0,\n     1,  8,\n    16,  9,  2,\n     3, 10, 17, 24,\n    32, 25, 18, 11, 4,\n     5, 12, 19, 26, 33, 40,\n    48, 41, 34, 27, 20, 13,  6,\n     7, 14, 21, 28, 35, 42, 49, 56,\n    57, 50, 43, 36, 29, 22, 15,\n    23, 30, 37, 44, 51, 58,\n    59, 52, 45, 38, 31,\n    39, 46, 53, 60,\n    61, 54, 47,\n    55, 62,\n    63\n  ]);\n\n  var dctCos1 = 4017; // cos(pi/16)\n  var dctSin1 = 799; // sin(pi/16)\n  var dctCos3 = 3406; // cos(3*pi/16)\n  var dctSin3 = 2276; // sin(3*pi/16)\n  var dctCos6 = 1567; // cos(6*pi/16)\n  var dctSin6 = 3784; // sin(6*pi/16)\n  var dctSqrt2 = 5793; // sqrt(2)\n  var dctSqrt1d2 = 2896; // sqrt(2) / 2\n\n  // eslint-disable-next-line no-shadow\n  function JpegImage({ decodeTransform = null, colorTransform = -1 } = {}) {\n    this._decodeTransform = decodeTransform;\n    this._colorTransform = colorTransform;\n  }\n\n  function buildHuffmanTable(codeLengths, values) {\n    var k = 0,\n      code = [],\n      i,\n      j,\n      length = 16;\n    while (length > 0 && !codeLengths[length - 1]) {\n      length--;\n    }\n    code.push({ children: [], index: 0 });\n    var p = code[0],\n      q;\n    for (i = 0; i < length; i++) {\n      for (j = 0; j < codeLengths[i]; j++) {\n        p = code.pop();\n        p.children[p.index] = values[k];\n        while (p.index > 0) {\n          p = code.pop();\n        }\n        p.index++;\n        code.push(p);\n        while (code.length <= i) {\n          code.push((q = { children: [], index: 0 }));\n          p.children[p.index] = q.children;\n          p = q;\n        }\n        k++;\n      }\n      if (i + 1 < length) {\n        // p here points to last code\n        code.push((q = { children: [], index: 0 }));\n        p.children[p.index] = q.children;\n        p = q;\n      }\n    }\n    return code[0].children;\n  }\n\n  function getBlockBufferOffset(component, row, col) {\n    return 64 * ((component.blocksPerLine + 1) * row + col);\n  }\n\n  function decodeScan(\n    data,\n    offset,\n    frame,\n    components,\n    resetInterval,\n    spectralStart,\n    spectralEnd,\n    successivePrev,\n    successive,\n    parseDNLMarker = false\n  ) {\n    var mcusPerLine = frame.mcusPerLine;\n    var progressive = frame.progressive;\n\n    const startOffset = offset;\n    let bitsData = 0,\n      bitsCount = 0;\n\n    function readBit() {\n      if (bitsCount > 0) {\n        bitsCount--;\n        return (bitsData >> bitsCount) & 1;\n      }\n      bitsData = data[offset++];\n      if (bitsData === 0xff) {\n        var nextByte = data[offset++];\n        if (nextByte) {\n          if (nextByte === /* DNL = */ 0xdc && parseDNLMarker) {\n            offset += 2; // Skip marker length.\n\n            const scanLines = readUint16(data, offset);\n            offset += 2;\n            if (scanLines > 0 && scanLines !== frame.scanLines) {\n              throw new DNLMarkerError(\n                \"Found DNL marker (0xFFDC) while parsing scan data\",\n                scanLines\n              );\n            }\n          } else if (nextByte === /* EOI = */ 0xd9) {\n            if (parseDNLMarker) {\n              // NOTE: only 8-bit JPEG images are supported in this decoder.\n              const maybeScanLines = blockRow * 8;\n              // Heuristic to attempt to handle corrupt JPEG images with too\n              // large `scanLines` parameter, by falling back to the currently\n              // parsed number of scanLines when it's at least one order of\n              // magnitude smaller than expected (fixes issue10880.pdf).\n              if (maybeScanLines > 0 && maybeScanLines < frame.scanLines / 10) {\n                throw new DNLMarkerError(\n                  \"Found EOI marker (0xFFD9) while parsing scan data, \" +\n                    \"possibly caused by incorrect `scanLines` parameter\",\n                  maybeScanLines\n                );\n              }\n            }\n            throw new EOIMarkerError(\n              \"Found EOI marker (0xFFD9) while parsing scan data\"\n            );\n          }\n          throw new JpegError(\n            `unexpected marker ${((bitsData << 8) | nextByte).toString(16)}`\n          );\n        }\n        // unstuff 0\n      }\n      bitsCount = 7;\n      return bitsData >>> 7;\n    }\n\n    function decodeHuffman(tree) {\n      var node = tree;\n      while (true) {\n        node = node[readBit()];\n        switch (typeof node) {\n          case \"number\":\n            return node;\n          case \"object\":\n            continue;\n        }\n        throw new JpegError(\"invalid huffman sequence\");\n      }\n    }\n\n    function receive(length) {\n      var n = 0;\n      while (length > 0) {\n        n = (n << 1) | readBit();\n        length--;\n      }\n      return n;\n    }\n\n    function receiveAndExtend(length) {\n      if (length === 1) {\n        return readBit() === 1 ? 1 : -1;\n      }\n      var n = receive(length);\n      if (n >= 1 << (length - 1)) {\n        return n;\n      }\n      return n + (-1 << length) + 1;\n    }\n\n    function decodeBaseline(component, blockOffset) {\n      var t = decodeHuffman(component.huffmanTableDC);\n      var diff = t === 0 ? 0 : receiveAndExtend(t);\n      component.blockData[blockOffset] = component.pred += diff;\n      var k = 1;\n      while (k < 64) {\n        var rs = decodeHuffman(component.huffmanTableAC);\n        var s = rs & 15,\n          r = rs >> 4;\n        if (s === 0) {\n          if (r < 15) {\n            break;\n          }\n          k += 16;\n          continue;\n        }\n        k += r;\n        var z = dctZigZag[k];\n        component.blockData[blockOffset + z] = receiveAndExtend(s);\n        k++;\n      }\n    }\n\n    function decodeDCFirst(component, blockOffset) {\n      var t = decodeHuffman(component.huffmanTableDC);\n      var diff = t === 0 ? 0 : receiveAndExtend(t) << successive;\n      component.blockData[blockOffset] = component.pred += diff;\n    }\n\n    function decodeDCSuccessive(component, blockOffset) {\n      component.blockData[blockOffset] |= readBit() << successive;\n    }\n\n    var eobrun = 0;\n    function decodeACFirst(component, blockOffset) {\n      if (eobrun > 0) {\n        eobrun--;\n        return;\n      }\n      var k = spectralStart,\n        e = spectralEnd;\n      while (k <= e) {\n        var rs = decodeHuffman(component.huffmanTableAC);\n        var s = rs & 15,\n          r = rs >> 4;\n        if (s === 0) {\n          if (r < 15) {\n            eobrun = receive(r) + (1 << r) - 1;\n            break;\n          }\n          k += 16;\n          continue;\n        }\n        k += r;\n        var z = dctZigZag[k];\n        component.blockData[blockOffset + z] =\n          receiveAndExtend(s) * (1 << successive);\n        k++;\n      }\n    }\n\n    var successiveACState = 0,\n      successiveACNextValue;\n    function decodeACSuccessive(component, blockOffset) {\n      var k = spectralStart;\n      var e = spectralEnd;\n      var r = 0;\n      var s;\n      var rs;\n      while (k <= e) {\n        const offsetZ = blockOffset + dctZigZag[k];\n        const sign = component.blockData[offsetZ] < 0 ? -1 : 1;\n        switch (successiveACState) {\n          case 0: // initial state\n            rs = decodeHuffman(component.huffmanTableAC);\n            s = rs & 15;\n            r = rs >> 4;\n            if (s === 0) {\n              if (r < 15) {\n                eobrun = receive(r) + (1 << r);\n                successiveACState = 4;\n              } else {\n                r = 16;\n                successiveACState = 1;\n              }\n            } else {\n              if (s !== 1) {\n                throw new JpegError(\"invalid ACn encoding\");\n              }\n              successiveACNextValue = receiveAndExtend(s);\n              successiveACState = r ? 2 : 3;\n            }\n            continue;\n          case 1: // skipping r zero items\n          case 2:\n            if (component.blockData[offsetZ]) {\n              component.blockData[offsetZ] += sign * (readBit() << successive);\n            } else {\n              r--;\n              if (r === 0) {\n                successiveACState = successiveACState === 2 ? 3 : 0;\n              }\n            }\n            break;\n          case 3: // set value for a zero item\n            if (component.blockData[offsetZ]) {\n              component.blockData[offsetZ] += sign * (readBit() << successive);\n            } else {\n              component.blockData[offsetZ] =\n                successiveACNextValue << successive;\n              successiveACState = 0;\n            }\n            break;\n          case 4: // eob\n            if (component.blockData[offsetZ]) {\n              component.blockData[offsetZ] += sign * (readBit() << successive);\n            }\n            break;\n        }\n        k++;\n      }\n      if (successiveACState === 4) {\n        eobrun--;\n        if (eobrun === 0) {\n          successiveACState = 0;\n        }\n      }\n    }\n\n    let blockRow = 0;\n    function decodeMcu(component, decode, mcu, row, col) {\n      var mcuRow = (mcu / mcusPerLine) | 0;\n      var mcuCol = mcu % mcusPerLine;\n      blockRow = mcuRow * component.v + row;\n      var blockCol = mcuCol * component.h + col;\n      const blockOffset = getBlockBufferOffset(component, blockRow, blockCol);\n      decode(component, blockOffset);\n    }\n\n    function decodeBlock(component, decode, mcu) {\n      blockRow = (mcu / component.blocksPerLine) | 0;\n      var blockCol = mcu % component.blocksPerLine;\n      const blockOffset = getBlockBufferOffset(component, blockRow, blockCol);\n      decode(component, blockOffset);\n    }\n\n    var componentsLength = components.length;\n    var component, i, j, k, n;\n    var decodeFn;\n    if (progressive) {\n      if (spectralStart === 0) {\n        decodeFn = successivePrev === 0 ? decodeDCFirst : decodeDCSuccessive;\n      } else {\n        decodeFn = successivePrev === 0 ? decodeACFirst : decodeACSuccessive;\n      }\n    } else {\n      decodeFn = decodeBaseline;\n    }\n\n    var mcu = 0,\n      fileMarker;\n    var mcuExpected;\n    if (componentsLength === 1) {\n      mcuExpected = components[0].blocksPerLine * components[0].blocksPerColumn;\n    } else {\n      mcuExpected = mcusPerLine * frame.mcusPerColumn;\n    }\n\n    var h, v;\n    while (mcu <= mcuExpected) {\n      // reset interval stuff\n      var mcuToRead = resetInterval\n        ? Math.min(mcuExpected - mcu, resetInterval)\n        : mcuExpected;\n\n      // The `mcuToRead === 0` case should only occur when all of the expected\n      // MCU data has been already parsed, i.e. when `mcu === mcuExpected`, but\n      // some corrupt JPEG images contain more data than intended and we thus\n      // want to skip over any extra RSTx markers below (fixes issue11794.pdf).\n      if (mcuToRead > 0) {\n        for (i = 0; i < componentsLength; i++) {\n          components[i].pred = 0;\n        }\n        eobrun = 0;\n\n        if (componentsLength === 1) {\n          component = components[0];\n          for (n = 0; n < mcuToRead; n++) {\n            decodeBlock(component, decodeFn, mcu);\n            mcu++;\n          }\n        } else {\n          for (n = 0; n < mcuToRead; n++) {\n            for (i = 0; i < componentsLength; i++) {\n              component = components[i];\n              h = component.h;\n              v = component.v;\n              for (j = 0; j < v; j++) {\n                for (k = 0; k < h; k++) {\n                  decodeMcu(component, decodeFn, mcu, j, k);\n                }\n              }\n            }\n            mcu++;\n          }\n        }\n      }\n\n      // find marker\n      bitsCount = 0;\n      fileMarker = findNextFileMarker(data, offset);\n      if (!fileMarker) {\n        break; // Reached the end of the image data without finding any marker.\n      }\n      if (fileMarker.invalid) {\n        // Some bad images seem to pad Scan blocks with e.g. zero bytes, skip\n        // past those to attempt to find a valid marker (fixes issue4090.pdf).\n        const partialMsg = mcuToRead > 0 ? \"unexpected\" : \"excessive\";\n        warn(\n          `decodeScan - ${partialMsg} MCU data, current marker is: ${fileMarker.invalid}`\n        );\n        offset = fileMarker.offset;\n      }\n      if (fileMarker.marker >= 0xffd0 && fileMarker.marker <= 0xffd7) {\n        // RSTx\n        offset += 2;\n      } else {\n        break;\n      }\n    }\n\n    return offset - startOffset;\n  }\n\n  // A port of poppler's IDCT method which in turn is taken from:\n  //   Christoph Loeffler, Adriaan Ligtenberg, George S. Moschytz,\n  //   'Practical Fast 1-D DCT Algorithms with 11 Multiplications',\n  //   IEEE Intl. Conf. on Acoustics, Speech & Signal Processing, 1989,\n  //   988-991.\n  function quantizeAndInverse(component, blockBufferOffset, p) {\n    var qt = component.quantizationTable,\n      blockData = component.blockData;\n    var v0, v1, v2, v3, v4, v5, v6, v7;\n    var p0, p1, p2, p3, p4, p5, p6, p7;\n    var t;\n\n    if (!qt) {\n      throw new JpegError(\"missing required Quantization Table.\");\n    }\n\n    // inverse DCT on rows\n    for (var row = 0; row < 64; row += 8) {\n      // gather block data\n      p0 = blockData[blockBufferOffset + row];\n      p1 = blockData[blockBufferOffset + row + 1];\n      p2 = blockData[blockBufferOffset + row + 2];\n      p3 = blockData[blockBufferOffset + row + 3];\n      p4 = blockData[blockBufferOffset + row + 4];\n      p5 = blockData[blockBufferOffset + row + 5];\n      p6 = blockData[blockBufferOffset + row + 6];\n      p7 = blockData[blockBufferOffset + row + 7];\n\n      // dequant p0\n      p0 *= qt[row];\n\n      // check for all-zero AC coefficients\n      if ((p1 | p2 | p3 | p4 | p5 | p6 | p7) === 0) {\n        t = (dctSqrt2 * p0 + 512) >> 10;\n        p[row] = t;\n        p[row + 1] = t;\n        p[row + 2] = t;\n        p[row + 3] = t;\n        p[row + 4] = t;\n        p[row + 5] = t;\n        p[row + 6] = t;\n        p[row + 7] = t;\n        continue;\n      }\n      // dequant p1 ... p7\n      p1 *= qt[row + 1];\n      p2 *= qt[row + 2];\n      p3 *= qt[row + 3];\n      p4 *= qt[row + 4];\n      p5 *= qt[row + 5];\n      p6 *= qt[row + 6];\n      p7 *= qt[row + 7];\n\n      // stage 4\n      v0 = (dctSqrt2 * p0 + 128) >> 8;\n      v1 = (dctSqrt2 * p4 + 128) >> 8;\n      v2 = p2;\n      v3 = p6;\n      v4 = (dctSqrt1d2 * (p1 - p7) + 128) >> 8;\n      v7 = (dctSqrt1d2 * (p1 + p7) + 128) >> 8;\n      v5 = p3 << 4;\n      v6 = p5 << 4;\n\n      // stage 3\n      v0 = (v0 + v1 + 1) >> 1;\n      v1 = v0 - v1;\n      t = (v2 * dctSin6 + v3 * dctCos6 + 128) >> 8;\n      v2 = (v2 * dctCos6 - v3 * dctSin6 + 128) >> 8;\n      v3 = t;\n      v4 = (v4 + v6 + 1) >> 1;\n      v6 = v4 - v6;\n      v7 = (v7 + v5 + 1) >> 1;\n      v5 = v7 - v5;\n\n      // stage 2\n      v0 = (v0 + v3 + 1) >> 1;\n      v3 = v0 - v3;\n      v1 = (v1 + v2 + 1) >> 1;\n      v2 = v1 - v2;\n      t = (v4 * dctSin3 + v7 * dctCos3 + 2048) >> 12;\n      v4 = (v4 * dctCos3 - v7 * dctSin3 + 2048) >> 12;\n      v7 = t;\n      t = (v5 * dctSin1 + v6 * dctCos1 + 2048) >> 12;\n      v5 = (v5 * dctCos1 - v6 * dctSin1 + 2048) >> 12;\n      v6 = t;\n\n      // stage 1\n      p[row] = v0 + v7;\n      p[row + 7] = v0 - v7;\n      p[row + 1] = v1 + v6;\n      p[row + 6] = v1 - v6;\n      p[row + 2] = v2 + v5;\n      p[row + 5] = v2 - v5;\n      p[row + 3] = v3 + v4;\n      p[row + 4] = v3 - v4;\n    }\n\n    // inverse DCT on columns\n    for (var col = 0; col < 8; ++col) {\n      p0 = p[col];\n      p1 = p[col + 8];\n      p2 = p[col + 16];\n      p3 = p[col + 24];\n      p4 = p[col + 32];\n      p5 = p[col + 40];\n      p6 = p[col + 48];\n      p7 = p[col + 56];\n\n      // check for all-zero AC coefficients\n      if ((p1 | p2 | p3 | p4 | p5 | p6 | p7) === 0) {\n        t = (dctSqrt2 * p0 + 8192) >> 14;\n        // Convert to 8-bit.\n        if (t < -2040) {\n          t = 0;\n        } else if (t >= 2024) {\n          t = 255;\n        } else {\n          t = (t + 2056) >> 4;\n        }\n        blockData[blockBufferOffset + col] = t;\n        blockData[blockBufferOffset + col + 8] = t;\n        blockData[blockBufferOffset + col + 16] = t;\n        blockData[blockBufferOffset + col + 24] = t;\n        blockData[blockBufferOffset + col + 32] = t;\n        blockData[blockBufferOffset + col + 40] = t;\n        blockData[blockBufferOffset + col + 48] = t;\n        blockData[blockBufferOffset + col + 56] = t;\n        continue;\n      }\n\n      // stage 4\n      v0 = (dctSqrt2 * p0 + 2048) >> 12;\n      v1 = (dctSqrt2 * p4 + 2048) >> 12;\n      v2 = p2;\n      v3 = p6;\n      v4 = (dctSqrt1d2 * (p1 - p7) + 2048) >> 12;\n      v7 = (dctSqrt1d2 * (p1 + p7) + 2048) >> 12;\n      v5 = p3;\n      v6 = p5;\n\n      // stage 3\n      // Shift v0 by 128.5 << 5 here, so we don't need to shift p0...p7 when\n      // converting to UInt8 range later.\n      v0 = ((v0 + v1 + 1) >> 1) + 4112;\n      v1 = v0 - v1;\n      t = (v2 * dctSin6 + v3 * dctCos6 + 2048) >> 12;\n      v2 = (v2 * dctCos6 - v3 * dctSin6 + 2048) >> 12;\n      v3 = t;\n      v4 = (v4 + v6 + 1) >> 1;\n      v6 = v4 - v6;\n      v7 = (v7 + v5 + 1) >> 1;\n      v5 = v7 - v5;\n\n      // stage 2\n      v0 = (v0 + v3 + 1) >> 1;\n      v3 = v0 - v3;\n      v1 = (v1 + v2 + 1) >> 1;\n      v2 = v1 - v2;\n      t = (v4 * dctSin3 + v7 * dctCos3 + 2048) >> 12;\n      v4 = (v4 * dctCos3 - v7 * dctSin3 + 2048) >> 12;\n      v7 = t;\n      t = (v5 * dctSin1 + v6 * dctCos1 + 2048) >> 12;\n      v5 = (v5 * dctCos1 - v6 * dctSin1 + 2048) >> 12;\n      v6 = t;\n\n      // stage 1\n      p0 = v0 + v7;\n      p7 = v0 - v7;\n      p1 = v1 + v6;\n      p6 = v1 - v6;\n      p2 = v2 + v5;\n      p5 = v2 - v5;\n      p3 = v3 + v4;\n      p4 = v3 - v4;\n\n      // Convert to 8-bit integers.\n      if (p0 < 16) {\n        p0 = 0;\n      } else if (p0 >= 4080) {\n        p0 = 255;\n      } else {\n        p0 >>= 4;\n      }\n      if (p1 < 16) {\n        p1 = 0;\n      } else if (p1 >= 4080) {\n        p1 = 255;\n      } else {\n        p1 >>= 4;\n      }\n      if (p2 < 16) {\n        p2 = 0;\n      } else if (p2 >= 4080) {\n        p2 = 255;\n      } else {\n        p2 >>= 4;\n      }\n      if (p3 < 16) {\n        p3 = 0;\n      } else if (p3 >= 4080) {\n        p3 = 255;\n      } else {\n        p3 >>= 4;\n      }\n      if (p4 < 16) {\n        p4 = 0;\n      } else if (p4 >= 4080) {\n        p4 = 255;\n      } else {\n        p4 >>= 4;\n      }\n      if (p5 < 16) {\n        p5 = 0;\n      } else if (p5 >= 4080) {\n        p5 = 255;\n      } else {\n        p5 >>= 4;\n      }\n      if (p6 < 16) {\n        p6 = 0;\n      } else if (p6 >= 4080) {\n        p6 = 255;\n      } else {\n        p6 >>= 4;\n      }\n      if (p7 < 16) {\n        p7 = 0;\n      } else if (p7 >= 4080) {\n        p7 = 255;\n      } else {\n        p7 >>= 4;\n      }\n\n      // store block data\n      blockData[blockBufferOffset + col] = p0;\n      blockData[blockBufferOffset + col + 8] = p1;\n      blockData[blockBufferOffset + col + 16] = p2;\n      blockData[blockBufferOffset + col + 24] = p3;\n      blockData[blockBufferOffset + col + 32] = p4;\n      blockData[blockBufferOffset + col + 40] = p5;\n      blockData[blockBufferOffset + col + 48] = p6;\n      blockData[blockBufferOffset + col + 56] = p7;\n    }\n  }\n\n  function buildComponentData(frame, component) {\n    var blocksPerLine = component.blocksPerLine;\n    var blocksPerColumn = component.blocksPerColumn;\n    var computationBuffer = new Int16Array(64);\n\n    for (var blockRow = 0; blockRow < blocksPerColumn; blockRow++) {\n      for (var blockCol = 0; blockCol < blocksPerLine; blockCol++) {\n        var offset = getBlockBufferOffset(component, blockRow, blockCol);\n        quantizeAndInverse(component, offset, computationBuffer);\n      }\n    }\n    return component.blockData;\n  }\n\n  function findNextFileMarker(data, currentPos, startPos = currentPos) {\n    const maxPos = data.length - 1;\n    var newPos = startPos < currentPos ? startPos : currentPos;\n\n    if (currentPos >= maxPos) {\n      return null; // Don't attempt to read non-existent data and just return.\n    }\n    var currentMarker = readUint16(data, currentPos);\n    if (currentMarker >= 0xffc0 && currentMarker <= 0xfffe) {\n      return {\n        invalid: null,\n        marker: currentMarker,\n        offset: currentPos,\n      };\n    }\n    var newMarker = readUint16(data, newPos);\n    while (!(newMarker >= 0xffc0 && newMarker <= 0xfffe)) {\n      if (++newPos >= maxPos) {\n        return null; // Don't attempt to read non-existent data and just return.\n      }\n      newMarker = readUint16(data, newPos);\n    }\n    return {\n      invalid: currentMarker.toString(16),\n      marker: newMarker,\n      offset: newPos,\n    };\n  }\n\n  JpegImage.prototype = {\n    parse(data, { dnlScanLines = null } = {}) {\n      function readDataBlock() {\n        const length = readUint16(data, offset);\n        offset += 2;\n        let endOffset = offset + length - 2;\n\n        var fileMarker = findNextFileMarker(data, endOffset, offset);\n        if (fileMarker && fileMarker.invalid) {\n          warn(\n            \"readDataBlock - incorrect length, current marker is: \" +\n              fileMarker.invalid\n          );\n          endOffset = fileMarker.offset;\n        }\n\n        var array = data.subarray(offset, endOffset);\n        offset += array.length;\n        return array;\n      }\n\n      function prepareComponents(frame) {\n        var mcusPerLine = Math.ceil(frame.samplesPerLine / 8 / frame.maxH);\n        var mcusPerColumn = Math.ceil(frame.scanLines / 8 / frame.maxV);\n        for (var i = 0; i < frame.components.length; i++) {\n          component = frame.components[i];\n          var blocksPerLine = Math.ceil(\n            (Math.ceil(frame.samplesPerLine / 8) * component.h) / frame.maxH\n          );\n          var blocksPerColumn = Math.ceil(\n            (Math.ceil(frame.scanLines / 8) * component.v) / frame.maxV\n          );\n          var blocksPerLineForMcu = mcusPerLine * component.h;\n          var blocksPerColumnForMcu = mcusPerColumn * component.v;\n\n          var blocksBufferSize =\n            64 * blocksPerColumnForMcu * (blocksPerLineForMcu + 1);\n          component.blockData = new Int16Array(blocksBufferSize);\n          component.blocksPerLine = blocksPerLine;\n          component.blocksPerColumn = blocksPerColumn;\n        }\n        frame.mcusPerLine = mcusPerLine;\n        frame.mcusPerColumn = mcusPerColumn;\n      }\n\n      var offset = 0;\n      var jfif = null;\n      var adobe = null;\n      var frame, resetInterval;\n      let numSOSMarkers = 0;\n      var quantizationTables = [];\n      var huffmanTablesAC = [],\n        huffmanTablesDC = [];\n\n      let fileMarker = readUint16(data, offset);\n      offset += 2;\n      if (fileMarker !== /* SOI (Start of Image) = */ 0xffd8) {\n        throw new JpegError(\"SOI not found\");\n      }\n      fileMarker = readUint16(data, offset);\n      offset += 2;\n\n      markerLoop: while (fileMarker !== /* EOI (End of Image) = */ 0xffd9) {\n        var i, j, l;\n        switch (fileMarker) {\n          case 0xffe0: // APP0 (Application Specific)\n          case 0xffe1: // APP1\n          case 0xffe2: // APP2\n          case 0xffe3: // APP3\n          case 0xffe4: // APP4\n          case 0xffe5: // APP5\n          case 0xffe6: // APP6\n          case 0xffe7: // APP7\n          case 0xffe8: // APP8\n          case 0xffe9: // APP9\n          case 0xffea: // APP10\n          case 0xffeb: // APP11\n          case 0xffec: // APP12\n          case 0xffed: // APP13\n          case 0xffee: // APP14\n          case 0xffef: // APP15\n          case 0xfffe: // COM (Comment)\n            var appData = readDataBlock();\n\n            if (fileMarker === 0xffe0) {\n              // 'JFIF\\x00'\n              if (\n                appData[0] === 0x4a &&\n                appData[1] === 0x46 &&\n                appData[2] === 0x49 &&\n                appData[3] === 0x46 &&\n                appData[4] === 0\n              ) {\n                jfif = {\n                  version: { major: appData[5], minor: appData[6] },\n                  densityUnits: appData[7],\n                  xDensity: (appData[8] << 8) | appData[9],\n                  yDensity: (appData[10] << 8) | appData[11],\n                  thumbWidth: appData[12],\n                  thumbHeight: appData[13],\n                  thumbData: appData.subarray(\n                    14,\n                    14 + 3 * appData[12] * appData[13]\n                  ),\n                };\n              }\n            }\n            // TODO APP1 - Exif\n            if (fileMarker === 0xffee) {\n              // 'Adobe'\n              if (\n                appData[0] === 0x41 &&\n                appData[1] === 0x64 &&\n                appData[2] === 0x6f &&\n                appData[3] === 0x62 &&\n                appData[4] === 0x65\n              ) {\n                adobe = {\n                  version: (appData[5] << 8) | appData[6],\n                  flags0: (appData[7] << 8) | appData[8],\n                  flags1: (appData[9] << 8) | appData[10],\n                  transformCode: appData[11],\n                };\n              }\n            }\n            break;\n\n          case 0xffdb: // DQT (Define Quantization Tables)\n            const quantizationTablesLength = readUint16(data, offset);\n            offset += 2;\n            var quantizationTablesEnd = quantizationTablesLength + offset - 2;\n            var z;\n            while (offset < quantizationTablesEnd) {\n              var quantizationTableSpec = data[offset++];\n              var tableData = new Uint16Array(64);\n              if (quantizationTableSpec >> 4 === 0) {\n                // 8 bit values\n                for (j = 0; j < 64; j++) {\n                  z = dctZigZag[j];\n                  tableData[z] = data[offset++];\n                }\n              } else if (quantizationTableSpec >> 4 === 1) {\n                // 16 bit values\n                for (j = 0; j < 64; j++) {\n                  z = dctZigZag[j];\n                  tableData[z] = readUint16(data, offset);\n                  offset += 2;\n                }\n              } else {\n                throw new JpegError(\"DQT - invalid table spec\");\n              }\n              quantizationTables[quantizationTableSpec & 15] = tableData;\n            }\n            break;\n\n          case 0xffc0: // SOF0 (Start of Frame, Baseline DCT)\n          case 0xffc1: // SOF1 (Start of Frame, Extended DCT)\n          case 0xffc2: // SOF2 (Start of Frame, Progressive DCT)\n            if (frame) {\n              throw new JpegError(\"Only single frame JPEGs supported\");\n            }\n            offset += 2; // Skip marker length.\n\n            frame = {};\n            frame.extended = fileMarker === 0xffc1;\n            frame.progressive = fileMarker === 0xffc2;\n            frame.precision = data[offset++];\n            const sofScanLines = readUint16(data, offset);\n            offset += 2;\n            frame.scanLines = dnlScanLines || sofScanLines;\n            frame.samplesPerLine = readUint16(data, offset);\n            offset += 2;\n            frame.components = [];\n            frame.componentIds = {};\n            var componentsCount = data[offset++],\n              componentId;\n            var maxH = 0,\n              maxV = 0;\n            for (i = 0; i < componentsCount; i++) {\n              componentId = data[offset];\n              var h = data[offset + 1] >> 4;\n              var v = data[offset + 1] & 15;\n              if (maxH < h) {\n                maxH = h;\n              }\n              if (maxV < v) {\n                maxV = v;\n              }\n              var qId = data[offset + 2];\n              l = frame.components.push({\n                h,\n                v,\n                quantizationId: qId,\n                quantizationTable: null, // See comment below.\n              });\n              frame.componentIds[componentId] = l - 1;\n              offset += 3;\n            }\n            frame.maxH = maxH;\n            frame.maxV = maxV;\n            prepareComponents(frame);\n            break;\n\n          case 0xffc4: // DHT (Define Huffman Tables)\n            const huffmanLength = readUint16(data, offset);\n            offset += 2;\n            for (i = 2; i < huffmanLength; ) {\n              var huffmanTableSpec = data[offset++];\n              var codeLengths = new Uint8Array(16);\n              var codeLengthSum = 0;\n              for (j = 0; j < 16; j++, offset++) {\n                codeLengthSum += codeLengths[j] = data[offset];\n              }\n              var huffmanValues = new Uint8Array(codeLengthSum);\n              for (j = 0; j < codeLengthSum; j++, offset++) {\n                huffmanValues[j] = data[offset];\n              }\n              i += 17 + codeLengthSum;\n\n              (huffmanTableSpec >> 4 === 0 ? huffmanTablesDC : huffmanTablesAC)[\n                huffmanTableSpec & 15\n              ] = buildHuffmanTable(codeLengths, huffmanValues);\n            }\n            break;\n\n          case 0xffdd: // DRI (Define Restart Interval)\n            offset += 2; // Skip marker length.\n\n            resetInterval = readUint16(data, offset);\n            offset += 2;\n            break;\n\n          case 0xffda: // SOS (Start of Scan)\n            // A DNL marker (0xFFDC), if it exists, is only allowed at the end\n            // of the first scan segment and may only occur once in an image.\n            // Furthermore, to prevent an infinite loop, do *not* attempt to\n            // parse DNL markers during re-parsing of the JPEG scan data.\n            const parseDNLMarker = ++numSOSMarkers === 1 && !dnlScanLines;\n\n            offset += 2; // Skip marker length.\n\n            var selectorsCount = data[offset++];\n            var components = [],\n              component;\n            for (i = 0; i < selectorsCount; i++) {\n              var componentIndex = frame.componentIds[data[offset++]];\n              component = frame.components[componentIndex];\n              var tableSpec = data[offset++];\n              component.huffmanTableDC = huffmanTablesDC[tableSpec >> 4];\n              component.huffmanTableAC = huffmanTablesAC[tableSpec & 15];\n              components.push(component);\n            }\n            var spectralStart = data[offset++];\n            var spectralEnd = data[offset++];\n            var successiveApproximation = data[offset++];\n            try {\n              var processed = decodeScan(\n                data,\n                offset,\n                frame,\n                components,\n                resetInterval,\n                spectralStart,\n                spectralEnd,\n                successiveApproximation >> 4,\n                successiveApproximation & 15,\n                parseDNLMarker\n              );\n              offset += processed;\n            } catch (ex) {\n              if (ex instanceof DNLMarkerError) {\n                warn(`${ex.message} -- attempting to re-parse the JPEG image.`);\n                return this.parse(data, { dnlScanLines: ex.scanLines });\n              } else if (ex instanceof EOIMarkerError) {\n                warn(`${ex.message} -- ignoring the rest of the image data.`);\n                break markerLoop;\n              }\n              throw ex;\n            }\n            break;\n\n          case 0xffdc: // DNL (Define Number of Lines)\n            // Ignore the marker, since it's being handled in `decodeScan`.\n            offset += 4;\n            break;\n\n          case 0xffff: // Fill bytes\n            if (data[offset] !== 0xff) {\n              // Avoid skipping a valid marker.\n              offset--;\n            }\n            break;\n\n          default:\n            // Could be incorrect encoding -- the last 0xFF byte of the previous\n            // block could have been eaten by the encoder, hence we fallback to\n            // `startPos = offset - 3` when looking for the next valid marker.\n            const nextFileMarker = findNextFileMarker(\n              data,\n              /* currentPos = */ offset - 2,\n              /* startPos = */ offset - 3\n            );\n            if (nextFileMarker && nextFileMarker.invalid) {\n              warn(\n                \"JpegImage.parse - unexpected data, current marker is: \" +\n                  nextFileMarker.invalid\n              );\n              offset = nextFileMarker.offset;\n              break;\n            }\n            if (offset >= data.length - 1) {\n              warn(\n                \"JpegImage.parse - reached the end of the image data \" +\n                  \"without finding an EOI marker (0xFFD9).\"\n              );\n              break markerLoop;\n            }\n            throw new JpegError(\n              \"JpegImage.parse - unknown marker: \" + fileMarker.toString(16)\n            );\n        }\n        fileMarker = readUint16(data, offset);\n        offset += 2;\n      }\n\n      this.width = frame.samplesPerLine;\n      this.height = frame.scanLines;\n      this.jfif = jfif;\n      this.adobe = adobe;\n      this.components = [];\n      for (i = 0; i < frame.components.length; i++) {\n        component = frame.components[i];\n\n        // Prevent errors when DQT markers are placed after SOF{n} markers,\n        // by assigning the `quantizationTable` entry after the entire image\n        // has been parsed (fixes issue7406.pdf).\n        var quantizationTable = quantizationTables[component.quantizationId];\n        if (quantizationTable) {\n          component.quantizationTable = quantizationTable;\n        }\n\n        this.components.push({\n          output: buildComponentData(frame, component),\n          scaleX: component.h / frame.maxH,\n          scaleY: component.v / frame.maxV,\n          blocksPerLine: component.blocksPerLine,\n          blocksPerColumn: component.blocksPerColumn,\n        });\n      }\n      this.numComponents = this.components.length;\n      return undefined;\n    },\n\n    _getLinearizedBlockData(width, height, isSourcePDF = false) {\n      var scaleX = this.width / width,\n        scaleY = this.height / height;\n\n      var component, componentScaleX, componentScaleY, blocksPerScanline;\n      var x, y, i, j, k;\n      var index;\n      var offset = 0;\n      var output;\n      var numComponents = this.components.length;\n      var dataLength = width * height * numComponents;\n      var data = new Uint8ClampedArray(dataLength);\n      var xScaleBlockOffset = new Uint32Array(width);\n      var mask3LSB = 0xfffffff8; // used to clear the 3 LSBs\n      let lastComponentScaleX;\n\n      for (i = 0; i < numComponents; i++) {\n        component = this.components[i];\n        componentScaleX = component.scaleX * scaleX;\n        componentScaleY = component.scaleY * scaleY;\n        offset = i;\n        output = component.output;\n        blocksPerScanline = (component.blocksPerLine + 1) << 3;\n        // Precalculate the `xScaleBlockOffset`. Since it doesn't depend on the\n        // component data, that's only necessary when `componentScaleX` changes.\n        if (componentScaleX !== lastComponentScaleX) {\n          for (x = 0; x < width; x++) {\n            j = 0 | (x * componentScaleX);\n            xScaleBlockOffset[x] = ((j & mask3LSB) << 3) | (j & 7);\n          }\n          lastComponentScaleX = componentScaleX;\n        }\n        // linearize the blocks of the component\n        for (y = 0; y < height; y++) {\n          j = 0 | (y * componentScaleY);\n          index = (blocksPerScanline * (j & mask3LSB)) | ((j & 7) << 3);\n          for (x = 0; x < width; x++) {\n            data[offset] = output[index + xScaleBlockOffset[x]];\n            offset += numComponents;\n          }\n        }\n      }\n\n      // decodeTransform contains pairs of multiplier (-256..256) and additive\n      let transform = this._decodeTransform;\n\n      // In PDF files, JPEG images with CMYK colour spaces are usually inverted\n      // (this can be observed by extracting the raw image data).\n      // Since the conversion algorithms (see below) were written primarily for\n      // the PDF use-cases, attempting to use `JpegImage` to parse standalone\n      // JPEG (CMYK) images may thus result in inverted images (see issue 9513).\n      //\n      // Unfortunately it's not (always) possible to tell, from the image data\n      // alone, if it needs to be inverted. Thus in an attempt to provide better\n      // out-of-box behaviour when `JpegImage` is used standalone, default to\n      // inverting JPEG (CMYK) images if and only if the image data does *not*\n      // come from a PDF file and no `decodeTransform` was passed by the user.\n      if (!isSourcePDF && numComponents === 4 && !transform) {\n        // prettier-ignore\n        transform = new Int32Array([\n          -256, 255, -256, 255, -256, 255, -256, 255]);\n      }\n\n      if (transform) {\n        for (i = 0; i < dataLength; ) {\n          for (j = 0, k = 0; j < numComponents; j++, i++, k += 2) {\n            data[i] = ((data[i] * transform[k]) >> 8) + transform[k + 1];\n          }\n        }\n      }\n      return data;\n    },\n\n    get _isColorConversionNeeded() {\n      if (this.adobe) {\n        // The adobe transform marker overrides any previous setting.\n        return !!this.adobe.transformCode;\n      }\n      if (this.numComponents === 3) {\n        if (this._colorTransform === 0) {\n          // If the Adobe transform marker is not present and the image\n          // dictionary has a 'ColorTransform' entry, explicitly set to `0`,\n          // then the colours should *not* be transformed.\n          return false;\n        }\n        return true;\n      }\n      // `this.numComponents !== 3`\n      if (this._colorTransform === 1) {\n        // If the Adobe transform marker is not present and the image\n        // dictionary has a 'ColorTransform' entry, explicitly set to `1`,\n        // then the colours should be transformed.\n        return true;\n      }\n      return false;\n    },\n\n    _convertYccToRgb: function convertYccToRgb(data) {\n      var Y, Cb, Cr;\n      for (var i = 0, length = data.length; i < length; i += 3) {\n        Y = data[i];\n        Cb = data[i + 1];\n        Cr = data[i + 2];\n        data[i] = Y - 179.456 + 1.402 * Cr;\n        data[i + 1] = Y + 135.459 - 0.344 * Cb - 0.714 * Cr;\n        data[i + 2] = Y - 226.816 + 1.772 * Cb;\n      }\n      return data;\n    },\n\n    _convertYcckToRgb: function convertYcckToRgb(data) {\n      var Y, Cb, Cr, k;\n      var offset = 0;\n      for (var i = 0, length = data.length; i < length; i += 4) {\n        Y = data[i];\n        Cb = data[i + 1];\n        Cr = data[i + 2];\n        k = data[i + 3];\n\n        data[offset++] =\n          -122.67195406894 +\n          Cb *\n            (-6.60635669420364e-5 * Cb +\n              0.000437130475926232 * Cr -\n              5.4080610064599e-5 * Y +\n              0.00048449797120281 * k -\n              0.154362151871126) +\n          Cr *\n            (-0.000957964378445773 * Cr +\n              0.000817076911346625 * Y -\n              0.00477271405408747 * k +\n              1.53380253221734) +\n          Y *\n            (0.000961250184130688 * Y -\n              0.00266257332283933 * k +\n              0.48357088451265) +\n          k * (-0.000336197177618394 * k + 0.484791561490776);\n\n        data[offset++] =\n          107.268039397724 +\n          Cb *\n            (2.19927104525741e-5 * Cb -\n              0.000640992018297945 * Cr +\n              0.000659397001245577 * Y +\n              0.000426105652938837 * k -\n              0.176491792462875) +\n          Cr *\n            (-0.000778269941513683 * Cr +\n              0.00130872261408275 * Y +\n              0.000770482631801132 * k -\n              0.151051492775562) +\n          Y *\n            (0.00126935368114843 * Y -\n              0.00265090189010898 * k +\n              0.25802910206845) +\n          k * (-0.000318913117588328 * k - 0.213742400323665);\n\n        data[offset++] =\n          -20.810012546947 +\n          Cb *\n            (-0.000570115196973677 * Cb -\n              2.63409051004589e-5 * Cr +\n              0.0020741088115012 * Y -\n              0.00288260236853442 * k +\n              0.814272968359295) +\n          Cr *\n            (-1.53496057440975e-5 * Cr -\n              0.000132689043961446 * Y +\n              0.000560833691242812 * k -\n              0.195152027534049) +\n          Y *\n            (0.00174418132927582 * Y -\n              0.00255243321439347 * k +\n              0.116935020465145) +\n          k * (-0.000343531996510555 * k + 0.24165260232407);\n      }\n      // Ensure that only the converted RGB data is returned.\n      return data.subarray(0, offset);\n    },\n\n    _convertYcckToCmyk: function convertYcckToCmyk(data) {\n      var Y, Cb, Cr;\n      for (var i = 0, length = data.length; i < length; i += 4) {\n        Y = data[i];\n        Cb = data[i + 1];\n        Cr = data[i + 2];\n        data[i] = 434.456 - Y - 1.402 * Cr;\n        data[i + 1] = 119.541 - Y + 0.344 * Cb + 0.714 * Cr;\n        data[i + 2] = 481.816 - Y - 1.772 * Cb;\n        // K in data[i + 3] is unchanged\n      }\n      return data;\n    },\n\n    _convertCmykToRgb: function convertCmykToRgb(data) {\n      var c, m, y, k;\n      var offset = 0;\n      for (var i = 0, length = data.length; i < length; i += 4) {\n        c = data[i];\n        m = data[i + 1];\n        y = data[i + 2];\n        k = data[i + 3];\n\n        data[offset++] =\n          255 +\n          c *\n            (-0.00006747147073602441 * c +\n              0.0008379262121013727 * m +\n              0.0002894718188643294 * y +\n              0.003264231057537806 * k -\n              1.1185611867203937) +\n          m *\n            (0.000026374107616089405 * m -\n              0.00008626949158638572 * y -\n              0.0002748769067499491 * k -\n              0.02155688794978967) +\n          y *\n            (-0.00003878099212869363 * y -\n              0.0003267808279485286 * k +\n              0.0686742238595345) -\n          k * (0.0003361971776183937 * k + 0.7430659151342254);\n\n        data[offset++] =\n          255 +\n          c *\n            (0.00013596372813588848 * c +\n              0.000924537132573585 * m +\n              0.00010567359618683593 * y +\n              0.0004791864687436512 * k -\n              0.3109689587515875) +\n          m *\n            (-0.00023545346108370344 * m +\n              0.0002702845253534714 * y +\n              0.0020200308977307156 * k -\n              0.7488052167015494) +\n          y *\n            (0.00006834815998235662 * y +\n              0.00015168452363460973 * k -\n              0.09751927774728933) -\n          k * (0.00031891311758832814 * k + 0.7364883807733168);\n\n        data[offset++] =\n          255 +\n          c *\n            (0.000013598650411385307 * c +\n              0.00012423956175490851 * m +\n              0.0004751985097583589 * y -\n              0.0000036729317476630422 * k -\n              0.05562186980264034) +\n          m *\n            (0.00016141380598724676 * m +\n              0.0009692239130725186 * y +\n              0.0007782692450036253 * k -\n              0.44015232367526463) +\n          y *\n            (5.068882914068769e-7 * y +\n              0.0017778369011375071 * k -\n              0.7591454649749609) -\n          k * (0.0003435319965105553 * k + 0.7063770186160144);\n      }\n      // Ensure that only the converted RGB data is returned.\n      return data.subarray(0, offset);\n    },\n\n    getData({ width, height, forceRGB = false, isSourcePDF = false }) {\n      if (\n        typeof PDFJSDev === \"undefined\" ||\n        PDFJSDev.test(\"!PRODUCTION || TESTING\")\n      ) {\n        assert(\n          isSourcePDF === true,\n          'JpegImage.getData: Unexpected \"isSourcePDF\" value for PDF files.'\n        );\n      }\n      if (this.numComponents > 4) {\n        throw new JpegError(\"Unsupported color mode\");\n      }\n      // Type of data: Uint8ClampedArray(width * height * numComponents)\n      var data = this._getLinearizedBlockData(width, height, isSourcePDF);\n\n      if (this.numComponents === 1 && forceRGB) {\n        var dataLength = data.length;\n        var rgbData = new Uint8ClampedArray(dataLength * 3);\n        var offset = 0;\n        for (var i = 0; i < dataLength; i++) {\n          var grayColor = data[i];\n          rgbData[offset++] = grayColor;\n          rgbData[offset++] = grayColor;\n          rgbData[offset++] = grayColor;\n        }\n        return rgbData;\n      } else if (this.numComponents === 3 && this._isColorConversionNeeded) {\n        return this._convertYccToRgb(data);\n      } else if (this.numComponents === 4) {\n        if (this._isColorConversionNeeded) {\n          if (forceRGB) {\n            return this._convertYcckToRgb(data);\n          }\n          return this._convertYcckToCmyk(data);\n        } else if (forceRGB) {\n          return this._convertCmykToRgb(data);\n        }\n      }\n      return data;\n    },\n  };\n\n  return JpegImage;\n})();\n\nexport { JpegImage };\n","/* Copyright 2012 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BaseException, info, warn } from \"../shared/util.js\";\nimport { log2, readUint16, readUint32 } from \"./core_utils.js\";\nimport { ArithmeticDecoder } from \"./arithmetic_decoder.js\";\n\nclass JpxError extends BaseException {\n  constructor(msg) {\n    super(`JPX error: ${msg}`);\n  }\n}\n\nvar JpxImage = (function JpxImageClosure() {\n  // Table E.1\n  var SubbandsGainLog2 = {\n    LL: 0,\n    LH: 1,\n    HL: 1,\n    HH: 2,\n  };\n\n  // eslint-disable-next-line no-shadow\n  function JpxImage() {\n    this.failOnCorruptedImage = false;\n  }\n  JpxImage.prototype = {\n    parse: function JpxImage_parse(data) {\n      var head = readUint16(data, 0);\n      // No box header, immediate start of codestream (SOC)\n      if (head === 0xff4f) {\n        this.parseCodestream(data, 0, data.length);\n        return;\n      }\n\n      var position = 0,\n        length = data.length;\n      while (position < length) {\n        var headerSize = 8;\n        var lbox = readUint32(data, position);\n        var tbox = readUint32(data, position + 4);\n        position += headerSize;\n        if (lbox === 1) {\n          // XLBox: read UInt64 according to spec.\n          // JavaScript's int precision of 53 bit should be sufficient here.\n          lbox =\n            readUint32(data, position) * 4294967296 +\n            readUint32(data, position + 4);\n          position += 8;\n          headerSize += 8;\n        }\n        if (lbox === 0) {\n          lbox = length - position + headerSize;\n        }\n        if (lbox < headerSize) {\n          throw new JpxError(\"Invalid box field size\");\n        }\n        var dataLength = lbox - headerSize;\n        var jumpDataLength = true;\n        switch (tbox) {\n          case 0x6a703268: // 'jp2h'\n            jumpDataLength = false; // parsing child boxes\n            break;\n          case 0x636f6c72: // 'colr'\n            // Colorspaces are not used, the CS from the PDF is used.\n            var method = data[position];\n            if (method === 1) {\n              // enumerated colorspace\n              var colorspace = readUint32(data, position + 3);\n              switch (colorspace) {\n                case 16: // this indicates a sRGB colorspace\n                case 17: // this indicates a grayscale colorspace\n                case 18: // this indicates a YUV colorspace\n                  break;\n                default:\n                  warn(\"Unknown colorspace \" + colorspace);\n                  break;\n              }\n            } else if (method === 2) {\n              info(\"ICC profile not supported\");\n            }\n            break;\n          case 0x6a703263: // 'jp2c'\n            this.parseCodestream(data, position, position + dataLength);\n            break;\n          case 0x6a502020: // 'jP\\024\\024'\n            if (readUint32(data, position) !== 0x0d0a870a) {\n              warn(\"Invalid JP2 signature\");\n            }\n            break;\n          // The following header types are valid but currently not used:\n          case 0x6a501a1a: // 'jP\\032\\032'\n          case 0x66747970: // 'ftyp'\n          case 0x72726571: // 'rreq'\n          case 0x72657320: // 'res '\n          case 0x69686472: // 'ihdr'\n            break;\n          default:\n            var headerType = String.fromCharCode(\n              (tbox >> 24) & 0xff,\n              (tbox >> 16) & 0xff,\n              (tbox >> 8) & 0xff,\n              tbox & 0xff\n            );\n            warn(\"Unsupported header type \" + tbox + \" (\" + headerType + \")\");\n            break;\n        }\n        if (jumpDataLength) {\n          position += dataLength;\n        }\n      }\n    },\n    parseImageProperties: function JpxImage_parseImageProperties(stream) {\n      var newByte = stream.getByte();\n      while (newByte >= 0) {\n        var oldByte = newByte;\n        newByte = stream.getByte();\n        var code = (oldByte << 8) | newByte;\n        // Image and tile size (SIZ)\n        if (code === 0xff51) {\n          stream.skip(4);\n          var Xsiz = stream.getInt32() >>> 0; // Byte 4\n          var Ysiz = stream.getInt32() >>> 0; // Byte 8\n          var XOsiz = stream.getInt32() >>> 0; // Byte 12\n          var YOsiz = stream.getInt32() >>> 0; // Byte 16\n          stream.skip(16);\n          var Csiz = stream.getUint16(); // Byte 36\n          this.width = Xsiz - XOsiz;\n          this.height = Ysiz - YOsiz;\n          this.componentsCount = Csiz;\n          // Results are always returned as `Uint8ClampedArray`s.\n          this.bitsPerComponent = 8;\n          return;\n        }\n      }\n      throw new JpxError(\"No size marker found in JPX stream\");\n    },\n    parseCodestream: function JpxImage_parseCodestream(data, start, end) {\n      var context = {};\n      var doNotRecover = false;\n      try {\n        var position = start;\n        while (position + 1 < end) {\n          var code = readUint16(data, position);\n          position += 2;\n\n          var length = 0,\n            j,\n            sqcd,\n            spqcds,\n            spqcdSize,\n            scalarExpounded,\n            tile;\n          switch (code) {\n            case 0xff4f: // Start of codestream (SOC)\n              context.mainHeader = true;\n              break;\n            case 0xffd9: // End of codestream (EOC)\n              break;\n            case 0xff51: // Image and tile size (SIZ)\n              length = readUint16(data, position);\n              var siz = {};\n              siz.Xsiz = readUint32(data, position + 4);\n              siz.Ysiz = readUint32(data, position + 8);\n              siz.XOsiz = readUint32(data, position + 12);\n              siz.YOsiz = readUint32(data, position + 16);\n              siz.XTsiz = readUint32(data, position + 20);\n              siz.YTsiz = readUint32(data, position + 24);\n              siz.XTOsiz = readUint32(data, position + 28);\n              siz.YTOsiz = readUint32(data, position + 32);\n              var componentsCount = readUint16(data, position + 36);\n              siz.Csiz = componentsCount;\n              var components = [];\n              j = position + 38;\n              for (var i = 0; i < componentsCount; i++) {\n                var component = {\n                  precision: (data[j] & 0x7f) + 1,\n                  isSigned: !!(data[j] & 0x80),\n                  XRsiz: data[j + 1],\n                  YRsiz: data[j + 2],\n                };\n                j += 3;\n                calculateComponentDimensions(component, siz);\n                components.push(component);\n              }\n              context.SIZ = siz;\n              context.components = components;\n              calculateTileGrids(context, components);\n              context.QCC = [];\n              context.COC = [];\n              break;\n            case 0xff5c: // Quantization default (QCD)\n              length = readUint16(data, position);\n              var qcd = {};\n              j = position + 2;\n              sqcd = data[j++];\n              switch (sqcd & 0x1f) {\n                case 0:\n                  spqcdSize = 8;\n                  scalarExpounded = true;\n                  break;\n                case 1:\n                  spqcdSize = 16;\n                  scalarExpounded = false;\n                  break;\n                case 2:\n                  spqcdSize = 16;\n                  scalarExpounded = true;\n                  break;\n                default:\n                  throw new Error(\"Invalid SQcd value \" + sqcd);\n              }\n              qcd.noQuantization = spqcdSize === 8;\n              qcd.scalarExpounded = scalarExpounded;\n              qcd.guardBits = sqcd >> 5;\n              spqcds = [];\n              while (j < length + position) {\n                var spqcd = {};\n                if (spqcdSize === 8) {\n                  spqcd.epsilon = data[j++] >> 3;\n                  spqcd.mu = 0;\n                } else {\n                  spqcd.epsilon = data[j] >> 3;\n                  spqcd.mu = ((data[j] & 0x7) << 8) | data[j + 1];\n                  j += 2;\n                }\n                spqcds.push(spqcd);\n              }\n              qcd.SPqcds = spqcds;\n              if (context.mainHeader) {\n                context.QCD = qcd;\n              } else {\n                context.currentTile.QCD = qcd;\n                context.currentTile.QCC = [];\n              }\n              break;\n            case 0xff5d: // Quantization component (QCC)\n              length = readUint16(data, position);\n              var qcc = {};\n              j = position + 2;\n              var cqcc;\n              if (context.SIZ.Csiz < 257) {\n                cqcc = data[j++];\n              } else {\n                cqcc = readUint16(data, j);\n                j += 2;\n              }\n              sqcd = data[j++];\n              switch (sqcd & 0x1f) {\n                case 0:\n                  spqcdSize = 8;\n                  scalarExpounded = true;\n                  break;\n                case 1:\n                  spqcdSize = 16;\n                  scalarExpounded = false;\n                  break;\n                case 2:\n                  spqcdSize = 16;\n                  scalarExpounded = true;\n                  break;\n                default:\n                  throw new Error(\"Invalid SQcd value \" + sqcd);\n              }\n              qcc.noQuantization = spqcdSize === 8;\n              qcc.scalarExpounded = scalarExpounded;\n              qcc.guardBits = sqcd >> 5;\n              spqcds = [];\n              while (j < length + position) {\n                spqcd = {};\n                if (spqcdSize === 8) {\n                  spqcd.epsilon = data[j++] >> 3;\n                  spqcd.mu = 0;\n                } else {\n                  spqcd.epsilon = data[j] >> 3;\n                  spqcd.mu = ((data[j] & 0x7) << 8) | data[j + 1];\n                  j += 2;\n                }\n                spqcds.push(spqcd);\n              }\n              qcc.SPqcds = spqcds;\n              if (context.mainHeader) {\n                context.QCC[cqcc] = qcc;\n              } else {\n                context.currentTile.QCC[cqcc] = qcc;\n              }\n              break;\n            case 0xff52: // Coding style default (COD)\n              length = readUint16(data, position);\n              var cod = {};\n              j = position + 2;\n              var scod = data[j++];\n              cod.entropyCoderWithCustomPrecincts = !!(scod & 1);\n              cod.sopMarkerUsed = !!(scod & 2);\n              cod.ephMarkerUsed = !!(scod & 4);\n              cod.progressionOrder = data[j++];\n              cod.layersCount = readUint16(data, j);\n              j += 2;\n              cod.multipleComponentTransform = data[j++];\n\n              cod.decompositionLevelsCount = data[j++];\n              cod.xcb = (data[j++] & 0xf) + 2;\n              cod.ycb = (data[j++] & 0xf) + 2;\n              var blockStyle = data[j++];\n              cod.selectiveArithmeticCodingBypass = !!(blockStyle & 1);\n              cod.resetContextProbabilities = !!(blockStyle & 2);\n              cod.terminationOnEachCodingPass = !!(blockStyle & 4);\n              cod.verticallyStripe = !!(blockStyle & 8);\n              cod.predictableTermination = !!(blockStyle & 16);\n              cod.segmentationSymbolUsed = !!(blockStyle & 32);\n              cod.reversibleTransformation = data[j++];\n              if (cod.entropyCoderWithCustomPrecincts) {\n                var precinctsSizes = [];\n                while (j < length + position) {\n                  var precinctsSize = data[j++];\n                  precinctsSizes.push({\n                    PPx: precinctsSize & 0xf,\n                    PPy: precinctsSize >> 4,\n                  });\n                }\n                cod.precinctsSizes = precinctsSizes;\n              }\n              var unsupported = [];\n              if (cod.selectiveArithmeticCodingBypass) {\n                unsupported.push(\"selectiveArithmeticCodingBypass\");\n              }\n              if (cod.resetContextProbabilities) {\n                unsupported.push(\"resetContextProbabilities\");\n              }\n              if (cod.terminationOnEachCodingPass) {\n                unsupported.push(\"terminationOnEachCodingPass\");\n              }\n              if (cod.verticallyStripe) {\n                unsupported.push(\"verticallyStripe\");\n              }\n              if (cod.predictableTermination) {\n                unsupported.push(\"predictableTermination\");\n              }\n              if (unsupported.length > 0) {\n                doNotRecover = true;\n                throw new Error(\n                  \"Unsupported COD options (\" + unsupported.join(\", \") + \")\"\n                );\n              }\n              if (context.mainHeader) {\n                context.COD = cod;\n              } else {\n                context.currentTile.COD = cod;\n                context.currentTile.COC = [];\n              }\n              break;\n            case 0xff90: // Start of tile-part (SOT)\n              length = readUint16(data, position);\n              tile = {};\n              tile.index = readUint16(data, position + 2);\n              tile.length = readUint32(data, position + 4);\n              tile.dataEnd = tile.length + position - 2;\n              tile.partIndex = data[position + 8];\n              tile.partsCount = data[position + 9];\n\n              context.mainHeader = false;\n              if (tile.partIndex === 0) {\n                // reset component specific settings\n                tile.COD = context.COD;\n                tile.COC = context.COC.slice(0); // clone of the global COC\n                tile.QCD = context.QCD;\n                tile.QCC = context.QCC.slice(0); // clone of the global COC\n              }\n              context.currentTile = tile;\n              break;\n            case 0xff93: // Start of data (SOD)\n              tile = context.currentTile;\n              if (tile.partIndex === 0) {\n                initializeTile(context, tile.index);\n                buildPackets(context);\n              }\n\n              // moving to the end of the data\n              length = tile.dataEnd - position;\n              parseTilePackets(context, data, position, length);\n              break;\n            case 0xff55: // Tile-part lengths, main header (TLM)\n            case 0xff57: // Packet length, main header (PLM)\n            case 0xff58: // Packet length, tile-part header (PLT)\n            case 0xff64: // Comment (COM)\n              length = readUint16(data, position);\n              // skipping content\n              break;\n            case 0xff53: // Coding style component (COC)\n              throw new Error(\n                \"Codestream code 0xFF53 (COC) is not implemented\"\n              );\n            default:\n              throw new Error(\"Unknown codestream code: \" + code.toString(16));\n          }\n          position += length;\n        }\n      } catch (e) {\n        if (doNotRecover || this.failOnCorruptedImage) {\n          throw new JpxError(e.message);\n        } else {\n          warn(\"JPX: Trying to recover from: \" + e.message);\n        }\n      }\n      this.tiles = transformComponents(context);\n      this.width = context.SIZ.Xsiz - context.SIZ.XOsiz;\n      this.height = context.SIZ.Ysiz - context.SIZ.YOsiz;\n      this.componentsCount = context.SIZ.Csiz;\n    },\n  };\n  function calculateComponentDimensions(component, siz) {\n    // Section B.2 Component mapping\n    component.x0 = Math.ceil(siz.XOsiz / component.XRsiz);\n    component.x1 = Math.ceil(siz.Xsiz / component.XRsiz);\n    component.y0 = Math.ceil(siz.YOsiz / component.YRsiz);\n    component.y1 = Math.ceil(siz.Ysiz / component.YRsiz);\n    component.width = component.x1 - component.x0;\n    component.height = component.y1 - component.y0;\n  }\n  function calculateTileGrids(context, components) {\n    var siz = context.SIZ;\n    // Section B.3 Division into tile and tile-components\n    var tile,\n      tiles = [];\n    var numXtiles = Math.ceil((siz.Xsiz - siz.XTOsiz) / siz.XTsiz);\n    var numYtiles = Math.ceil((siz.Ysiz - siz.YTOsiz) / siz.YTsiz);\n    for (var q = 0; q < numYtiles; q++) {\n      for (var p = 0; p < numXtiles; p++) {\n        tile = {};\n        tile.tx0 = Math.max(siz.XTOsiz + p * siz.XTsiz, siz.XOsiz);\n        tile.ty0 = Math.max(siz.YTOsiz + q * siz.YTsiz, siz.YOsiz);\n        tile.tx1 = Math.min(siz.XTOsiz + (p + 1) * siz.XTsiz, siz.Xsiz);\n        tile.ty1 = Math.min(siz.YTOsiz + (q + 1) * siz.YTsiz, siz.Ysiz);\n        tile.width = tile.tx1 - tile.tx0;\n        tile.height = tile.ty1 - tile.ty0;\n        tile.components = [];\n        tiles.push(tile);\n      }\n    }\n    context.tiles = tiles;\n\n    var componentsCount = siz.Csiz;\n    for (var i = 0, ii = componentsCount; i < ii; i++) {\n      var component = components[i];\n      for (var j = 0, jj = tiles.length; j < jj; j++) {\n        var tileComponent = {};\n        tile = tiles[j];\n        tileComponent.tcx0 = Math.ceil(tile.tx0 / component.XRsiz);\n        tileComponent.tcy0 = Math.ceil(tile.ty0 / component.YRsiz);\n        tileComponent.tcx1 = Math.ceil(tile.tx1 / component.XRsiz);\n        tileComponent.tcy1 = Math.ceil(tile.ty1 / component.YRsiz);\n        tileComponent.width = tileComponent.tcx1 - tileComponent.tcx0;\n        tileComponent.height = tileComponent.tcy1 - tileComponent.tcy0;\n        tile.components[i] = tileComponent;\n      }\n    }\n  }\n  function getBlocksDimensions(context, component, r) {\n    var codOrCoc = component.codingStyleParameters;\n    var result = {};\n    if (!codOrCoc.entropyCoderWithCustomPrecincts) {\n      result.PPx = 15;\n      result.PPy = 15;\n    } else {\n      result.PPx = codOrCoc.precinctsSizes[r].PPx;\n      result.PPy = codOrCoc.precinctsSizes[r].PPy;\n    }\n    // calculate codeblock size as described in section B.7\n    result.xcb_ =\n      r > 0\n        ? Math.min(codOrCoc.xcb, result.PPx - 1)\n        : Math.min(codOrCoc.xcb, result.PPx);\n    result.ycb_ =\n      r > 0\n        ? Math.min(codOrCoc.ycb, result.PPy - 1)\n        : Math.min(codOrCoc.ycb, result.PPy);\n    return result;\n  }\n  function buildPrecincts(context, resolution, dimensions) {\n    // Section B.6 Division resolution to precincts\n    var precinctWidth = 1 << dimensions.PPx;\n    var precinctHeight = 1 << dimensions.PPy;\n    // Jasper introduces codeblock groups for mapping each subband codeblocks\n    // to precincts. Precinct partition divides a resolution according to width\n    // and height parameters. The subband that belongs to the resolution level\n    // has a different size than the level, unless it is the zero resolution.\n\n    // From Jasper documentation: jpeg2000.pdf, section K: Tier-2 coding:\n    // The precinct partitioning for a particular subband is derived from a\n    // partitioning of its parent LL band (i.e., the LL band at the next higher\n    // resolution level)... The LL band associated with each resolution level is\n    // divided into precincts... Each of the resulting precinct regions is then\n    // mapped into its child subbands (if any) at the next lower resolution\n    // level. This is accomplished by using the coordinate transformation\n    // (u, v) = (ceil(x/2), ceil(y/2)) where (x, y) and (u, v) are the\n    // coordinates of a point in the LL band and child subband, respectively.\n    var isZeroRes = resolution.resLevel === 0;\n    var precinctWidthInSubband = 1 << (dimensions.PPx + (isZeroRes ? 0 : -1));\n    var precinctHeightInSubband = 1 << (dimensions.PPy + (isZeroRes ? 0 : -1));\n    var numprecinctswide =\n      resolution.trx1 > resolution.trx0\n        ? Math.ceil(resolution.trx1 / precinctWidth) -\n          Math.floor(resolution.trx0 / precinctWidth)\n        : 0;\n    var numprecinctshigh =\n      resolution.try1 > resolution.try0\n        ? Math.ceil(resolution.try1 / precinctHeight) -\n          Math.floor(resolution.try0 / precinctHeight)\n        : 0;\n    var numprecincts = numprecinctswide * numprecinctshigh;\n\n    resolution.precinctParameters = {\n      precinctWidth,\n      precinctHeight,\n      numprecinctswide,\n      numprecinctshigh,\n      numprecincts,\n      precinctWidthInSubband,\n      precinctHeightInSubband,\n    };\n  }\n  function buildCodeblocks(context, subband, dimensions) {\n    // Section B.7 Division sub-band into code-blocks\n    var xcb_ = dimensions.xcb_;\n    var ycb_ = dimensions.ycb_;\n    var codeblockWidth = 1 << xcb_;\n    var codeblockHeight = 1 << ycb_;\n    var cbx0 = subband.tbx0 >> xcb_;\n    var cby0 = subband.tby0 >> ycb_;\n    var cbx1 = (subband.tbx1 + codeblockWidth - 1) >> xcb_;\n    var cby1 = (subband.tby1 + codeblockHeight - 1) >> ycb_;\n    var precinctParameters = subband.resolution.precinctParameters;\n    var codeblocks = [];\n    var precincts = [];\n    var i, j, codeblock, precinctNumber;\n    for (j = cby0; j < cby1; j++) {\n      for (i = cbx0; i < cbx1; i++) {\n        codeblock = {\n          cbx: i,\n          cby: j,\n          tbx0: codeblockWidth * i,\n          tby0: codeblockHeight * j,\n          tbx1: codeblockWidth * (i + 1),\n          tby1: codeblockHeight * (j + 1),\n        };\n\n        codeblock.tbx0_ = Math.max(subband.tbx0, codeblock.tbx0);\n        codeblock.tby0_ = Math.max(subband.tby0, codeblock.tby0);\n        codeblock.tbx1_ = Math.min(subband.tbx1, codeblock.tbx1);\n        codeblock.tby1_ = Math.min(subband.tby1, codeblock.tby1);\n\n        // Calculate precinct number for this codeblock, codeblock position\n        // should be relative to its subband, use actual dimension and position\n        // See comment about codeblock group width and height\n        var pi = Math.floor(\n          (codeblock.tbx0_ - subband.tbx0) /\n            precinctParameters.precinctWidthInSubband\n        );\n        var pj = Math.floor(\n          (codeblock.tby0_ - subband.tby0) /\n            precinctParameters.precinctHeightInSubband\n        );\n        precinctNumber = pi + pj * precinctParameters.numprecinctswide;\n\n        codeblock.precinctNumber = precinctNumber;\n        codeblock.subbandType = subband.type;\n        codeblock.Lblock = 3;\n\n        if (\n          codeblock.tbx1_ <= codeblock.tbx0_ ||\n          codeblock.tby1_ <= codeblock.tby0_\n        ) {\n          continue;\n        }\n        codeblocks.push(codeblock);\n        // building precinct for the sub-band\n        var precinct = precincts[precinctNumber];\n        if (precinct !== undefined) {\n          if (i < precinct.cbxMin) {\n            precinct.cbxMin = i;\n          } else if (i > precinct.cbxMax) {\n            precinct.cbxMax = i;\n          }\n          if (j < precinct.cbyMin) {\n            precinct.cbxMin = j;\n          } else if (j > precinct.cbyMax) {\n            precinct.cbyMax = j;\n          }\n        } else {\n          precincts[precinctNumber] = precinct = {\n            cbxMin: i,\n            cbyMin: j,\n            cbxMax: i,\n            cbyMax: j,\n          };\n        }\n        codeblock.precinct = precinct;\n      }\n    }\n    subband.codeblockParameters = {\n      codeblockWidth: xcb_,\n      codeblockHeight: ycb_,\n      numcodeblockwide: cbx1 - cbx0 + 1,\n      numcodeblockhigh: cby1 - cby0 + 1,\n    };\n    subband.codeblocks = codeblocks;\n    subband.precincts = precincts;\n  }\n  function createPacket(resolution, precinctNumber, layerNumber) {\n    var precinctCodeblocks = [];\n    // Section B.10.8 Order of info in packet\n    var subbands = resolution.subbands;\n    // sub-bands already ordered in 'LL', 'HL', 'LH', and 'HH' sequence\n    for (var i = 0, ii = subbands.length; i < ii; i++) {\n      var subband = subbands[i];\n      var codeblocks = subband.codeblocks;\n      for (var j = 0, jj = codeblocks.length; j < jj; j++) {\n        var codeblock = codeblocks[j];\n        if (codeblock.precinctNumber !== precinctNumber) {\n          continue;\n        }\n        precinctCodeblocks.push(codeblock);\n      }\n    }\n    return {\n      layerNumber,\n      codeblocks: precinctCodeblocks,\n    };\n  }\n  function LayerResolutionComponentPositionIterator(context) {\n    var siz = context.SIZ;\n    var tileIndex = context.currentTile.index;\n    var tile = context.tiles[tileIndex];\n    var layersCount = tile.codingStyleDefaultParameters.layersCount;\n    var componentsCount = siz.Csiz;\n    var maxDecompositionLevelsCount = 0;\n    for (var q = 0; q < componentsCount; q++) {\n      maxDecompositionLevelsCount = Math.max(\n        maxDecompositionLevelsCount,\n        tile.components[q].codingStyleParameters.decompositionLevelsCount\n      );\n    }\n\n    var l = 0,\n      r = 0,\n      i = 0,\n      k = 0;\n\n    this.nextPacket = function JpxImage_nextPacket() {\n      // Section B.12.1.1 Layer-resolution-component-position\n      for (; l < layersCount; l++) {\n        for (; r <= maxDecompositionLevelsCount; r++) {\n          for (; i < componentsCount; i++) {\n            var component = tile.components[i];\n            if (r > component.codingStyleParameters.decompositionLevelsCount) {\n              continue;\n            }\n\n            var resolution = component.resolutions[r];\n            var numprecincts = resolution.precinctParameters.numprecincts;\n            for (; k < numprecincts; ) {\n              var packet = createPacket(resolution, k, l);\n              k++;\n              return packet;\n            }\n            k = 0;\n          }\n          i = 0;\n        }\n        r = 0;\n      }\n      throw new JpxError(\"Out of packets\");\n    };\n  }\n  function ResolutionLayerComponentPositionIterator(context) {\n    var siz = context.SIZ;\n    var tileIndex = context.currentTile.index;\n    var tile = context.tiles[tileIndex];\n    var layersCount = tile.codingStyleDefaultParameters.layersCount;\n    var componentsCount = siz.Csiz;\n    var maxDecompositionLevelsCount = 0;\n    for (var q = 0; q < componentsCount; q++) {\n      maxDecompositionLevelsCount = Math.max(\n        maxDecompositionLevelsCount,\n        tile.components[q].codingStyleParameters.decompositionLevelsCount\n      );\n    }\n\n    var r = 0,\n      l = 0,\n      i = 0,\n      k = 0;\n\n    this.nextPacket = function JpxImage_nextPacket() {\n      // Section B.12.1.2 Resolution-layer-component-position\n      for (; r <= maxDecompositionLevelsCount; r++) {\n        for (; l < layersCount; l++) {\n          for (; i < componentsCount; i++) {\n            var component = tile.components[i];\n            if (r > component.codingStyleParameters.decompositionLevelsCount) {\n              continue;\n            }\n\n            var resolution = component.resolutions[r];\n            var numprecincts = resolution.precinctParameters.numprecincts;\n            for (; k < numprecincts; ) {\n              var packet = createPacket(resolution, k, l);\n              k++;\n              return packet;\n            }\n            k = 0;\n          }\n          i = 0;\n        }\n        l = 0;\n      }\n      throw new JpxError(\"Out of packets\");\n    };\n  }\n  function ResolutionPositionComponentLayerIterator(context) {\n    var siz = context.SIZ;\n    var tileIndex = context.currentTile.index;\n    var tile = context.tiles[tileIndex];\n    var layersCount = tile.codingStyleDefaultParameters.layersCount;\n    var componentsCount = siz.Csiz;\n    var l, r, c, p;\n    var maxDecompositionLevelsCount = 0;\n    for (c = 0; c < componentsCount; c++) {\n      const component = tile.components[c];\n      maxDecompositionLevelsCount = Math.max(\n        maxDecompositionLevelsCount,\n        component.codingStyleParameters.decompositionLevelsCount\n      );\n    }\n    var maxNumPrecinctsInLevel = new Int32Array(\n      maxDecompositionLevelsCount + 1\n    );\n    for (r = 0; r <= maxDecompositionLevelsCount; ++r) {\n      var maxNumPrecincts = 0;\n      for (c = 0; c < componentsCount; ++c) {\n        var resolutions = tile.components[c].resolutions;\n        if (r < resolutions.length) {\n          maxNumPrecincts = Math.max(\n            maxNumPrecincts,\n            resolutions[r].precinctParameters.numprecincts\n          );\n        }\n      }\n      maxNumPrecinctsInLevel[r] = maxNumPrecincts;\n    }\n    l = 0;\n    r = 0;\n    c = 0;\n    p = 0;\n\n    this.nextPacket = function JpxImage_nextPacket() {\n      // Section B.12.1.3 Resolution-position-component-layer\n      for (; r <= maxDecompositionLevelsCount; r++) {\n        for (; p < maxNumPrecinctsInLevel[r]; p++) {\n          for (; c < componentsCount; c++) {\n            const component = tile.components[c];\n            if (r > component.codingStyleParameters.decompositionLevelsCount) {\n              continue;\n            }\n            var resolution = component.resolutions[r];\n            var numprecincts = resolution.precinctParameters.numprecincts;\n            if (p >= numprecincts) {\n              continue;\n            }\n            for (; l < layersCount; ) {\n              var packet = createPacket(resolution, p, l);\n              l++;\n              return packet;\n            }\n            l = 0;\n          }\n          c = 0;\n        }\n        p = 0;\n      }\n      throw new JpxError(\"Out of packets\");\n    };\n  }\n  function PositionComponentResolutionLayerIterator(context) {\n    var siz = context.SIZ;\n    var tileIndex = context.currentTile.index;\n    var tile = context.tiles[tileIndex];\n    var layersCount = tile.codingStyleDefaultParameters.layersCount;\n    var componentsCount = siz.Csiz;\n    var precinctsSizes = getPrecinctSizesInImageScale(tile);\n    var precinctsIterationSizes = precinctsSizes;\n    var l = 0,\n      r = 0,\n      c = 0,\n      px = 0,\n      py = 0;\n\n    this.nextPacket = function JpxImage_nextPacket() {\n      // Section B.12.1.4 Position-component-resolution-layer\n      for (; py < precinctsIterationSizes.maxNumHigh; py++) {\n        for (; px < precinctsIterationSizes.maxNumWide; px++) {\n          for (; c < componentsCount; c++) {\n            var component = tile.components[c];\n            var decompositionLevelsCount =\n              component.codingStyleParameters.decompositionLevelsCount;\n            for (; r <= decompositionLevelsCount; r++) {\n              var resolution = component.resolutions[r];\n              var sizeInImageScale =\n                precinctsSizes.components[c].resolutions[r];\n              var k = getPrecinctIndexIfExist(\n                px,\n                py,\n                sizeInImageScale,\n                precinctsIterationSizes,\n                resolution\n              );\n              if (k === null) {\n                continue;\n              }\n              for (; l < layersCount; ) {\n                var packet = createPacket(resolution, k, l);\n                l++;\n                return packet;\n              }\n              l = 0;\n            }\n            r = 0;\n          }\n          c = 0;\n        }\n        px = 0;\n      }\n      throw new JpxError(\"Out of packets\");\n    };\n  }\n  function ComponentPositionResolutionLayerIterator(context) {\n    var siz = context.SIZ;\n    var tileIndex = context.currentTile.index;\n    var tile = context.tiles[tileIndex];\n    var layersCount = tile.codingStyleDefaultParameters.layersCount;\n    var componentsCount = siz.Csiz;\n    var precinctsSizes = getPrecinctSizesInImageScale(tile);\n    var l = 0,\n      r = 0,\n      c = 0,\n      px = 0,\n      py = 0;\n\n    this.nextPacket = function JpxImage_nextPacket() {\n      // Section B.12.1.5 Component-position-resolution-layer\n      for (; c < componentsCount; ++c) {\n        var component = tile.components[c];\n        var precinctsIterationSizes = precinctsSizes.components[c];\n        var decompositionLevelsCount =\n          component.codingStyleParameters.decompositionLevelsCount;\n        for (; py < precinctsIterationSizes.maxNumHigh; py++) {\n          for (; px < precinctsIterationSizes.maxNumWide; px++) {\n            for (; r <= decompositionLevelsCount; r++) {\n              var resolution = component.resolutions[r];\n              var sizeInImageScale = precinctsIterationSizes.resolutions[r];\n              var k = getPrecinctIndexIfExist(\n                px,\n                py,\n                sizeInImageScale,\n                precinctsIterationSizes,\n                resolution\n              );\n              if (k === null) {\n                continue;\n              }\n              for (; l < layersCount; ) {\n                var packet = createPacket(resolution, k, l);\n                l++;\n                return packet;\n              }\n              l = 0;\n            }\n            r = 0;\n          }\n          px = 0;\n        }\n        py = 0;\n      }\n      throw new JpxError(\"Out of packets\");\n    };\n  }\n  function getPrecinctIndexIfExist(\n    pxIndex,\n    pyIndex,\n    sizeInImageScale,\n    precinctIterationSizes,\n    resolution\n  ) {\n    var posX = pxIndex * precinctIterationSizes.minWidth;\n    var posY = pyIndex * precinctIterationSizes.minHeight;\n    if (\n      posX % sizeInImageScale.width !== 0 ||\n      posY % sizeInImageScale.height !== 0\n    ) {\n      return null;\n    }\n    var startPrecinctRowIndex =\n      (posY / sizeInImageScale.width) *\n      resolution.precinctParameters.numprecinctswide;\n    return posX / sizeInImageScale.height + startPrecinctRowIndex;\n  }\n  function getPrecinctSizesInImageScale(tile) {\n    var componentsCount = tile.components.length;\n    var minWidth = Number.MAX_VALUE;\n    var minHeight = Number.MAX_VALUE;\n    var maxNumWide = 0;\n    var maxNumHigh = 0;\n    var sizePerComponent = new Array(componentsCount);\n    for (var c = 0; c < componentsCount; c++) {\n      var component = tile.components[c];\n      var decompositionLevelsCount =\n        component.codingStyleParameters.decompositionLevelsCount;\n      var sizePerResolution = new Array(decompositionLevelsCount + 1);\n      var minWidthCurrentComponent = Number.MAX_VALUE;\n      var minHeightCurrentComponent = Number.MAX_VALUE;\n      var maxNumWideCurrentComponent = 0;\n      var maxNumHighCurrentComponent = 0;\n      var scale = 1;\n      for (var r = decompositionLevelsCount; r >= 0; --r) {\n        var resolution = component.resolutions[r];\n        var widthCurrentResolution =\n          scale * resolution.precinctParameters.precinctWidth;\n        var heightCurrentResolution =\n          scale * resolution.precinctParameters.precinctHeight;\n        minWidthCurrentComponent = Math.min(\n          minWidthCurrentComponent,\n          widthCurrentResolution\n        );\n        minHeightCurrentComponent = Math.min(\n          minHeightCurrentComponent,\n          heightCurrentResolution\n        );\n        maxNumWideCurrentComponent = Math.max(\n          maxNumWideCurrentComponent,\n          resolution.precinctParameters.numprecinctswide\n        );\n        maxNumHighCurrentComponent = Math.max(\n          maxNumHighCurrentComponent,\n          resolution.precinctParameters.numprecinctshigh\n        );\n        sizePerResolution[r] = {\n          width: widthCurrentResolution,\n          height: heightCurrentResolution,\n        };\n        scale <<= 1;\n      }\n      minWidth = Math.min(minWidth, minWidthCurrentComponent);\n      minHeight = Math.min(minHeight, minHeightCurrentComponent);\n      maxNumWide = Math.max(maxNumWide, maxNumWideCurrentComponent);\n      maxNumHigh = Math.max(maxNumHigh, maxNumHighCurrentComponent);\n      sizePerComponent[c] = {\n        resolutions: sizePerResolution,\n        minWidth: minWidthCurrentComponent,\n        minHeight: minHeightCurrentComponent,\n        maxNumWide: maxNumWideCurrentComponent,\n        maxNumHigh: maxNumHighCurrentComponent,\n      };\n    }\n    return {\n      components: sizePerComponent,\n      minWidth,\n      minHeight,\n      maxNumWide,\n      maxNumHigh,\n    };\n  }\n  function buildPackets(context) {\n    var siz = context.SIZ;\n    var tileIndex = context.currentTile.index;\n    var tile = context.tiles[tileIndex];\n    var componentsCount = siz.Csiz;\n    // Creating resolutions and sub-bands for each component\n    for (var c = 0; c < componentsCount; c++) {\n      var component = tile.components[c];\n      var decompositionLevelsCount =\n        component.codingStyleParameters.decompositionLevelsCount;\n      // Section B.5 Resolution levels and sub-bands\n      var resolutions = [];\n      var subbands = [];\n      for (var r = 0; r <= decompositionLevelsCount; r++) {\n        var blocksDimensions = getBlocksDimensions(context, component, r);\n        var resolution = {};\n        var scale = 1 << (decompositionLevelsCount - r);\n        resolution.trx0 = Math.ceil(component.tcx0 / scale);\n        resolution.try0 = Math.ceil(component.tcy0 / scale);\n        resolution.trx1 = Math.ceil(component.tcx1 / scale);\n        resolution.try1 = Math.ceil(component.tcy1 / scale);\n        resolution.resLevel = r;\n        buildPrecincts(context, resolution, blocksDimensions);\n        resolutions.push(resolution);\n\n        var subband;\n        if (r === 0) {\n          // one sub-band (LL) with last decomposition\n          subband = {};\n          subband.type = \"LL\";\n          subband.tbx0 = Math.ceil(component.tcx0 / scale);\n          subband.tby0 = Math.ceil(component.tcy0 / scale);\n          subband.tbx1 = Math.ceil(component.tcx1 / scale);\n          subband.tby1 = Math.ceil(component.tcy1 / scale);\n          subband.resolution = resolution;\n          buildCodeblocks(context, subband, blocksDimensions);\n          subbands.push(subband);\n          resolution.subbands = [subband];\n        } else {\n          var bscale = 1 << (decompositionLevelsCount - r + 1);\n          var resolutionSubbands = [];\n          // three sub-bands (HL, LH and HH) with rest of decompositions\n          subband = {};\n          subband.type = \"HL\";\n          subband.tbx0 = Math.ceil(component.tcx0 / bscale - 0.5);\n          subband.tby0 = Math.ceil(component.tcy0 / bscale);\n          subband.tbx1 = Math.ceil(component.tcx1 / bscale - 0.5);\n          subband.tby1 = Math.ceil(component.tcy1 / bscale);\n          subband.resolution = resolution;\n          buildCodeblocks(context, subband, blocksDimensions);\n          subbands.push(subband);\n          resolutionSubbands.push(subband);\n\n          subband = {};\n          subband.type = \"LH\";\n          subband.tbx0 = Math.ceil(component.tcx0 / bscale);\n          subband.tby0 = Math.ceil(component.tcy0 / bscale - 0.5);\n          subband.tbx1 = Math.ceil(component.tcx1 / bscale);\n          subband.tby1 = Math.ceil(component.tcy1 / bscale - 0.5);\n          subband.resolution = resolution;\n          buildCodeblocks(context, subband, blocksDimensions);\n          subbands.push(subband);\n          resolutionSubbands.push(subband);\n\n          subband = {};\n          subband.type = \"HH\";\n          subband.tbx0 = Math.ceil(component.tcx0 / bscale - 0.5);\n          subband.tby0 = Math.ceil(component.tcy0 / bscale - 0.5);\n          subband.tbx1 = Math.ceil(component.tcx1 / bscale - 0.5);\n          subband.tby1 = Math.ceil(component.tcy1 / bscale - 0.5);\n          subband.resolution = resolution;\n          buildCodeblocks(context, subband, blocksDimensions);\n          subbands.push(subband);\n          resolutionSubbands.push(subband);\n\n          resolution.subbands = resolutionSubbands;\n        }\n      }\n      component.resolutions = resolutions;\n      component.subbands = subbands;\n    }\n    // Generate the packets sequence\n    var progressionOrder = tile.codingStyleDefaultParameters.progressionOrder;\n    switch (progressionOrder) {\n      case 0:\n        tile.packetsIterator = new LayerResolutionComponentPositionIterator(\n          context\n        );\n        break;\n      case 1:\n        tile.packetsIterator = new ResolutionLayerComponentPositionIterator(\n          context\n        );\n        break;\n      case 2:\n        tile.packetsIterator = new ResolutionPositionComponentLayerIterator(\n          context\n        );\n        break;\n      case 3:\n        tile.packetsIterator = new PositionComponentResolutionLayerIterator(\n          context\n        );\n        break;\n      case 4:\n        tile.packetsIterator = new ComponentPositionResolutionLayerIterator(\n          context\n        );\n        break;\n      default:\n        throw new JpxError(`Unsupported progression order ${progressionOrder}`);\n    }\n  }\n  function parseTilePackets(context, data, offset, dataLength) {\n    var position = 0;\n    var buffer,\n      bufferSize = 0,\n      skipNextBit = false;\n    function readBits(count) {\n      while (bufferSize < count) {\n        var b = data[offset + position];\n        position++;\n        if (skipNextBit) {\n          buffer = (buffer << 7) | b;\n          bufferSize += 7;\n          skipNextBit = false;\n        } else {\n          buffer = (buffer << 8) | b;\n          bufferSize += 8;\n        }\n        if (b === 0xff) {\n          skipNextBit = true;\n        }\n      }\n      bufferSize -= count;\n      return (buffer >>> bufferSize) & ((1 << count) - 1);\n    }\n    function skipMarkerIfEqual(value) {\n      if (\n        data[offset + position - 1] === 0xff &&\n        data[offset + position] === value\n      ) {\n        skipBytes(1);\n        return true;\n      } else if (\n        data[offset + position] === 0xff &&\n        data[offset + position + 1] === value\n      ) {\n        skipBytes(2);\n        return true;\n      }\n      return false;\n    }\n    function skipBytes(count) {\n      position += count;\n    }\n    function alignToByte() {\n      bufferSize = 0;\n      if (skipNextBit) {\n        position++;\n        skipNextBit = false;\n      }\n    }\n    function readCodingpasses() {\n      if (readBits(1) === 0) {\n        return 1;\n      }\n      if (readBits(1) === 0) {\n        return 2;\n      }\n      var value = readBits(2);\n      if (value < 3) {\n        return value + 3;\n      }\n      value = readBits(5);\n      if (value < 31) {\n        return value + 6;\n      }\n      value = readBits(7);\n      return value + 37;\n    }\n    var tileIndex = context.currentTile.index;\n    var tile = context.tiles[tileIndex];\n    var sopMarkerUsed = context.COD.sopMarkerUsed;\n    var ephMarkerUsed = context.COD.ephMarkerUsed;\n    var packetsIterator = tile.packetsIterator;\n    while (position < dataLength) {\n      alignToByte();\n      if (sopMarkerUsed && skipMarkerIfEqual(0x91)) {\n        // Skip also marker segment length and packet sequence ID\n        skipBytes(4);\n      }\n      var packet = packetsIterator.nextPacket();\n      if (!readBits(1)) {\n        continue;\n      }\n      var layerNumber = packet.layerNumber;\n      var queue = [],\n        codeblock;\n      for (var i = 0, ii = packet.codeblocks.length; i < ii; i++) {\n        codeblock = packet.codeblocks[i];\n        var precinct = codeblock.precinct;\n        var codeblockColumn = codeblock.cbx - precinct.cbxMin;\n        var codeblockRow = codeblock.cby - precinct.cbyMin;\n        var codeblockIncluded = false;\n        var firstTimeInclusion = false;\n        var valueReady;\n        if (codeblock.included !== undefined) {\n          codeblockIncluded = !!readBits(1);\n        } else {\n          // reading inclusion tree\n          precinct = codeblock.precinct;\n          var inclusionTree, zeroBitPlanesTree;\n          if (precinct.inclusionTree !== undefined) {\n            inclusionTree = precinct.inclusionTree;\n          } else {\n            // building inclusion and zero bit-planes trees\n            var width = precinct.cbxMax - precinct.cbxMin + 1;\n            var height = precinct.cbyMax - precinct.cbyMin + 1;\n            inclusionTree = new InclusionTree(width, height, layerNumber);\n            zeroBitPlanesTree = new TagTree(width, height);\n            precinct.inclusionTree = inclusionTree;\n            precinct.zeroBitPlanesTree = zeroBitPlanesTree;\n          }\n\n          if (inclusionTree.reset(codeblockColumn, codeblockRow, layerNumber)) {\n            while (true) {\n              if (readBits(1)) {\n                valueReady = !inclusionTree.nextLevel();\n                if (valueReady) {\n                  codeblock.included = true;\n                  codeblockIncluded = firstTimeInclusion = true;\n                  break;\n                }\n              } else {\n                inclusionTree.incrementValue(layerNumber);\n                break;\n              }\n            }\n          }\n        }\n        if (!codeblockIncluded) {\n          continue;\n        }\n        if (firstTimeInclusion) {\n          zeroBitPlanesTree = precinct.zeroBitPlanesTree;\n          zeroBitPlanesTree.reset(codeblockColumn, codeblockRow);\n          while (true) {\n            if (readBits(1)) {\n              valueReady = !zeroBitPlanesTree.nextLevel();\n              if (valueReady) {\n                break;\n              }\n            } else {\n              zeroBitPlanesTree.incrementValue();\n            }\n          }\n          codeblock.zeroBitPlanes = zeroBitPlanesTree.value;\n        }\n        var codingpasses = readCodingpasses();\n        while (readBits(1)) {\n          codeblock.Lblock++;\n        }\n        var codingpassesLog2 = log2(codingpasses);\n        // rounding down log2\n        var bits =\n          (codingpasses < 1 << codingpassesLog2\n            ? codingpassesLog2 - 1\n            : codingpassesLog2) + codeblock.Lblock;\n        var codedDataLength = readBits(bits);\n        queue.push({\n          codeblock,\n          codingpasses,\n          dataLength: codedDataLength,\n        });\n      }\n      alignToByte();\n      if (ephMarkerUsed) {\n        skipMarkerIfEqual(0x92);\n      }\n      while (queue.length > 0) {\n        var packetItem = queue.shift();\n        codeblock = packetItem.codeblock;\n        if (codeblock.data === undefined) {\n          codeblock.data = [];\n        }\n        codeblock.data.push({\n          data,\n          start: offset + position,\n          end: offset + position + packetItem.dataLength,\n          codingpasses: packetItem.codingpasses,\n        });\n        position += packetItem.dataLength;\n      }\n    }\n    return position;\n  }\n  function copyCoefficients(\n    coefficients,\n    levelWidth,\n    levelHeight,\n    subband,\n    delta,\n    mb,\n    reversible,\n    segmentationSymbolUsed\n  ) {\n    var x0 = subband.tbx0;\n    var y0 = subband.tby0;\n    var width = subband.tbx1 - subband.tbx0;\n    var codeblocks = subband.codeblocks;\n    var right = subband.type.charAt(0) === \"H\" ? 1 : 0;\n    var bottom = subband.type.charAt(1) === \"H\" ? levelWidth : 0;\n\n    for (var i = 0, ii = codeblocks.length; i < ii; ++i) {\n      var codeblock = codeblocks[i];\n      var blockWidth = codeblock.tbx1_ - codeblock.tbx0_;\n      var blockHeight = codeblock.tby1_ - codeblock.tby0_;\n      if (blockWidth === 0 || blockHeight === 0) {\n        continue;\n      }\n      if (codeblock.data === undefined) {\n        continue;\n      }\n\n      var bitModel, currentCodingpassType;\n      bitModel = new BitModel(\n        blockWidth,\n        blockHeight,\n        codeblock.subbandType,\n        codeblock.zeroBitPlanes,\n        mb\n      );\n      currentCodingpassType = 2; // first bit plane starts from cleanup\n\n      // collect data\n      var data = codeblock.data,\n        totalLength = 0,\n        codingpasses = 0;\n      var j, jj, dataItem;\n      for (j = 0, jj = data.length; j < jj; j++) {\n        dataItem = data[j];\n        totalLength += dataItem.end - dataItem.start;\n        codingpasses += dataItem.codingpasses;\n      }\n      var encodedData = new Uint8Array(totalLength);\n      var position = 0;\n      for (j = 0, jj = data.length; j < jj; j++) {\n        dataItem = data[j];\n        var chunk = dataItem.data.subarray(dataItem.start, dataItem.end);\n        encodedData.set(chunk, position);\n        position += chunk.length;\n      }\n      // decoding the item\n      var decoder = new ArithmeticDecoder(encodedData, 0, totalLength);\n      bitModel.setDecoder(decoder);\n\n      for (j = 0; j < codingpasses; j++) {\n        switch (currentCodingpassType) {\n          case 0:\n            bitModel.runSignificancePropagationPass();\n            break;\n          case 1:\n            bitModel.runMagnitudeRefinementPass();\n            break;\n          case 2:\n            bitModel.runCleanupPass();\n            if (segmentationSymbolUsed) {\n              bitModel.checkSegmentationSymbol();\n            }\n            break;\n        }\n        currentCodingpassType = (currentCodingpassType + 1) % 3;\n      }\n\n      var offset = codeblock.tbx0_ - x0 + (codeblock.tby0_ - y0) * width;\n      var sign = bitModel.coefficentsSign;\n      var magnitude = bitModel.coefficentsMagnitude;\n      var bitsDecoded = bitModel.bitsDecoded;\n      var magnitudeCorrection = reversible ? 0 : 0.5;\n      var k, n, nb;\n      position = 0;\n      // Do the interleaving of Section F.3.3 here, so we do not need\n      // to copy later. LL level is not interleaved, just copied.\n      var interleave = subband.type !== \"LL\";\n      for (j = 0; j < blockHeight; j++) {\n        var row = (offset / width) | 0; // row in the non-interleaved subband\n        var levelOffset = 2 * row * (levelWidth - width) + right + bottom;\n        for (k = 0; k < blockWidth; k++) {\n          n = magnitude[position];\n          if (n !== 0) {\n            n = (n + magnitudeCorrection) * delta;\n            if (sign[position] !== 0) {\n              n = -n;\n            }\n            nb = bitsDecoded[position];\n            var pos = interleave ? levelOffset + (offset << 1) : offset;\n            if (reversible && nb >= mb) {\n              coefficients[pos] = n;\n            } else {\n              coefficients[pos] = n * (1 << (mb - nb));\n            }\n          }\n          offset++;\n          position++;\n        }\n        offset += width - blockWidth;\n      }\n    }\n  }\n  function transformTile(context, tile, c) {\n    var component = tile.components[c];\n    var codingStyleParameters = component.codingStyleParameters;\n    var quantizationParameters = component.quantizationParameters;\n    var decompositionLevelsCount =\n      codingStyleParameters.decompositionLevelsCount;\n    var spqcds = quantizationParameters.SPqcds;\n    var scalarExpounded = quantizationParameters.scalarExpounded;\n    var guardBits = quantizationParameters.guardBits;\n    var segmentationSymbolUsed = codingStyleParameters.segmentationSymbolUsed;\n    var precision = context.components[c].precision;\n\n    var reversible = codingStyleParameters.reversibleTransformation;\n    var transform = reversible\n      ? new ReversibleTransform()\n      : new IrreversibleTransform();\n\n    var subbandCoefficients = [];\n    var b = 0;\n    for (var i = 0; i <= decompositionLevelsCount; i++) {\n      var resolution = component.resolutions[i];\n\n      var width = resolution.trx1 - resolution.trx0;\n      var height = resolution.try1 - resolution.try0;\n      // Allocate space for the whole sublevel.\n      var coefficients = new Float32Array(width * height);\n\n      for (var j = 0, jj = resolution.subbands.length; j < jj; j++) {\n        var mu, epsilon;\n        if (!scalarExpounded) {\n          // formula E-5\n          mu = spqcds[0].mu;\n          epsilon = spqcds[0].epsilon + (i > 0 ? 1 - i : 0);\n        } else {\n          mu = spqcds[b].mu;\n          epsilon = spqcds[b].epsilon;\n          b++;\n        }\n\n        var subband = resolution.subbands[j];\n        var gainLog2 = SubbandsGainLog2[subband.type];\n\n        // calculate quantization coefficient (Section E.1.1.1)\n        var delta = reversible\n          ? 1\n          : 2 ** (precision + gainLog2 - epsilon) * (1 + mu / 2048);\n        var mb = guardBits + epsilon - 1;\n\n        // In the first resolution level, copyCoefficients will fill the\n        // whole array with coefficients. In the succeeding passes,\n        // copyCoefficients will consecutively fill in the values that belong\n        // to the interleaved positions of the HL, LH, and HH coefficients.\n        // The LL coefficients will then be interleaved in Transform.iterate().\n        copyCoefficients(\n          coefficients,\n          width,\n          height,\n          subband,\n          delta,\n          mb,\n          reversible,\n          segmentationSymbolUsed\n        );\n      }\n      subbandCoefficients.push({\n        width,\n        height,\n        items: coefficients,\n      });\n    }\n\n    var result = transform.calculate(\n      subbandCoefficients,\n      component.tcx0,\n      component.tcy0\n    );\n    return {\n      left: component.tcx0,\n      top: component.tcy0,\n      width: result.width,\n      height: result.height,\n      items: result.items,\n    };\n  }\n  function transformComponents(context) {\n    var siz = context.SIZ;\n    var components = context.components;\n    var componentsCount = siz.Csiz;\n    var resultImages = [];\n    for (var i = 0, ii = context.tiles.length; i < ii; i++) {\n      var tile = context.tiles[i];\n      var transformedTiles = [];\n      var c;\n      for (c = 0; c < componentsCount; c++) {\n        transformedTiles[c] = transformTile(context, tile, c);\n      }\n      var tile0 = transformedTiles[0];\n      var out = new Uint8ClampedArray(tile0.items.length * componentsCount);\n      var result = {\n        left: tile0.left,\n        top: tile0.top,\n        width: tile0.width,\n        height: tile0.height,\n        items: out,\n      };\n\n      // Section G.2.2 Inverse multi component transform\n      var shift, offset;\n      var pos = 0,\n        j,\n        jj,\n        y0,\n        y1,\n        y2;\n      if (tile.codingStyleDefaultParameters.multipleComponentTransform) {\n        var fourComponents = componentsCount === 4;\n        var y0items = transformedTiles[0].items;\n        var y1items = transformedTiles[1].items;\n        var y2items = transformedTiles[2].items;\n        var y3items = fourComponents ? transformedTiles[3].items : null;\n\n        // HACK: The multiple component transform formulas below assume that\n        // all components have the same precision. With this in mind, we\n        // compute shift and offset only once.\n        shift = components[0].precision - 8;\n        offset = (128 << shift) + 0.5;\n\n        var component0 = tile.components[0];\n        var alpha01 = componentsCount - 3;\n        jj = y0items.length;\n        if (!component0.codingStyleParameters.reversibleTransformation) {\n          // inverse irreversible multiple component transform\n          for (j = 0; j < jj; j++, pos += alpha01) {\n            y0 = y0items[j] + offset;\n            y1 = y1items[j];\n            y2 = y2items[j];\n            out[pos++] = (y0 + 1.402 * y2) >> shift;\n            out[pos++] = (y0 - 0.34413 * y1 - 0.71414 * y2) >> shift;\n            out[pos++] = (y0 + 1.772 * y1) >> shift;\n          }\n        } else {\n          // inverse reversible multiple component transform\n          for (j = 0; j < jj; j++, pos += alpha01) {\n            y0 = y0items[j] + offset;\n            y1 = y1items[j];\n            y2 = y2items[j];\n            const g = y0 - ((y2 + y1) >> 2);\n\n            out[pos++] = (g + y2) >> shift;\n            out[pos++] = g >> shift;\n            out[pos++] = (g + y1) >> shift;\n          }\n        }\n        if (fourComponents) {\n          for (j = 0, pos = 3; j < jj; j++, pos += 4) {\n            out[pos] = (y3items[j] + offset) >> shift;\n          }\n        }\n      } else {\n        // no multi-component transform\n        for (c = 0; c < componentsCount; c++) {\n          var items = transformedTiles[c].items;\n          shift = components[c].precision - 8;\n          offset = (128 << shift) + 0.5;\n          for (pos = c, j = 0, jj = items.length; j < jj; j++) {\n            out[pos] = (items[j] + offset) >> shift;\n            pos += componentsCount;\n          }\n        }\n      }\n      resultImages.push(result);\n    }\n    return resultImages;\n  }\n  function initializeTile(context, tileIndex) {\n    var siz = context.SIZ;\n    var componentsCount = siz.Csiz;\n    var tile = context.tiles[tileIndex];\n    for (var c = 0; c < componentsCount; c++) {\n      var component = tile.components[c];\n      var qcdOrQcc =\n        context.currentTile.QCC[c] !== undefined\n          ? context.currentTile.QCC[c]\n          : context.currentTile.QCD;\n      component.quantizationParameters = qcdOrQcc;\n      var codOrCoc =\n        context.currentTile.COC[c] !== undefined\n          ? context.currentTile.COC[c]\n          : context.currentTile.COD;\n      component.codingStyleParameters = codOrCoc;\n    }\n    tile.codingStyleDefaultParameters = context.currentTile.COD;\n  }\n\n  // Section B.10.2 Tag trees\n  var TagTree = (function TagTreeClosure() {\n    // eslint-disable-next-line no-shadow\n    function TagTree(width, height) {\n      var levelsLength = log2(Math.max(width, height)) + 1;\n      this.levels = [];\n      for (var i = 0; i < levelsLength; i++) {\n        var level = {\n          width,\n          height,\n          items: [],\n        };\n        this.levels.push(level);\n        width = Math.ceil(width / 2);\n        height = Math.ceil(height / 2);\n      }\n    }\n    TagTree.prototype = {\n      reset: function TagTree_reset(i, j) {\n        var currentLevel = 0,\n          value = 0,\n          level;\n        while (currentLevel < this.levels.length) {\n          level = this.levels[currentLevel];\n          var index = i + j * level.width;\n          if (level.items[index] !== undefined) {\n            value = level.items[index];\n            break;\n          }\n          level.index = index;\n          i >>= 1;\n          j >>= 1;\n          currentLevel++;\n        }\n        currentLevel--;\n        level = this.levels[currentLevel];\n        level.items[level.index] = value;\n        this.currentLevel = currentLevel;\n        delete this.value;\n      },\n      incrementValue: function TagTree_incrementValue() {\n        var level = this.levels[this.currentLevel];\n        level.items[level.index]++;\n      },\n      nextLevel: function TagTree_nextLevel() {\n        var currentLevel = this.currentLevel;\n        var level = this.levels[currentLevel];\n        var value = level.items[level.index];\n        currentLevel--;\n        if (currentLevel < 0) {\n          this.value = value;\n          return false;\n        }\n\n        this.currentLevel = currentLevel;\n        level = this.levels[currentLevel];\n        level.items[level.index] = value;\n        return true;\n      },\n    };\n    return TagTree;\n  })();\n\n  var InclusionTree = (function InclusionTreeClosure() {\n    // eslint-disable-next-line no-shadow\n    function InclusionTree(width, height, defaultValue) {\n      var levelsLength = log2(Math.max(width, height)) + 1;\n      this.levels = [];\n      for (var i = 0; i < levelsLength; i++) {\n        var items = new Uint8Array(width * height);\n        for (var j = 0, jj = items.length; j < jj; j++) {\n          items[j] = defaultValue;\n        }\n\n        var level = {\n          width,\n          height,\n          items,\n        };\n        this.levels.push(level);\n\n        width = Math.ceil(width / 2);\n        height = Math.ceil(height / 2);\n      }\n    }\n    InclusionTree.prototype = {\n      reset: function InclusionTree_reset(i, j, stopValue) {\n        var currentLevel = 0;\n        while (currentLevel < this.levels.length) {\n          var level = this.levels[currentLevel];\n          var index = i + j * level.width;\n          level.index = index;\n          var value = level.items[index];\n\n          if (value === 0xff) {\n            break;\n          }\n\n          if (value > stopValue) {\n            this.currentLevel = currentLevel;\n            // already know about this one, propagating the value to top levels\n            this.propagateValues();\n            return false;\n          }\n\n          i >>= 1;\n          j >>= 1;\n          currentLevel++;\n        }\n        this.currentLevel = currentLevel - 1;\n        return true;\n      },\n      incrementValue: function InclusionTree_incrementValue(stopValue) {\n        var level = this.levels[this.currentLevel];\n        level.items[level.index] = stopValue + 1;\n        this.propagateValues();\n      },\n      propagateValues: function InclusionTree_propagateValues() {\n        var levelIndex = this.currentLevel;\n        var level = this.levels[levelIndex];\n        var currentValue = level.items[level.index];\n        while (--levelIndex >= 0) {\n          level = this.levels[levelIndex];\n          level.items[level.index] = currentValue;\n        }\n      },\n      nextLevel: function InclusionTree_nextLevel() {\n        var currentLevel = this.currentLevel;\n        var level = this.levels[currentLevel];\n        var value = level.items[level.index];\n        level.items[level.index] = 0xff;\n        currentLevel--;\n        if (currentLevel < 0) {\n          return false;\n        }\n\n        this.currentLevel = currentLevel;\n        level = this.levels[currentLevel];\n        level.items[level.index] = value;\n        return true;\n      },\n    };\n    return InclusionTree;\n  })();\n\n  // Section D. Coefficient bit modeling\n  var BitModel = (function BitModelClosure() {\n    var UNIFORM_CONTEXT = 17;\n    var RUNLENGTH_CONTEXT = 18;\n    // Table D-1\n    // The index is binary presentation: 0dddvvhh, ddd - sum of Di (0..4),\n    // vv - sum of Vi (0..2), and hh - sum of Hi (0..2)\n    // prettier-ignore\n    var LLAndLHContextsLabel = new Uint8Array([\n      0, 5, 8, 0, 3, 7, 8, 0, 4, 7, 8, 0, 0, 0, 0, 0, 1, 6, 8, 0, 3, 7, 8, 0, 4,\n      7, 8, 0, 0, 0, 0, 0, 2, 6, 8, 0, 3, 7, 8, 0, 4, 7, 8, 0, 0, 0, 0, 0, 2, 6,\n      8, 0, 3, 7, 8, 0, 4, 7, 8, 0, 0, 0, 0, 0, 2, 6, 8, 0, 3, 7, 8, 0, 4, 7, 8\n    ]);\n    // prettier-ignore\n    var HLContextLabel = new Uint8Array([\n      0, 3, 4, 0, 5, 7, 7, 0, 8, 8, 8, 0, 0, 0, 0, 0, 1, 3, 4, 0, 6, 7, 7, 0, 8,\n      8, 8, 0, 0, 0, 0, 0, 2, 3, 4, 0, 6, 7, 7, 0, 8, 8, 8, 0, 0, 0, 0, 0, 2, 3,\n      4, 0, 6, 7, 7, 0, 8, 8, 8, 0, 0, 0, 0, 0, 2, 3, 4, 0, 6, 7, 7, 0, 8, 8, 8\n    ]);\n    // prettier-ignore\n    var HHContextLabel = new Uint8Array([\n      0, 1, 2, 0, 1, 2, 2, 0, 2, 2, 2, 0, 0, 0, 0, 0, 3, 4, 5, 0, 4, 5, 5, 0, 5,\n      5, 5, 0, 0, 0, 0, 0, 6, 7, 7, 0, 7, 7, 7, 0, 7, 7, 7, 0, 0, 0, 0, 0, 8, 8,\n      8, 0, 8, 8, 8, 0, 8, 8, 8, 0, 0, 0, 0, 0, 8, 8, 8, 0, 8, 8, 8, 0, 8, 8, 8\n    ]);\n\n    // eslint-disable-next-line no-shadow\n    function BitModel(width, height, subband, zeroBitPlanes, mb) {\n      this.width = width;\n      this.height = height;\n\n      let contextLabelTable;\n      if (subband === \"HH\") {\n        contextLabelTable = HHContextLabel;\n      } else if (subband === \"HL\") {\n        contextLabelTable = HLContextLabel;\n      } else {\n        contextLabelTable = LLAndLHContextsLabel;\n      }\n      this.contextLabelTable = contextLabelTable;\n\n      var coefficientCount = width * height;\n\n      // coefficients outside the encoding region treated as insignificant\n      // add border state cells for significanceState\n      this.neighborsSignificance = new Uint8Array(coefficientCount);\n      this.coefficentsSign = new Uint8Array(coefficientCount);\n      let coefficentsMagnitude;\n      if (mb > 14) {\n        coefficentsMagnitude = new Uint32Array(coefficientCount);\n      } else if (mb > 6) {\n        coefficentsMagnitude = new Uint16Array(coefficientCount);\n      } else {\n        coefficentsMagnitude = new Uint8Array(coefficientCount);\n      }\n      this.coefficentsMagnitude = coefficentsMagnitude;\n      this.processingFlags = new Uint8Array(coefficientCount);\n\n      var bitsDecoded = new Uint8Array(coefficientCount);\n      if (zeroBitPlanes !== 0) {\n        for (var i = 0; i < coefficientCount; i++) {\n          bitsDecoded[i] = zeroBitPlanes;\n        }\n      }\n      this.bitsDecoded = bitsDecoded;\n\n      this.reset();\n    }\n\n    BitModel.prototype = {\n      setDecoder: function BitModel_setDecoder(decoder) {\n        this.decoder = decoder;\n      },\n      reset: function BitModel_reset() {\n        // We have 17 contexts that are accessed via context labels,\n        // plus the uniform and runlength context.\n        this.contexts = new Int8Array(19);\n\n        // Contexts are packed into 1 byte:\n        // highest 7 bits carry the index, lowest bit carries mps\n        this.contexts[0] = (4 << 1) | 0;\n        this.contexts[UNIFORM_CONTEXT] = (46 << 1) | 0;\n        this.contexts[RUNLENGTH_CONTEXT] = (3 << 1) | 0;\n      },\n      setNeighborsSignificance: function BitModel_setNeighborsSignificance(\n        row,\n        column,\n        index\n      ) {\n        var neighborsSignificance = this.neighborsSignificance;\n        var width = this.width,\n          height = this.height;\n        var left = column > 0;\n        var right = column + 1 < width;\n        var i;\n\n        if (row > 0) {\n          i = index - width;\n          if (left) {\n            neighborsSignificance[i - 1] += 0x10;\n          }\n          if (right) {\n            neighborsSignificance[i + 1] += 0x10;\n          }\n          neighborsSignificance[i] += 0x04;\n        }\n\n        if (row + 1 < height) {\n          i = index + width;\n          if (left) {\n            neighborsSignificance[i - 1] += 0x10;\n          }\n          if (right) {\n            neighborsSignificance[i + 1] += 0x10;\n          }\n          neighborsSignificance[i] += 0x04;\n        }\n\n        if (left) {\n          neighborsSignificance[index - 1] += 0x01;\n        }\n        if (right) {\n          neighborsSignificance[index + 1] += 0x01;\n        }\n        neighborsSignificance[index] |= 0x80;\n      },\n      runSignificancePropagationPass: function BitModel_runSignificancePropagationPass() {\n        var decoder = this.decoder;\n        var width = this.width,\n          height = this.height;\n        var coefficentsMagnitude = this.coefficentsMagnitude;\n        var coefficentsSign = this.coefficentsSign;\n        var neighborsSignificance = this.neighborsSignificance;\n        var processingFlags = this.processingFlags;\n        var contexts = this.contexts;\n        var labels = this.contextLabelTable;\n        var bitsDecoded = this.bitsDecoded;\n        var processedInverseMask = ~1;\n        var processedMask = 1;\n        var firstMagnitudeBitMask = 2;\n\n        for (var i0 = 0; i0 < height; i0 += 4) {\n          for (var j = 0; j < width; j++) {\n            var index = i0 * width + j;\n            for (var i1 = 0; i1 < 4; i1++, index += width) {\n              var i = i0 + i1;\n              if (i >= height) {\n                break;\n              }\n              // clear processed flag first\n              processingFlags[index] &= processedInverseMask;\n\n              if (\n                coefficentsMagnitude[index] ||\n                !neighborsSignificance[index]\n              ) {\n                continue;\n              }\n\n              var contextLabel = labels[neighborsSignificance[index]];\n              var decision = decoder.readBit(contexts, contextLabel);\n              if (decision) {\n                var sign = this.decodeSignBit(i, j, index);\n                coefficentsSign[index] = sign;\n                coefficentsMagnitude[index] = 1;\n                this.setNeighborsSignificance(i, j, index);\n                processingFlags[index] |= firstMagnitudeBitMask;\n              }\n              bitsDecoded[index]++;\n              processingFlags[index] |= processedMask;\n            }\n          }\n        }\n      },\n      decodeSignBit: function BitModel_decodeSignBit(row, column, index) {\n        var width = this.width,\n          height = this.height;\n        var coefficentsMagnitude = this.coefficentsMagnitude;\n        var coefficentsSign = this.coefficentsSign;\n        var contribution, sign0, sign1, significance1;\n        var contextLabel, decoded;\n\n        // calculate horizontal contribution\n        significance1 = column > 0 && coefficentsMagnitude[index - 1] !== 0;\n        if (column + 1 < width && coefficentsMagnitude[index + 1] !== 0) {\n          sign1 = coefficentsSign[index + 1];\n          if (significance1) {\n            sign0 = coefficentsSign[index - 1];\n            contribution = 1 - sign1 - sign0;\n          } else {\n            contribution = 1 - sign1 - sign1;\n          }\n        } else if (significance1) {\n          sign0 = coefficentsSign[index - 1];\n          contribution = 1 - sign0 - sign0;\n        } else {\n          contribution = 0;\n        }\n        var horizontalContribution = 3 * contribution;\n\n        // calculate vertical contribution and combine with the horizontal\n        significance1 = row > 0 && coefficentsMagnitude[index - width] !== 0;\n        if (row + 1 < height && coefficentsMagnitude[index + width] !== 0) {\n          sign1 = coefficentsSign[index + width];\n          if (significance1) {\n            sign0 = coefficentsSign[index - width];\n            contribution = 1 - sign1 - sign0 + horizontalContribution;\n          } else {\n            contribution = 1 - sign1 - sign1 + horizontalContribution;\n          }\n        } else if (significance1) {\n          sign0 = coefficentsSign[index - width];\n          contribution = 1 - sign0 - sign0 + horizontalContribution;\n        } else {\n          contribution = horizontalContribution;\n        }\n\n        if (contribution >= 0) {\n          contextLabel = 9 + contribution;\n          decoded = this.decoder.readBit(this.contexts, contextLabel);\n        } else {\n          contextLabel = 9 - contribution;\n          decoded = this.decoder.readBit(this.contexts, contextLabel) ^ 1;\n        }\n        return decoded;\n      },\n      runMagnitudeRefinementPass: function BitModel_runMagnitudeRefinementPass() {\n        var decoder = this.decoder;\n        var width = this.width,\n          height = this.height;\n        var coefficentsMagnitude = this.coefficentsMagnitude;\n        var neighborsSignificance = this.neighborsSignificance;\n        var contexts = this.contexts;\n        var bitsDecoded = this.bitsDecoded;\n        var processingFlags = this.processingFlags;\n        var processedMask = 1;\n        var firstMagnitudeBitMask = 2;\n        var length = width * height;\n        var width4 = width * 4;\n\n        for (var index0 = 0, indexNext; index0 < length; index0 = indexNext) {\n          indexNext = Math.min(length, index0 + width4);\n          for (var j = 0; j < width; j++) {\n            for (var index = index0 + j; index < indexNext; index += width) {\n              // significant but not those that have just become\n              if (\n                !coefficentsMagnitude[index] ||\n                (processingFlags[index] & processedMask) !== 0\n              ) {\n                continue;\n              }\n\n              var contextLabel = 16;\n              if ((processingFlags[index] & firstMagnitudeBitMask) !== 0) {\n                processingFlags[index] ^= firstMagnitudeBitMask;\n                // first refinement\n                var significance = neighborsSignificance[index] & 127;\n                contextLabel = significance === 0 ? 15 : 14;\n              }\n\n              var bit = decoder.readBit(contexts, contextLabel);\n              coefficentsMagnitude[index] =\n                (coefficentsMagnitude[index] << 1) | bit;\n              bitsDecoded[index]++;\n              processingFlags[index] |= processedMask;\n            }\n          }\n        }\n      },\n      runCleanupPass: function BitModel_runCleanupPass() {\n        var decoder = this.decoder;\n        var width = this.width,\n          height = this.height;\n        var neighborsSignificance = this.neighborsSignificance;\n        var coefficentsMagnitude = this.coefficentsMagnitude;\n        var coefficentsSign = this.coefficentsSign;\n        var contexts = this.contexts;\n        var labels = this.contextLabelTable;\n        var bitsDecoded = this.bitsDecoded;\n        var processingFlags = this.processingFlags;\n        var processedMask = 1;\n        var firstMagnitudeBitMask = 2;\n        var oneRowDown = width;\n        var twoRowsDown = width * 2;\n        var threeRowsDown = width * 3;\n        var iNext;\n        for (var i0 = 0; i0 < height; i0 = iNext) {\n          iNext = Math.min(i0 + 4, height);\n          var indexBase = i0 * width;\n          var checkAllEmpty = i0 + 3 < height;\n          for (var j = 0; j < width; j++) {\n            var index0 = indexBase + j;\n            // using the property: labels[neighborsSignificance[index]] === 0\n            // when neighborsSignificance[index] === 0\n            var allEmpty =\n              checkAllEmpty &&\n              processingFlags[index0] === 0 &&\n              processingFlags[index0 + oneRowDown] === 0 &&\n              processingFlags[index0 + twoRowsDown] === 0 &&\n              processingFlags[index0 + threeRowsDown] === 0 &&\n              neighborsSignificance[index0] === 0 &&\n              neighborsSignificance[index0 + oneRowDown] === 0 &&\n              neighborsSignificance[index0 + twoRowsDown] === 0 &&\n              neighborsSignificance[index0 + threeRowsDown] === 0;\n            var i1 = 0,\n              index = index0;\n            var i = i0,\n              sign;\n            if (allEmpty) {\n              var hasSignificantCoefficent = decoder.readBit(\n                contexts,\n                RUNLENGTH_CONTEXT\n              );\n              if (!hasSignificantCoefficent) {\n                bitsDecoded[index0]++;\n                bitsDecoded[index0 + oneRowDown]++;\n                bitsDecoded[index0 + twoRowsDown]++;\n                bitsDecoded[index0 + threeRowsDown]++;\n                continue; // next column\n              }\n              i1 =\n                (decoder.readBit(contexts, UNIFORM_CONTEXT) << 1) |\n                decoder.readBit(contexts, UNIFORM_CONTEXT);\n              if (i1 !== 0) {\n                i = i0 + i1;\n                index += i1 * width;\n              }\n\n              sign = this.decodeSignBit(i, j, index);\n              coefficentsSign[index] = sign;\n              coefficentsMagnitude[index] = 1;\n              this.setNeighborsSignificance(i, j, index);\n              processingFlags[index] |= firstMagnitudeBitMask;\n\n              index = index0;\n              for (var i2 = i0; i2 <= i; i2++, index += width) {\n                bitsDecoded[index]++;\n              }\n\n              i1++;\n            }\n            for (i = i0 + i1; i < iNext; i++, index += width) {\n              if (\n                coefficentsMagnitude[index] ||\n                (processingFlags[index] & processedMask) !== 0\n              ) {\n                continue;\n              }\n\n              var contextLabel = labels[neighborsSignificance[index]];\n              var decision = decoder.readBit(contexts, contextLabel);\n              if (decision === 1) {\n                sign = this.decodeSignBit(i, j, index);\n                coefficentsSign[index] = sign;\n                coefficentsMagnitude[index] = 1;\n                this.setNeighborsSignificance(i, j, index);\n                processingFlags[index] |= firstMagnitudeBitMask;\n              }\n              bitsDecoded[index]++;\n            }\n          }\n        }\n      },\n      checkSegmentationSymbol: function BitModel_checkSegmentationSymbol() {\n        var decoder = this.decoder;\n        var contexts = this.contexts;\n        var symbol =\n          (decoder.readBit(contexts, UNIFORM_CONTEXT) << 3) |\n          (decoder.readBit(contexts, UNIFORM_CONTEXT) << 2) |\n          (decoder.readBit(contexts, UNIFORM_CONTEXT) << 1) |\n          decoder.readBit(contexts, UNIFORM_CONTEXT);\n        if (symbol !== 0xa) {\n          throw new JpxError(\"Invalid segmentation symbol\");\n        }\n      },\n    };\n\n    return BitModel;\n  })();\n\n  // Section F, Discrete wavelet transformation\n  var Transform = (function TransformClosure() {\n    // eslint-disable-next-line no-shadow\n    function Transform() {}\n\n    Transform.prototype.calculate = function transformCalculate(\n      subbands,\n      u0,\n      v0\n    ) {\n      var ll = subbands[0];\n      for (var i = 1, ii = subbands.length; i < ii; i++) {\n        ll = this.iterate(ll, subbands[i], u0, v0);\n      }\n      return ll;\n    };\n    Transform.prototype.extend = function extend(buffer, offset, size) {\n      // Section F.3.7 extending... using max extension of 4\n      var i1 = offset - 1,\n        j1 = offset + 1;\n      var i2 = offset + size - 2,\n        j2 = offset + size;\n      buffer[i1--] = buffer[j1++];\n      buffer[j2++] = buffer[i2--];\n      buffer[i1--] = buffer[j1++];\n      buffer[j2++] = buffer[i2--];\n      buffer[i1--] = buffer[j1++];\n      buffer[j2++] = buffer[i2--];\n      buffer[i1] = buffer[j1];\n      buffer[j2] = buffer[i2];\n    };\n    Transform.prototype.iterate = function Transform_iterate(\n      ll,\n      hl_lh_hh,\n      u0,\n      v0\n    ) {\n      var llWidth = ll.width,\n        llHeight = ll.height,\n        llItems = ll.items;\n      var width = hl_lh_hh.width;\n      var height = hl_lh_hh.height;\n      var items = hl_lh_hh.items;\n      var i, j, k, l, u, v;\n\n      // Interleave LL according to Section F.3.3\n      for (k = 0, i = 0; i < llHeight; i++) {\n        l = i * 2 * width;\n        for (j = 0; j < llWidth; j++, k++, l += 2) {\n          items[l] = llItems[k];\n        }\n      }\n      // The LL band is not needed anymore.\n      llItems = ll.items = null;\n\n      var bufferPadding = 4;\n      var rowBuffer = new Float32Array(width + 2 * bufferPadding);\n\n      // Section F.3.4 HOR_SR\n      if (width === 1) {\n        // if width = 1, when u0 even keep items as is, when odd divide by 2\n        if ((u0 & 1) !== 0) {\n          for (v = 0, k = 0; v < height; v++, k += width) {\n            items[k] *= 0.5;\n          }\n        }\n      } else {\n        for (v = 0, k = 0; v < height; v++, k += width) {\n          rowBuffer.set(items.subarray(k, k + width), bufferPadding);\n\n          this.extend(rowBuffer, bufferPadding, width);\n          this.filter(rowBuffer, bufferPadding, width);\n\n          items.set(\n            rowBuffer.subarray(bufferPadding, bufferPadding + width),\n            k\n          );\n        }\n      }\n\n      // Accesses to the items array can take long, because it may not fit into\n      // CPU cache and has to be fetched from main memory. Since subsequent\n      // accesses to the items array are not local when reading columns, we\n      // have a cache miss every time. To reduce cache misses, get up to\n      // 'numBuffers' items at a time and store them into the individual\n      // buffers. The colBuffers should be small enough to fit into CPU cache.\n      var numBuffers = 16;\n      var colBuffers = [];\n      for (i = 0; i < numBuffers; i++) {\n        colBuffers.push(new Float32Array(height + 2 * bufferPadding));\n      }\n      var b,\n        currentBuffer = 0;\n      ll = bufferPadding + height;\n\n      // Section F.3.5 VER_SR\n      if (height === 1) {\n        // if height = 1, when v0 even keep items as is, when odd divide by 2\n        if ((v0 & 1) !== 0) {\n          for (u = 0; u < width; u++) {\n            items[u] *= 0.5;\n          }\n        }\n      } else {\n        for (u = 0; u < width; u++) {\n          // if we ran out of buffers, copy several image columns at once\n          if (currentBuffer === 0) {\n            numBuffers = Math.min(width - u, numBuffers);\n            for (k = u, l = bufferPadding; l < ll; k += width, l++) {\n              for (b = 0; b < numBuffers; b++) {\n                colBuffers[b][l] = items[k + b];\n              }\n            }\n            currentBuffer = numBuffers;\n          }\n\n          currentBuffer--;\n          var buffer = colBuffers[currentBuffer];\n          this.extend(buffer, bufferPadding, height);\n          this.filter(buffer, bufferPadding, height);\n\n          // If this is last buffer in this group of buffers, flush all buffers.\n          if (currentBuffer === 0) {\n            k = u - numBuffers + 1;\n            for (l = bufferPadding; l < ll; k += width, l++) {\n              for (b = 0; b < numBuffers; b++) {\n                items[k + b] = colBuffers[b][l];\n              }\n            }\n          }\n        }\n      }\n\n      return {\n        width,\n        height,\n        items,\n      };\n    };\n    return Transform;\n  })();\n\n  // Section 3.8.2 Irreversible 9-7 filter\n  var IrreversibleTransform = (function IrreversibleTransformClosure() {\n    // eslint-disable-next-line no-shadow\n    function IrreversibleTransform() {\n      Transform.call(this);\n    }\n\n    IrreversibleTransform.prototype = Object.create(Transform.prototype);\n    IrreversibleTransform.prototype.filter = function irreversibleTransformFilter(\n      x,\n      offset,\n      length\n    ) {\n      var len = length >> 1;\n      offset = offset | 0;\n      var j, n, current, next;\n\n      var alpha = -1.586134342059924;\n      var beta = -0.052980118572961;\n      var gamma = 0.882911075530934;\n      var delta = 0.443506852043971;\n      var K = 1.230174104914001;\n      var K_ = 1 / K;\n\n      // step 1 is combined with step 3\n\n      // step 2\n      j = offset - 3;\n      for (n = len + 4; n--; j += 2) {\n        x[j] *= K_;\n      }\n\n      // step 1 & 3\n      j = offset - 2;\n      current = delta * x[j - 1];\n      for (n = len + 3; n--; j += 2) {\n        next = delta * x[j + 1];\n        x[j] = K * x[j] - current - next;\n        if (n--) {\n          j += 2;\n          current = delta * x[j + 1];\n          x[j] = K * x[j] - current - next;\n        } else {\n          break;\n        }\n      }\n\n      // step 4\n      j = offset - 1;\n      current = gamma * x[j - 1];\n      for (n = len + 2; n--; j += 2) {\n        next = gamma * x[j + 1];\n        x[j] -= current + next;\n        if (n--) {\n          j += 2;\n          current = gamma * x[j + 1];\n          x[j] -= current + next;\n        } else {\n          break;\n        }\n      }\n\n      // step 5\n      j = offset;\n      current = beta * x[j - 1];\n      for (n = len + 1; n--; j += 2) {\n        next = beta * x[j + 1];\n        x[j] -= current + next;\n        if (n--) {\n          j += 2;\n          current = beta * x[j + 1];\n          x[j] -= current + next;\n        } else {\n          break;\n        }\n      }\n\n      // step 6\n      if (len !== 0) {\n        j = offset + 1;\n        current = alpha * x[j - 1];\n        for (n = len; n--; j += 2) {\n          next = alpha * x[j + 1];\n          x[j] -= current + next;\n          if (n--) {\n            j += 2;\n            current = alpha * x[j + 1];\n            x[j] -= current + next;\n          } else {\n            break;\n          }\n        }\n      }\n    };\n\n    return IrreversibleTransform;\n  })();\n\n  // Section 3.8.1 Reversible 5-3 filter\n  var ReversibleTransform = (function ReversibleTransformClosure() {\n    // eslint-disable-next-line no-shadow\n    function ReversibleTransform() {\n      Transform.call(this);\n    }\n\n    ReversibleTransform.prototype = Object.create(Transform.prototype);\n    ReversibleTransform.prototype.filter = function reversibleTransformFilter(\n      x,\n      offset,\n      length\n    ) {\n      var len = length >> 1;\n      offset = offset | 0;\n      var j, n;\n\n      for (j = offset, n = len + 1; n--; j += 2) {\n        x[j] -= (x[j - 1] + x[j + 1] + 2) >> 2;\n      }\n\n      for (j = offset + 1, n = len; n--; j += 2) {\n        x[j] += (x[j - 1] + x[j + 1]) >> 1;\n      }\n    };\n\n    return ReversibleTransform;\n  })();\n\n  return JpxImage;\n})();\n\nexport { JpxImage };\n"],"sourceRoot":""}